// This software uses the following Open Source software:
// - log4javascript
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Copyright by Tim Down
//	* Source: http://www.apache.org/licenses/
// - a simplified (and thus modified) version of stringencoding
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Source: http://code.google.com/p/stringencoding/

function h(a){throw a;}var i=void 0,k=!0,l=null,o=!1;function q(){return function(){}}function s(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function u(a){return function(){return a}}var ja,ta;
(function(){function a(a){var b=0;this.get=function(){return b>=a.length?-1:Number(a[b])};this.fd=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};this.match=function(c){if(c.length>b+a.length)return o;var d;for(d=0;d<c.length;d+=1)if(Number(a[b+d])!==c[d])return o;return k}}function b(a){var b=0;this.get=function(){return b>=a.length?-1:a[b]};this.fd=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};
this.match=function(c){if(c.length>b+a.length)return o;var d;for(d=0;d<c.length;d+=1)if(a[b+d]!==c[d])return o;return k}}function c(a){var b=0;this.sf=function(c){var d=-1,e;for(e=0;e<arguments.length;++e)d=Number(arguments[e]),a[b++]=d;return d}}function d(a){var b=0,c=function(){for(var b=[],c=0,d=a.length;c<a.length;){var e=a.charCodeAt(c);if(55296<=e&&57343>=e)if(56320<=e&&57343>=e)b.push(65533);else if(c===d-1)b.push(65533);else{var f=a.charCodeAt(c+1);56320<=f&&57343>=f?(e&=1023,f&=1023,c+=
1,b.push(65536+(e<<10)+f)):b.push(65533)}else b.push(e);c+=1}return b}();this.fd=function(a){b+=a;0>b&&h(Error("Seeking past start of the buffer"));b>c.length&&h(Error("Seeking past EOF"))};this.get=function(){return b>=c.length?-1:c[b]}}function e(){var a="";this.Yu=function(){return a};this.sf=function(b){65535>=b?a+=String.fromCharCode(b):(b-=65536,a+=String.fromCharCode(55296+(b>>10&1023)),a+=String.fromCharCode(56320+(b&1023)))}}function f(a){a=(""+a).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(m,
a))return m[a];h(Error("EncodingError: Unknown encoding: "+a))}function g(a,b){var c=b.ad;this.vh=function(b){var d=b.get();if(-1===d)return-1;b.fd(1);if(0<=d&&127>=d)return d;b=a[d-128];b===l&&(c&&h(Error("EncodingError")),b=65533);return b}}function j(a){this.Xd=function(b,c){var d=c.get();if(-1===d)return-1;c.fd(1);if(0<=d&&127>=d)return b.sf(d);d=a.indexOf(d);d=-1===d?l:d;d===l&&h(Error("EncodingError"));return b.sf(d+128)}}var n={},m={};[{$s:[{Da:"csisolatin2,iso-8859-2,iso-ir-101,iso8859-2,iso_8859-2,l2,latin2".split(","),
name:"iso-8859-2"},{Da:"csisolatin3,iso-8859-3,iso_8859-3,iso-ir-109,l3,latin3".split(","),name:"iso-8859-3"},{Da:"csisolatin4,iso-8859-4,iso_8859-4,iso-ir-110,l4,latin4".split(","),name:"iso-8859-4"},{Da:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{Da:"arabic,csisolatinarabic,ecma-114,iso-8859-6,iso_8859-6,iso-ir-127".split(","),name:"iso-8859-6"},{Da:"csisolatingreek,ecma-118,elot_928,greek,greek8,iso-8859-7,iso_8859-7,iso-ir-126".split(","),name:"iso-8859-7"},
{Da:"csisolatinhebrew,hebrew,iso-8859-8,iso-8859-8-i,iso-ir-138,iso_8859-8,visual".split(","),name:"iso-8859-8"},{Da:"csisolatin6,iso-8859-10,iso-ir-157,iso8859-10,l6,latin6".split(","),name:"iso-8859-10"},{Da:["iso-8859-13"],name:"iso-8859-13"},{Da:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{Da:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{Da:["iso-8859-16"],name:"iso-8859-16"},{Da:"ascii,ansi_x3.4-1968,csisolatin1,iso-8859-1,iso8859-1,iso_8859-1,l1,latin1,us-ascii,windows-1252".split(","),
name:"windows-1252"}],heading:"Legacy single-byte encodings"}].forEach(function(a){a.$s.forEach(function(a){n[a.name]=a;a.Da.forEach(function(b){m[b]=a})})});var v={"iso-8859-2":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,728,321,164,317,346,167,168,352,350,356,377,173,381,379,176,261,731,322,180,318,347,711,184,353,351,357,378,733,382,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,
323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"iso-8859-3":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,294,728,163,164,l,292,167,168,304,350,286,308,173,l,379,176,295,178,179,180,181,293,183,184,305,351,287,309,189,l,380,192,193,194,l,196,266,264,199,200,201,202,203,204,
205,206,207,l,209,210,211,212,288,214,215,284,217,218,219,220,364,348,223,224,225,226,l,228,267,265,231,232,233,234,235,236,237,238,239,l,241,242,243,244,289,246,247,285,249,250,251,252,365,349,729],"iso-8859-4":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,312,342,164,296,315,167,168,352,274,290,358,173,381,175,176,261,731,343,180,297,316,711,184,353,275,291,359,330,382,331,256,193,194,195,196,197,198,302,
268,201,280,203,278,205,206,298,272,325,332,310,212,213,214,215,216,370,218,219,220,360,362,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,299,273,326,333,311,244,245,246,247,248,371,250,251,252,361,363,729],"iso-8859-5":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,173,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,
1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,8470,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,167,1118,1119],"iso-8859-6":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,l,l,164,l,l,l,
l,l,l,l,1548,173,l,l,l,l,l,l,l,l,l,l,l,l,l,1563,l,l,l,1567,l,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,l,l,l,l,l,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,l,l,l,l,l,l,l,l,l,l,l,l,l],"iso-8859-7":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8216,8217,163,8364,8367,166,167,
168,169,890,171,172,173,l,8213,176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,l,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,l],"iso-8859-8":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,162,163,
164,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,8215,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,l,l,8206,8207,l],"iso-8859-10":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,274,290,298,296,310,167,
315,272,352,358,381,173,362,330,176,261,275,291,299,297,311,183,316,273,353,359,382,8213,363,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,207,208,325,332,211,212,213,214,360,216,370,218,219,220,221,222,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,239,240,326,333,243,244,245,246,361,248,371,250,251,252,253,254,312],"iso-8859-13":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,
8221,162,163,164,8222,166,167,216,169,342,171,172,173,174,198,176,177,178,179,8220,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,8217],"iso-8859-14":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,
154,155,156,157,158,159,160,7682,7683,163,266,267,7690,167,7808,169,7810,7691,7922,173,174,376,7710,7711,288,289,7744,7745,182,7766,7809,7767,7811,7776,7923,7812,7813,7777,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,372,209,210,211,212,213,214,7786,216,217,218,219,220,221,374,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,373,241,242,243,244,245,246,7787,248,249,250,251,252,253,375,255],"iso-8859-15":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,
142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,8364,165,352,167,353,169,170,171,172,173,174,175,176,177,178,179,381,181,182,183,382,185,186,187,338,339,376,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"iso-8859-16":[128,129,130,131,132,133,134,
135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,261,321,8364,8222,352,167,353,169,536,171,377,173,378,379,176,177,268,322,381,8221,182,183,382,269,537,187,338,339,376,380,192,193,194,258,196,262,198,199,200,201,202,203,204,205,206,207,272,323,210,211,212,336,214,346,368,217,218,219,220,280,538,223,224,225,226,259,228,263,230,231,232,233,234,235,236,237,238,239,273,324,242,243,244,337,246,347,369,249,250,251,252,281,539,255],"windows-1252":[8364,
129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,
251,252,253,254,255]};(function(){"iso-8859-2,iso-8859-3,iso-8859-4,iso-8859-5,iso-8859-6,iso-8859-7,iso-8859-8,iso-8859-10,iso-8859-13,iso-8859-14,iso-8859-15,iso-8859-16,windows-1252".split(",").forEach(function(a){var b=n[a],c=v[a];b.pt=function(a){return new g(c,a)};b.tt=function(){return new j(c)}})})();ta=function(a,b){b=Object(b);this.gc=f(a?""+a:"utf-8");this.jh=o;this.Nc=l;this.xk={ad:Boolean(b.ad)};Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.gc.name}}):
this.encoding=this.gc.name;return this};ta.prototype={Xd:function(a,b){if(!this.jh)this.Nc=this.gc.tt();this.jh=Boolean(Object(b).Hx);for(var e=[],f=new c(e),g=new d(a?""+a:"");-1!==g.get();)this.Nc.Xd(f,g);if(!this.jh){var j;do j=this.Nc.Xd(f,g);while(-1!==j);this.Nc=l}return new Uint8Array(e)}};ja=function(a,b){b=Object(b);this.gc=f(a?""+a:"utf-8");this.xk={ad:Boolean(b.ad)};this.vg=this.gc.pt(this.xk);Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.gc.name}}):
this.encoding=this.gc.name;return this};ja.prototype={vh:function(b){b&&!("buffer"in b&&"byteOffset"in b&&"byteLength"in b)&&h(new TypeError("Expected ArrayBufferView"));b||(b=new Uint8Array(0));b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return this.tj(new a(b))},Ts:function(a){a||h(new TypeError("Expected array of bytes"));return this.tj(new b(a))},tj:function(a){for(var b=new e,c;-1!==a.get();)c=this.vg.vh(a),c!==l&&-1!==c&&b.sf(c);return b.Yu()}}})();
if(!Array.prototype.push)Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)this[this.length]=arguments[a];return this.length};if(!Array.prototype.shift)Array.prototype.shift=function(){if(0<this.length){for(var a=this[0],b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];this.length-=1;return a}};
if(!Array.prototype.splice)Array.prototype.splice=function(a,b){var c=this.slice(a+b),d=this.slice(a,a+b);this.length=a;for(var e=[],f=0,g=arguments.length;f<g;f++)e[f]=arguments[f];c=2<e.length?e.slice(2).concat(c):c;for(f=0,g=c.length;f<g;f++)this.push(c[f]);return d};
var x=function(){function a(b){for(var c=l,d,e=0,f=kd.length;e<f;e++){d=kd[e];try{return c=d(),a=d,c}catch(g){}}b?b():D("getXmlHttp: unable to obtain XMLHttpRequest object")}function b(){}function c(){}function d(a,b,c,d,e){this.Df=a;this.timeStamp=b;this.Lm=b.getTime();this.av=Math.floor(this.Lm/1E3);this.lm=this.timeStamp.getMilliseconds();this.$=c;this.Ab=d;this.nc=e}function e(a,b){this.$=a;this.name=b}function f(){}function g(a){return"undefined"==typeof a}function j(){}function n(){}function m(a){return a&&
a.toString?a.toString():""+a}function v(a){return a.message?a.message:a.description?a.description:m(a)}function J(a){if(a){var b="Exception: "+v(a);try{if(a.lineNumber&&(b+=" on line number "+a.lineNumber),a.fileName)var c=b,d=a.fileName,e=Math.max(d.lastIndexOf("/"),d.lastIndexOf("\\")),b=c+(" in file "+d.substr(e+1))}catch(f){aa.warn("Unable to obtain file and line information for error")}ld&&a.stack&&(b+=G+"Stack trace:"+G+a.stack);return b}return l}function C(a){return a.replace(/^\s+/,"").replace(/\s+$/,
"")}function K(a){return a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function r(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}0<=c&&a.splice(c,1)}function ea(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return k;return o}function Y(a,b){return g(a)?b:""+a}function Fa(a,b){if(g(a))return b;try{var c=parseInt(a,10);return isNaN(c)?b:c}catch(d){return aa.warn("Invalid int param "+a,d),b}}function Sa(a){var b,c=window;b=b?b:window;if(c.addEventListener)c.addEventListener("unload",
a,i);else if(c.attachEvent)c.attachEvent("onunload",a);else{if(!c.__log4javascript_listeners__unload)c.__log4javascript_listeners__unload=[],c.onunload=function(a){for(var c=b,a=a?a:(c?c:window).event,c=this.__log4javascript_listeners__unload.concat([]),d;d=c.shift();)d.call(this,a)};c.__log4javascript_listeners__unload.push(a)}}function D(a,b){aa.error(a,b);x.dispatchEvent("error",{message:a,exception:b})}function pa(a,b){this.name=a;this.$=g(b)?e.tc:b;this.start=new Date}function U(a){this.name=
a;this.parent=l;this.children=[];var b=[],c=l,f=this.name===Ja,j=this.name===md,n=l,Ab=o;this.os=function(a){this.children.push(a);a.parent=this;a.ed()};var fa=k;this.jt=function(){return fa};this.gx=function(a){var b=fa!=a;fa=a;b&&this.ed()};this.nl=function(a){j?D("Logger.addAppender: you may not add an appender to the null logger"):a instanceof x.Vh?ea(b,a)||(b.push(a),a.wm(this),this.ed()):D("Logger.addAppender: appender supplied ('"+m(a)+"') is not a subclass of Appender")};this.dx=function(a){r(b,
a);a.Cm(this);this.ed()};this.cx=function(){var a=b.length;if(0<a){for(var c=0;c<a;c++)b[c].Cm(this);b.length=0;this.ed()}};this.wf=function(){if(n===l||Ab)n=(f||!this.jt()?[]:this.parent.wf()).concat(b),Ab=o;return n};this.ed=function(){Ab=k;for(var a=0,b=this.children.length;a<b;a++)this.children[a].ed()};this.log=function(a,b){if(ka&&a.Jh(this.rt())){var c,e=b.length-1,f=b[e];1<b.length&&f instanceof Error&&(c=f,e--);for(var f=[],g=0;g<=e;g++)f[g]=b[g];this.As(new d(this,new Date,a,f,c))}};this.As=
function(a){for(var b=this.wf(),c=0,d=b.length;c<d;c++)b[c].Ys(a)};this.ib=function(a){f&&a===l?D("Logger.setLevel: you cannot set the level of the root logger to null"):a instanceof e?c=a:D("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")};this.wt=function(){return c};this.rt=function(){for(var a=this;a!==l;a=a.parent){var b=a.wt();if(b!==l)return b}};this.pc=function(a,b){if(ka)for(var c=this.wf(),d=0,e=c.length;d<e;d++)c[d].pc(a,b)};this.qc=
function(){if(ka)for(var a=this.wf(),b=0,c=a.length;b<c;b++)a[b].qc()};var ga={};this.Km=function(a,b){ka&&(g(a)?D("Logger.time: a name for the timer must be supplied"):b&&!(b instanceof e)?D("Logger.time: level supplied to timer "+a+" is not an instance of log4javascript.Level"):ga[a]=new pa(a,b))};this.Ix=function(a){if(ka)if(g(a))D("Logger.timeEnd: a name for the timer must be supplied");else if(ga[a]){var b=ga[a];this.log(b.$,["Timer "+m(a)+" completed in "+b.st()+"ms"]);delete ga[a]}else aa.warn("Logger.timeEnd: no timer found with name "+
a)};this.ew=function(a){if(ka&&!a){for(var b=[],c=1,d=arguments.length;c<d;c++)b.push(arguments[c]);b=0<b.length?b:["Assertion Failure"];b.push(G);b.push(a);this.log(e.sd,b)}};this.toString=function(){return"Logger["+this.name+"]"}}function ba(){this.da=[]}function qa(){this.da=[]}function wa(a){this.th=g(a)?k:Boolean(a);this.da=[]}function la(a,b){this.hd=g(a)?o:Boolean(a);this.th=g(b)?k:Boolean(b);this.Al=this.hd?"["+G:"[";this.zl=this.hd?"]"+G:"]";this.Bl=this.hd?","+G:",";this.Am();this.Js=this.hd?
": ":":";this.Qh=this.hd?"\t":"";this.de=this.hd?G:"";this.da=[]}function ma(){this.Am();this.da=[];this.um=k}function nd(a,b){function c(a,b,e){function f(a){for(var a=K(a),b=1,c=a.length;b<c;b++)a[b]=e+a[b];return a.join(G)}var g,j,na,n,w,oa;e||(e="");if(a===l)return"null";if("undefined"==typeof a)return"undefined";if("string"==typeof a)return f(a);if("object"==typeof a&&ea(d,a)){try{w=m(a)}catch(v){w="Error formatting property. Details: "+J(v)}return w+" [already expanded]"}if(a instanceof Array&&
0<b){d.push(a);w="["+G;j=b-1;na=e+"  ";n=[];for(g=0,b=a.length;g<b;g++)try{oa=c(a[g],j,na),n.push(na+oa)}catch(r){n.push(na+"Error formatting array member. Details: "+J(r)+"")}return w+=n.join(","+G)+G+e+"]"}if("object"==typeof a&&0<b){d.push(a);w="{"+G;j=b-1;na=e+"  ";n=[];for(g in a)try{oa=c(a[g],j,na),n.push(na+g+": "+oa)}catch(D){n.push(na+g+": Error formatting property. Details: "+J(D))}return w+=n.join(","+G)+G+e+"}"}return f(m(a))}var d=[];return c(a,b,i)}function I(a){this.pattern=a?a:I.an;
this.da=[]}function xa(){}function W(){}function ya(b){function c(a){return I?(D("AjaxAppender: configuration option '"+a+"' may not be set after the appender has been initialized"),o):k}function d(){if(ga&&ka){K=k;var a;if(p)0<ca.length?(a=ca.shift(),m(j(a),d)):(K=o,va&&window.setTimeout(d,w));else{for(;a=ca.shift();)m(j(a));K=o;va&&window.setTimeout(d,w)}}}function e(){if(ga&&ka){for(var a=fa.R.sh()?Za:1,b,c=[];b=V.shift();)c.push(b),V.length>=a&&(ca.push(c),c=[]);0<c.length&&ca.push(c);va=p=o;
d()}}function j(a){var b=[],c;for(c="";c=a.shift();)c=fa.R.Pa(c),fa.R.gb()&&(c+=loggingEvent.yf()),b.push(c);c=1==a.length?b.join(""):fa.R.Al+b.join(fa.R.Bl)+fa.R.zl;c=fa.R.um?c:za(G)+"="+za(c);0<c.length&&(c+="&");return c+"layout="+za(fa.R.toString())}function n(){D("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled");ga=o;r&&r("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled")}function m(c,d){try{var e=a(n);if(ga){e.overrideMimeType&&e.overrideMimeType(fa.R.Eh());
e.onreadystatechange=function(){if(4==e.readyState){if(g(e.status)||0===e.status||200<=e.status&&300>e.status)v&&v(e),d&&d(e);else{var a="AjaxAppender.append: XMLHttpRequest request to URL "+b+" returned status code "+e.status;D(a);r&&r(a)}e.onreadystatechange=f;e=l}};e.open("POST",b,k);try{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(j){D("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");
ga=o;r&&r("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");return}e.send(c)}}catch(p){var va="AjaxAppender.append: error sending log message to "+b;D(va,p);ga=o;r&&r(va+". Details: "+J(p))}}var fa=this,ga=k;b||(D("AjaxAppender: URL must be specified in constructor"),ga=o);var va=this.t.bv,p=this.t.nv,Za=this.t.zs,w=this.t.cv,v=this.t.lu,r=this.t.dt,G=this.t.Yt,C=this.t.ou,R=l,V=[],ca=[],K=o,I=
o;this.Dw=function(){return R};this.Qu=function(a){R=Y(a,l);this.R.vu("sessionid",R)};this.Kf=function(a){if(c("layout"))this.R=a,R!==l&&this.Qu(R)};this.Pw=function(){return va};this.Ax=function(a){c("timed")&&(va=Boolean(a))};this.Ew=function(){return w};this.Bx=function(a){c("timerInterval")&&(w=Fa(a,w))};this.Sw=function(){return p};this.Ex=function(a){c("waitForResponse")&&(p=Boolean(a))};this.uw=function(){return Za};this.jx=function(a){c("batchSize")&&(Za=Fa(a,Za))};this.Lw=function(){return C};
this.yx=function(a){c("sendAllOnUnload")&&(C=Fa(a,C))};this.wx=function(a){v="function"==typeof a?a:v};this.ox=function(a){r="function"==typeof a?a:r};this.Bw=function(){return G};this.tx=function(a){c("postVarName")&&(G=Y(a,G))};this.fx=d;this.append=function(a){if(ga&&(I||(I=k,C&&Sa(e),va&&window.setTimeout(d,w)),V.push(a),V.length>=(this.R.sh()?Za:1))){for(var b=[];a=V.shift();)b.push(a);ca.push(b);!va&&(!p||p&&!K)&&d()}}}function Ka(a){try{return Boolean(a.loaded)}catch(b){return o}}function od(a,
b){if(a.length<b){for(var c=[],d=Math.max(0,b-a.length),e=0;e<d;e++)c[e]=" ";a+=c.join("")}return a}j.prototype={$c:[],Yd:{},ym:function(a){if(a instanceof Array){this.$c=a;this.Yd={};for(var a=0,b=this.$c.length;a<b;a++)this.Yd[this.$c[a]]=[]}else D("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(a,b){"function"==typeof b?(ea(this.$c,a)||D("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+a+"'"),
this.Yd[a].push(b)):D("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(a,b){"function"==typeof b?(ea(this.$c,a)||D("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+a+"'"),r(this.Yd[a],b)):D("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(a,b){if(ea(this.$c,a))for(var c=this.Yd[a],d=0,e=c.length;d<e;d++)c[d](this,a,b);else D("log4javascript.EventSupport ["+
this+"]: dispatchEvent: no event called '"+a+"'")}};var pd=new Date,qd="log4javascript_"+pd.getTime()+"_"+Math.floor(1E8*Math.random()),G="\r\n",Cb=o;n.prototype=new j;x=new n;x.version="1.4.2";x.lw="log4javascript";var za="undefined"!=typeof window.mw?function(a){return encodeURIComponent(a)}:function(a){return escape(a).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};if(!Function.prototype.apply)Function.prototype.apply=function(a,b){var c=
"__apply__";"undefined"!=typeof a[c]&&(c+=(""+Math.random()).substr(2));a[c]=this;for(var d=[],e=0,f=b.length;e<f;e++)d[e]="args["+e+"]";d=eval("obj."+c+"("+d.join(",")+")");delete a[c];return d};if(!Function.prototype.call)Function.prototype.call=function(a){for(var b=[],c=1,d=arguments.length;c<d;c++)b[c-1]=arguments[c];return this.apply(a,b)};var aa={pm:o,Fl:[],ux:function(a){this.pm=Boolean(a)},Qt:0,pl:o,hx:s("pl"),Q:function(a){this.Fl.push(a)},kw:function(){alert(this.Fl.join(G))},warn:q(),
error:function(a,b){if((1==++this.Qt||this.pl)&&!this.pm){var c="log4javascript error: "+a;b&&(c+=G+G+"Original error: "+J(b));alert(c)}}};x.Ww=aa;x.ym(["load","error"]);x.handleError=D;var ka=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);x.nx=function(a){ka=Boolean(a)};x.isEnabled=function(){return ka};var La=k;x.Uu=function(a){La=Boolean(a)};x.Bf=function(){return La};x.pw=function(a){return eval(a)};var ld=o;x.zx=function(a){ld=Boolean(a)};e.prototype={toString:t("name"),
uf:function(a){return this.$==a.$},Jh:function(a){return this.$>=a.$}};e.Qm=new e(Number.MIN_VALUE,"ALL");e.lg=new e(1E4,"TRACE");e.qd=new e(2E4,"DEBUG");e.tc=new e(3E4,"INFO");e.Pi=new e(4E4,"WARN");e.sd=new e(5E4,"ERROR");e.oi=new e(6E4,"FATAL");e.Fn=new e(Number.MAX_VALUE,"OFF");x.Cb=e;pa.prototype.st=function(){return(new Date).getTime()-this.start.getTime()};var md="[null]",Ja="root";U.prototype={nd:function(){this.log(e.lg,arguments)},Q:function(){this.log(e.qd,arguments)},info:function(){this.log(e.tc,
arguments)},warn:function(){this.log(e.Pi,arguments)},error:function(){this.log(e.sd,arguments)},ad:function(){this.log(e.oi,arguments)}};U.prototype.nd.be=k;U.prototype.Q.be=k;U.prototype.info.be=k;U.prototype.warn.be=k;U.prototype.error.be=k;U.prototype.ad.be=k;var Ga={},ud=[],rd=e.qd,Ca=new U(Ja);Ca.ib(rd);x.Cw=function(){return Ca};x.Fh=function(a){"string"!=typeof a&&(a="[anonymous]",aa.warn("log4javascript.getLogger: non-string logger name "+m(a)+" supplied, returning anonymous logger"));a==
Ja&&D("log4javascript.getLogger: root logger may not be obtained by name");if(!Ga[a]){var b=new U(a);Ga[a]=b;ud.push(a);var c=a.lastIndexOf(".");(-1<c?x.Fh(a.substring(0,c)):Ca).os(b)}return Ga[a]};var Ma=l;x.yw=function(){if(!Ma){Ma=x.Fh("[default]");var a=new x.Kn;Ma.nl(a)}return Ma};var Ha=l;x.Aw=function(){Ha||(Ha=new U(md),Ha.ib(e.Fn));return Ha};x.ex=function(){Ca.ib(rd);Ga={}};d.prototype={yf:function(){return this.nc?J(this.nc):""},Dh:function(){return 1==this.Ab.length?this.Ab[0]:this.Ab.join(G)},
toString:function(){return"LoggingEvent["+this.$+"]"}};x.Dv=d;c.prototype={t:{Ef:"logger",Of:"timestamp",Gf:"milliseconds",Cf:"level",Ff:"message",vf:"exception",Pf:"url"},Ef:"logger",Of:"timestamp",Gf:"milliseconds",Cf:"level",Ff:"message",vf:"exception",Pf:"url",Al:"",zl:"",Bl:"",um:o,nm:o,Nm:l,Pa:function(){D("Layout.format: layout supplied has no format() method")},gb:function(){D("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},Eh:u("text/plain"),sh:u(k),Uu:function(a){this.nm=
k;this.Nm=Boolean(a)},Bf:function(){return this.nm?this.Nm:La},$l:function(a){return this.Bf()?a.Lm:a.av},Vl:function(a,b){var c=[[this.Ef,a.Df.name],[this.Of,this.$l(a)],[this.Cf,a.$.name],[this.Pf,window.location.href],[this.Ff,b?a.Dh():a.Ab]];this.Bf()||c.push([this.Gf,a.lm]);a.nc&&c.push([this.vf,J(a.nc)]);if(this.Hh())for(var d=0,e=this.da.length;d<e;d++){var f=this.da[d].value;"function"===typeof f&&(f=f(this,a));c.push([this.da[d].name,f])}return c},Am:function(a,b,c,d,e,f,g){this.Ef=Y(a,this.t.Ef);
this.Of=Y(b,this.t.Of);this.Cf=Y(c,this.t.Cf);this.Ff=Y(d,this.t.Ff);this.vf=Y(e,this.t.vf);this.Pf=Y(f,this.t.Pf);this.Gf=Y(g,this.t.Gf)},vu:function(a,b){for(var c=o,d=0,e=this.da.length;d<e;d++)if(this.da[d].name===a)this.da[d].value=b,c=k;c||this.da.push({name:a,value:b})},Hh:function(){return 0<this.da.length},toString:function(){D("Layout.toString: all layouts must override this method")}};x.Cv=c;b.prototype=new j;b.prototype.R=new I;b.prototype.Rh=e.Qm;b.prototype.Kh=[];b.prototype.Ys=function(a){ka&&
a.$.$>=this.Rh.$&&this.append(a)};b.prototype.append=q();b.prototype.Kf=function(a){a instanceof c?this.R=a:D("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")};b.prototype.Tu=function(){var a=x.Cb.lg;a instanceof e?this.Rh=a:D("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")};b.prototype.wm=function(a){this.Kh.push(a)};b.prototype.Cm=function(a){r(this.Kh,a)};b.prototype.pc=f;b.prototype.qc=f;b.prototype.toString=
function(){D("Appender.toString: all appenders must override this method")};x.Vh=b;ba.prototype=new c;ba.prototype.Pa=function(a){return a.$.name+" - "+a.Dh()};ba.prototype.gb=u(k);ba.prototype.toString=u("SimpleLayout");x.Mv=ba;qa.prototype=new c;qa.prototype.Pa=function(a){return a.Ab};qa.prototype.gb=u(k);qa.prototype.toString=u("NullLayout");x.Fv=qa;wa.prototype=new c;wa.prototype.Eh=u("text/xml");wa.prototype.bt=function(a){return a.replace(/\]\]>/,"]]\>]]&gt;<![CDATA[")};wa.prototype.Pa=function(a){function b(a){a=
"string"===typeof a?a:m(a);return"<log4javascript:message><![CDATA["+c.bt(a)+"]]\></log4javascript:message>"}var c=this,d,e,f='<log4javascript:event logger="'+a.Df.name+'" timestamp="'+this.$l(a)+'"';this.Bf()||(f+=' milliseconds="'+a.lm+'"');f+=' level="'+a.$.name+'">'+G;if(this.th)f+=b(a.Dh());else{f+="<log4javascript:messages>"+G;for(d=0,e=a.Ab.length;d<e;d++)f+=b(a.Ab[d])+G;f+="</log4javascript:messages>"+G}if(this.Hh())for(d=0,e=this.da.length;d<e;d++)f+='<log4javascript:customfield name="'+
this.da[d].name+'"><![CDATA['+this.da[d].value.toString()+"]]\></log4javascript:customfield>"+G;a.nc&&(f+="<log4javascript:exception><![CDATA["+J(a.nc)+"]]\></log4javascript:exception>"+G);return f+="</log4javascript:event>"+G+G};wa.prototype.gb=u(o);wa.prototype.toString=u("XmlLayout");x.Uv=wa;la.prototype=new c;la.prototype.Pa=function(a){function b(a,d,e){var f=typeof a;if(a instanceof Date)e=""+a.getTime();else if(e&&a instanceof Array){for(var e="["+c.de,f=0,g=a.length;f<g;f++){var j=d+c.Qh,
e=e+(j+b(a[f],j,o));f<a.length-1&&(e+=",");e+=c.de}e+=d+"]"}else e="number"!==f&&"boolean"!==f?'"'+m(a).replace(/\"/g,'\\"').replace(/\r\n|\r|\n/g,"\\r\\n")+'"':a;return e}var c=this,a=this.Vl(a,this.th),d="{"+this.de,e,f;for(e=0,f=a.length-1;e<=f;e++)d+=this.Qh+'"'+a[e][0]+'"'+this.Js+b(a[e][1],this.Qh,k),e<f&&(d+=","),d+=this.de;return d+="}"+this.de};la.prototype.gb=u(o);la.prototype.toString=u("JsonLayout");la.prototype.Eh=u("application/json");x.Av=la;ma.prototype=new c;ma.prototype.sh=u(o);
ma.prototype.Pa=function(a){for(var a=this.Vl(a),b=[],c=0,d=a.length;c<d;c++){var e=a[c][1]instanceof Date?""+a[c][1].getTime():a[c][1];b.push(za(a[c][0])+"="+za(e))}return b.join("&")};ma.prototype.gb=u(o);ma.prototype.toString=u("HttpPostDataLayout");x.yv=ma;var Aa;(function(){function a(b,c){for(;b.length<c;)b="0"+b;return b}function b(a,c,d){a=new Date(a,c,d,0,0,0);a.setMilliseconds(0);return a}var c=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,
d="January,February,March,April,May,June,July,August,September,October,November,December".split(","),e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),f={wv:0,y:3,Ev:4,Jx:2,Sv:2,tv:2,jw:2,uv:2,E:1,qh:0,xv:2,Tw:2,Bv:2,va:2,Yw:2,jd:2,Iv:2,Vv:5};Date.prototype.qt=function(a){return this.getTime()-a.getTime()};Date.prototype.gm=function(a){return this.getTime()<a.getTime()};Date.prototype.bm=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),
this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.prototype.Gh=function(a){return this.bm()-a.bm()};Date.prototype.Zl=function(){var a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0)).getTime()-864E5*this.getDay());return b(a.getFullYear(),a.getMonth(),a.getDate())};Date.prototype.yt=function(a){g(this.Lh)&&(a=1);var c=this.Zl(),d=b(this.getFullYear(),0,1),c=c.gm(d)?0:1+Math.floor(c.Gh(d)/6048E5);7-d.getDay()<a&&c--;return c};Date.prototype.xt=function(a){g(this.Lh)&&
(a=1);var c=this.Zl(),d=b(this.getFullYear(),this.getMonth(),1),c=c.gm(d)?0:1+Math.floor(c.Gh(d)/6048E5);7-d.getDay()>=a&&c++;return c};Date.prototype.ot=function(){var a=b(this.getFullYear(),0,1);return 1+Math.floor(this.Gh(a)/864E5)};Aa=s("gt");Aa.prototype.Xl=function(){return g(this.Lh)?1:this.Lh};Aa.prototype.Pa=function(b){for(var g="",j,n=this.gt;j=c.exec(n);){var p=j[1],m=j[2],w=j[3],r=j[4];if(p)g="''"==p?g+"'":g+p.substring(1,p.length-1);else if(!w)if(r)g+=r;else if(m){p=m.charAt(0);m=m.length;
w="";switch(p){case "G":w="AD";break;case "y":w=b.getFullYear();break;case "M":w=b.getMonth();break;case "w":w=b.yt(this.Xl());break;case "W":w=b.xt(this.Xl());break;case "D":w=b.ot();break;case "d":w=b.getDate();break;case "F":w=1+Math.floor((b.getDate()-1)/7);break;case "E":w=e[b.getDay()];break;case "a":w=12<=b.getHours()?"PM":"AM";break;case "H":w=b.getHours();break;case "k":w=b.getHours()||24;break;case "K":w=b.getHours()%12;break;case "h":w=b.getHours()%12||12;break;case "m":w=b.getMinutes();
break;case "s":w=b.getSeconds();break;case "S":w=b.getMilliseconds();break;case "Z":w=b.getTimezoneOffset()}switch(f[p]){case 0:g+=4<=m?w:w.substr(0,Math.max(2,m));break;case 1:g+=4<=m?w:w.substr(0,Math.max(3,m));break;case 2:g+=a(""+w,m);break;case 3:g=3>=m?g+(""+w).substr(2,2):g+a(""+w,m);break;case 4:g=3<=m?g+(4<=m?d[w]:d[w].substr(0,Math.max(m,m))):g+a(""+(w+1),m);break;case 5:m=0<w?"-":"+",w=Math.abs(w),p=""+Math.floor(w/60),p=a(p,2),w=""+w%60,w=a(w,2),g+=m+p+w}}n=n.substr(j.index+j[0].length)}return g}})();
x.Lv=Aa;I.Qv="%r %p %c - %m%n";I.an="%m%n";I.ti="yyyy-MM-dd HH:mm:ss,SSS";I.$m="dd MMM yyyy HH:mm:ss,SSS";I.Pm="HH:mm:ss,SSS";I.prototype=new c;I.prototype.Pa=function(a){for(var b=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,c="",d,e=this.pattern;d=b.exec(e);){var f=d[0],g=d[1],j=d[2],n=d[3],m=d[5],p=d[6];if(p)c+=""+p;else{p="";switch(n){case "a":case "m":f=0;m&&(f=parseInt(m,10),isNaN(f)&&(D("PatternLayout.format: invalid specifier '"+m+"' for conversion character '"+n+"' - should be a number"),
f=0));for(var m="a"===n?a.Ab[0]:a.Ab,n=0,r=m.length;n<r;n++)0<n&&" "!==p.charAt(p.length-1)&&(p+=" "),p=0===f?p+m[n]:p+nd(m[n],f);break;case "c":p=a.Df.name;m&&(m=parseInt(m,10),f=a.Df.name.split("."),p=m>=f.length?p:f.slice(f.length-m).join("."));break;case "d":p=I.ti;if(m)if(p=m,"ISO8601"==p)p=I.ti;else if("ABSOLUTE"==p)p=I.Pm;else if("DATE"==p)p=I.$m;p=(new Aa(p)).Pa(a.timeStamp);break;case "f":if(this.Hh())p=0,m&&(p=parseInt(m,10),isNaN(p)?D("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - should be a number"):
0===p?D("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - must be greater than zero"):p>this.da.length?D("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - there aren't that many custom fields"):p-=1),p=this.da[p].value;break;case "n":p=G;break;case "p":p=a.$.name;break;case "r":p=""+a.timeStamp.qt(pd);break;case "%":p="%";break;default:p=f}if(j)j=parseInt(j.substr(1),10),m=p.length,j<m&&(p=p.substring(m-j,m));if(g)if("-"==g.charAt(0))for(j=
parseInt(g.substr(1),10);p.length<j;)p+=" ";else for(j=parseInt(g,10);p.length<j;)p=" "+p;c+=p}e=e.substr(d.index+d[0].length)}return c};I.prototype.gb=u(k);I.prototype.toString=u("PatternLayout");x.Gv=I;xa.prototype=new b;xa.prototype.R=new ba;xa.prototype.append=function(a){var b=this.R.Pa(a);this.R.gb()&&(b+=a.yf());alert(b)};xa.prototype.toString=u("AlertAppender");x.rv=xa;W.prototype=new x.Vh;W.prototype.R=new qa;W.prototype.Rh=e.qd;W.prototype.append=function(a){function b(){var d=c.R,e=d.Pa(a);
d.gb()&&a.nc&&(e+=a.yf());return e}var c=this;if("undefined"!=typeof opera&&opera.postError)opera.postError(b());else if(window.console&&window.console.log){var d=b();window.console.Q&&e.qd.Jh(a.$)?window.console.Q(d):window.console.info&&e.tc.uf(a.$)?window.console.info(d):window.console.warn&&e.Pi.uf(a.$)?window.console.warn(d):window.console.error&&a.$.Jh(e.sd)?window.console.error(d):window.console.log(d)}};W.prototype.pc=function(a){window.console&&window.console.pc&&window.console.pc(a)};W.prototype.qc=
function(){window.console&&window.console.qc&&window.console.qc()};W.prototype.toString=u("BrowserConsoleAppender");x.Sm=W;var kd=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];ya.prototype=new b;ya.prototype.t={nv:o,bv:o,cv:1E3,zs:1,ou:k,lu:l,dt:l,Yt:"data"};ya.prototype.R=new ma;ya.prototype.toString=u("AjaxAppender");x.qv=ya;var X;(function(){function a(b,c,d,e,f){this.create(o,l,b,c,d,e,f,
this.t.ft)}function c(a,b,d,e,f,g){this.create(k,a,b,d,e,f,g,o)}var f=[];X=q();var j=1;X.prototype=new b;X.prototype.create=function(a,b,c,n,m,r,p,v){function w(){var a=document.domain!=location.hostname;if(m)a="";else{var b;a:{b=document.getElementsByTagName("script");for(var c=0,d=b.length;c<d;++c)if(-1!=b[c].src.indexOf("log4javascript")){d=b[c].src.lastIndexOf("/");b=-1==d?"":b[c].src.substr(0,d+1);break a}b=l}a=b+"console.html"+(a?"?log4javascript_domain="+escape(document.domain):"")}return a}
function C(a,b,c,d){var e=setInterval(function(){try{da&&clearInterval(e),a(O())&&(clearInterval(e),c())}catch(b){clearInterval(e),sa=o,D(d,b)}},b)}function K(){var a=O();a.ix(ha);a.Ku(ma);a.Ou(qa);a.Ph(la);a.Lf(pa);a.Em(ya);a.Dm(za);a.sx(window);var b;a:{b=escape("log4javascriptCommandHistory")+"=";for(var c=document.cookie.split(";"),d=0,e=c.length;d<e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b)){b=unescape(f.substring(b.length,f.length));break a}}b=l}if(b)a.Ks=
b.split(","),a.iw=a.Ks.length;ha.dispatchEvent("load",{win:a})}function na(a){var b=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"<\!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\>",'<meta http-equiv="X-UA-Compatible" content="IE=7" />',
'<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','<\!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\>','<\!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\>','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}",
"function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}",
"if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",
'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',
"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",
'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}',
'GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",
'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',
"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}",
"this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}",
"this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",
'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}',
'LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}',
'LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',
"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}',
'this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',
"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",
'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}',
'logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',
"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}",
"var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}",
"matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",
'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}",
"var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}",
"return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}",
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}",
"displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}",
"var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",
'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}',
'function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}',
'function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}",
"searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}",
"return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',
"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+",
"preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}",
"logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}",
"var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}",
"setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',
"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}",
"this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}',
'currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}',
'addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}",
"function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}',
'function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}',
'if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',
"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}',
'function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}',
'function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}",
"function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}",
"currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}",
"return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-',
'($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}",
"this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}",
"return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}",
"return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',
"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',
"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}",
"currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]\>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}",
"</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>',
'<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>',
'<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />',
'<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>',
'<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>',
'<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>',
'<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />',
'<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />',
'<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];a.open();for(var c=0,d=b.length;c<d;c++)a.writeln(b[c]);a.close()}function Bb(){for(;0<oa.length;)oa.shift().append();v&&O().focus()}function R(){$a();ba?da&&La&&Ta():Aa();$a()&&Bb()}function V(){return ra&&sa&&!da}function ca(a){return W?(D(Sa+": configuration option '"+a+"' may not be set after the appender has been initialized"),
o):k}function U(a,b){this.Xw=a;this.Jt=a.$.name;this.ht=b}function X(a,b){this.name=a;this.Et=b}function ea(){}var ha=this,ba=o,W=o,ra=o,da=o,oa=[],sa=k,wa=j++,n=g(n)?this.t.fm:Boolean(n),c=g(c)?this.t.im:Boolean(c),m=g(m)?this.t.Mm:Boolean(m),ma=this.t.mm,qa=this.t.vm,r=r?r:this.t.width,p=p?p:this.t.height,la=this.t.km,pa=this.t.Gm,xa=this.t.El,ya=this.t.Hm,za=this.t.Fm;this.Kf(this.t.R);var Aa,Ta,$a,O,Na,Sa=a?"InPageAppender":"PopUpAppender";this.Iw=function(){return ma};this.Lu=function(){ma=Boolean(k);
V()&&O().Ku(ma)};this.Kw=function(){return qa};this.xx=function(a){qa=Boolean(a);V()&&O().Ou(qa)};this.i=function(){return r};this.Fx=function(a){ca("width")&&(r=Y(a,r))};this.h=function(){return p};this.qx=function(a){ca("height")&&(p=Y(a,p))};this.zw=function(){return la};this.Ph=function(a){la=Fa(a,la);V()&&O().Ph(la)};this.Nw=function(){return pa};this.Lf=function(a){pa=Boolean(a);V()&&O().Lf(pa)};this.Ow=function(){return ya};this.Em=function(a){ya=Boolean(a);V()&&O().Em(ya)};this.Mw=function(){return za};
this.Dm=function(a){za=Boolean(a);V()&&O().Dm(za)};this.ww=function(){return xa};this.ru=function(a){xa=Fa(a,xa)};var ab=n;this.Hw=function(){return n};this.rx=function(a){ca("initiallyMinimized")&&(ab=n=Boolean(a))};this.Qw=function(){return m};this.Cx=function(a){ca("useDocumentWrite")&&(m=Boolean(a))};U.prototype.append=function(){O().log(this.Jt,this.ht)};X.prototype.append=function(){O().pc(this.name,this.Et)};ea.prototype.append=function(){O().qc()};this.append=function(a){if(sa){var b=ha.R.Pa(a);
this.R.gb()&&(b+=a.yf());oa.push(new U(a,b));R()}};this.pc=function(a,b){sa&&(oa.push(new X(a,b)),R())};this.qc=function(){sa&&(oa.push(new ea),R())};this.wm=function(a){this.Kh.push(a);ka&&!c&&Aa()};this.clear=function(){V()&&O().gw();oa.length=0};this.focus=function(){V()&&O().focus()};this.sw=q();this.tw=q();var Z=window;this.nt=function(){return Z};this.su=function(a){Z=a};this.rw=function(){V()&&O().qw()};var Ga=new I("%m");this.vw=function(){return Ga};this.lx=function(a){Ga=a};this.nw=function(a){var b=
{wl:k,Af:o},c="";try{var f,j;!Z.eval&&Z.execScript&&Z.execScript("null");var n={};for(j=0,len=Ua.length;j<len;j++)n[Ua[j][0]]=Ua[j][1];var m=[],p=function(a){m.push([a,Z[a]])};p("appender");Z.dw=ha;p("commandReturnValue");Z.hw=b;p("commandLineFunctionsHash");Z.Ls=n;n=function(a){p(a);Z[a]=function(){return this.Ls[a](ha,arguments,b)}};for(j=0,len=Ua.length;j<len;j++)n(Ua[j][0]);Z===window&&Z.execScript?(p("evalExpr"),p("result"),window.ow=a,Z.execScript("window.result=eval(window.evalExpr);"),f=window.result):
f=Z.eval(a);c=g(f)?f:nd(f,xa);for(j=0,len=m.length;j<len;j++)Z[m[j][0]]=m[j][1]}catch(w){c="Error evaluating command: "+J(w),b.Af=k}if(b.wl)a=">>> "+a,g(c)||(a+=G+c),c=new d(l,new Date,b.Af?e.sd:e.tc,[a],l),a=this.R,this.Kf(Ga),this.append(c),this.Kf(a)};var Ua=f.concat([]);this.cw=function(a,b){Ua.push([a,b])};this.Gx=function(a){var a=a.join(","),b;document.cookie=escape("log4javascriptCommandHistory")+"="+escape(a)+""+(b?"; path="+b:"")};this.ym(["load","unload"]);this.he=function(){aa.Q("unload "+
this+", caller: "+this.he.caller);da||(aa.Q("really doing unload "+this),da=k,W=ra=o,ha.dispatchEvent("unload",{}))};if(a){var Da=l,Ca=[];this.ol=function(a,b){ca("cssProperties")&&Ca.push([a,b])};var Ma=o,Ba,Ha=qd+"_InPageAppender_"+wa;this.At=function(){if(ba&&W)V()&&O().pv("command").blur(),Ba.style.display="none",ab=k};this.show=function(){if(ba)W?(Ba.style.display="block",this.Lf(pa),ab=o):Ma||Ta(k)};this.Ht=function(){return!ab&&!da};this.close=function(a){if(!da&&(!a||confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")))Ba.parentNode.removeChild(Ba),
this.he()};Na=function(){function a(b){try{return Boolean(b)&&Boolean(b.document)}catch(c){return o}}function b(){try{n||ha.show(),K(),ra=k,Bb()}catch(a){sa=o,D(d,a)}}function c(){try{var a=function(a){return Ka(a)};m&&na(O().document);Ka(O())?b():C(a,100,b,d)}catch(e){sa=o,D(d,e)}}var d="InPageAppender.open: unable to create console iframe";ab=o;Ba=Da.appendChild(document.createElement("div"));Ba.style.width=r;Ba.style.height=p;Ba.style.border="solid gray 1px";for(var e=0,f=Ca.length;e<f;e++)Ba.style[Ca[e][0]]=
Ca[e][1];Ba.innerHTML="<iframe id='"+Ha+"' name='"+Ha+"' width='100%' height='100%' frameborder='0'"+(m?"":" src='"+w()+"'")+" scrolling='no'></iframe>";da=o;a(O())?c():C(a,100,c,d);W=k};Ta=function(a){if(a||!n)a=function(){if(b)try{var a=document.getElementById(b);1==a.nodeType&&(Da=a);Na()}catch(c){D("InPageAppender.init: invalid container element '"+b+"' supplied",c)}else Da=document.createElement("div"),Da.style.position="fixed",Da.style.left="0",Da.style.right="0",Da.style.bottom="0",document.body.appendChild(Da),
ha.ol("borderWidth","1px 0 0 0"),ha.ol("zIndex",1E6),Na()},Cb&&b&&b.appendChild?(Da=b,Na()):Cb?a():x.addEventListener("load",a),Ma=k};Aa=function(){Ta();ba=k};O=function(){var a=window.frames[Ha];if(a)return a};$a=function(){return sa&&!da?(W&&!ra&&O()&&Ka(O())&&(ra=k),ra):o}}else{var bb=ha.t.gv,Ja=ha.t.Ms,La=this.t.ju;this.Rw=function(){return bb};this.Dx=function(a){ca("useOldPopUp")&&(bb=Boolean(a))};this.Fw=function(){return Ja};this.mx=function(a){ca("complainAboutPopUpBlocking")&&(Ja=Boolean(a))};
this.Gw=function(){return v};this.px=function(a){v=Boolean(a)};this.Jw=function(){return La};this.vx=function(a){La=Boolean(a)};this.close=function(){aa.Q("close "+this);try{ia.close(),this.he()}catch(a){}};this.At=function(){aa.Q("hide "+this);V()&&this.close()};this.show=function(){aa.Q("show "+this);W||Na()};this.Ht=function(){return $a()};var ia;Na=function(){function a(){da||ha.he()}function b(a){if(da)return k;try{return Boolean(a)&&a.closed}catch(c){}return o}function c(){O().kx(!bb||!m);K();
ra=k;Bb();C(b,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var d="width="+r+",height="+p+",status,resizable",e="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+wa;if(!bb||!m)e=e+"_"+qd;try{ia=window.open(w(),e,d),da=o,W=k,ia&&ia.document?m&&bb&&Ka(ia)?(ia.Zw(),c()):(m&&na(ia.document),d=function(a){return Boolean(a)&&Ka(a)},Ka(ia)?c():C(d,100,c,"PopUpAppender.init: unable to create console window")):(sa=o,aa.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),
Ja&&D("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(f){D("PopUpAppender.init: error creating pop-up",f)}};Ta=function(){n||Na()};Aa=function(){Ta();ba=k};O=function(){return ia};$a=function(){if(sa&&!g(ia)&&!da){if(ia.closed||ra&&g(ia.closed))return ha.he(),aa.Q("PopUpAppender: pop-up closed"),o;!ra&&Ka(ia)&&(ra=k)}return sa&&ra&&!da}}this.xw=O};X.Tb=function(a,b){f.push([a,b])};a.prototype=new X;a.prototype.t={R:new I("%d{HH:mm:ss} %-5p - %m{1}%n"),
fm:o,ft:o,im:k,gv:k,Ms:k,mm:o,vm:k,width:"600",height:"400",ju:o,km:l,Gm:k,El:1,Hm:o,Fm:k,Wu:k,Mm:k};a.prototype.toString=u("PopUpAppender");x.Kn=a;c.prototype=new X;c.prototype.t={R:new I("%d{HH:mm:ss} %-5p - %m{1}%n"),fm:o,im:k,mm:o,vm:k,width:"100%",height:"220px",km:l,Gm:k,El:1,Hm:o,Fm:o,Wu:k,Mm:k};c.prototype.toString=u("InPageAppender");x.zn=c;x.zv=c})();(function(){var a,b,c,d,e;function f(m,p,r,w,v){function D(a){for(var a=a.style.cssText.split(";"),b="",c=0,d=a.length;c<d;c++){var b=a[c].split(":"),
e=[];/^\s*$/.test(b[0])||e.push(C(b[0]).toLowerCase()+":"+C(b[1]));b=e.join(";")}return b}"string"!=typeof r&&(r="");w=!!w;v=!!v;if(("undefined"==typeof p?k:p)&&m.nodeType!=b)switch(m.nodeType){case c:var J=m.tagName.toLowerCase(),p=w?G+r:"",p=p+"<",v=m.prefix?m.prefix:m.outerHTML&&RegExp("<([^:]+):"+m.tagName+"[^>]*>","i").test(m.outerHTML)?RegExp.$1.toLowerCase():"";(w=!!v)&&(p+=v+":");p+=J;for(v=0,R=m.attributes.length;v<R;v++){var I=m.attributes[v];if(I.specified&&!(I.nodeValue===l||"style"===
I.nodeName.toLowerCase()||"string"!==typeof I.nodeValue||0===I.nodeName.indexOf("_moz")))p+=" "+I.nodeName.toLowerCase()+'="',p+=I.nodeValue.toString().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\"/g,"&quot;"),p+='"'}m.style.cssText&&""!==D(m)&&(p+=' style="'+D(m)+'"');if(ea(j,J)||w&&!m.hasChildNodes())p+="/>";else{for(var p=p+">",w=!(1===m.childNodes.length&&m.childNodes[0].nodeType===a),I=ea(g,J),v=0,R=m.childNodes.length;v<R;v++)p+=f(m.childNodes[v],k,r+n,w,I);m="</"+J+">";p+=w?G+r+m:
m}return p;case a:if(m.nodeType==a&&/^[ \t\r\n]*$/.test(m.nodeValue))p="";else{if(v)p=m.nodeValue;else{m=K(C(m.nodeValue));p=[];v=0;for(R=m.length;v<R;v++)p[v]=C(m[v]);p=p.join(G+r)}w&&(p=G+r+p)}return p;case d:return"<![CDATA["+m.nodeValue+"]]\>"+G;case e:p="";v=0;for(R=m.childNodes.length;v<R;v++)p+=f(m.childNodes[v],k,r);return p;default:return""}else{p="";v=0;for(R=m.childNodes.length;v<R;v++)p+=f(m.childNodes[v],k,r+n);return p}}c=1;a=3;d=4;e=9;b=11;var g=["script","pre"],j="br,img,hr,param,link,area,input,col,base,meta".split(","),
n="  ";(function(){X.Tb("$",function(a,b){return document.getElementById(b[0])});X.Tb("dir",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=c,g=d,j=b[d],n=0,r=i;for(r in j)n=Math.max(m(r).length,n);var C=[];for(r in j){var D="  "+od(m(r),n+2),I;try{I=K(m(j[r])).join(od(G,n+6))}catch(J){I="[Error obtaining property. Details: "+v(J)+"]"}C.push(D+I)}f[g]=C.join(G)}return c.join(G+G)});X.Tb("dirxml",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++)c[d]=f(b[d]);return c.join(G+G)});X.Tb("cd",
function(a,b,c){var d;0===b.length||""===b[0]?(d=window,b="Command line set to run in main window"):b[0].window==b[0]?(d=b[0],b="Command line set to run in frame '"+b[0].name+"'"):(d=window.frames[b[0]])?b="Command line set to run in frame '"+b[0]+"'":(c.Af=k,b="Frame '"+b[0]+"' does not exist",d=a.nt());a.su(d);return b});X.Tb("clear",function(a,b,c){c.wl=o;a.clear()});X.Tb("keys",function(a,b){var c=[],d;for(d in b[0])c.push(d);return c});X.Tb("values",function(a,b){var c=[],d;for(d in b[0])try{c.push(b[0][d])}catch(e){aa.warn("values(): Unable to obtain value for key "+
d+". Details: "+v(e))}return c});X.Tb("expansionDepth",function(a,b,c){var d=parseInt(b[0],10);if(isNaN(d)||0>d)return c.Af=k,""+b[0]+" is not a valid expansion depth";a.ru(d);return"Object expansion depth set to "+d})})();initialized=k})();x.Jf=function(){Cb=k;x.dispatchEvent("load",{})};if(window.addEventListener)window.addEventListener("load",x.Jf,o);else if(window.attachEvent)window.attachEvent("onload",x.Jf);else{var sd=window.onload;window.onload="function"!=typeof window.onload?x.Jf:function(a){sd&&
sd(a);x.Jf()}}return window.Vw=x}(),y;
(function(){y=q();y.Tn=function(){return y.Jr};y.xd=function(){return y.kh};y.bn=function(){return y.ep};y.me=function(a){return a.layerX||0===a.layerX?new z(a.layerX,a.layerY):new z(a.offsetX,a.offsetY)};y.Uj=function(a){var c=new z(a.offsetLeft,a.offsetTop);a.offsetParent&&(a=y.Uj(a.offsetParent),c.c+=a.c,c.b+=a.b);return c};y.fl=o;y.ne=function(a){if(!a.pageX||!a.target){if(!y.fl)y.fl=k,WebvisuLogger.error("Evaluation of Touch events not supported because the browser uses an unexpected interface");return l}var c=
y.Uj(a.target);return new z(a.pageX-c.c,a.pageY-c.b)};y.sq=navigator.userAgent.match(/OS 6(_\d)+ like Mac OS X/i);y.Bt=function(){return y.sq};y.dk=function(a,c){a.style.cssText+="outline: none; -webkit-tap-highlight-color: rgba(0,0,0,0);";a.tabIndex=c;a.addEventListener("MSHoldVisual",function(a){a.preventDefault()})};y.rd=function(){return window.devicePixelRatio?window.devicePixelRatio:1};y.An=function(a,c){y.dk(a,2E3);y.dk(c,1E3)};y.Ek=function(a){if(!(a===i||a===l||0<=a.indexOf("%")))return parseFloat(a)};
y.nr=function(a){if(a===i)return l;a=a.split(/[\s,]/);return 4>a.length?l:new A(parseFloat(a[2]),parseFloat(a[3]))};y.Er=function(a){try{if(0<=a.src.toLowerCase().indexOf(".svg")){WebvisuLogger.nd("Derivation of SVG size for '"+a.src+"' failed. Parsing manually");var c=new XMLHttpRequest,d,e,f;c.open("GET",a.src,o);c.send();if(c.responseXML&&c.responseXML.documentElement){d=y.Ek(c.responseXML.documentElement.getAttribute("width"));e=y.Ek(c.responseXML.documentElement.getAttribute("height"));if(d&&
e)return new A(d,e);f=y.nr(c.responseXML.documentElement.getAttribute("viewBox"));if(f!==l)return f}}}catch(g){WebvisuLogger.error("Exception during manual parsing of SVG size.")}return l};y.wn=function(a){if(a.naturalWidth&&a.naturalHeight)return new A(a.naturalWidth,a.naturalHeight);if(a.width&&a.height)return new A(a.width,a.height);a=y.Er(a);return a!==l?a:new A(0,0)};y.Gi=function(){return y.Hr};y.Jj="undefined"!==typeof MozBlobBuilder;y.Kj=o;if(y.Jj){var a=navigator.userAgent.indexOf("rv");
if(-1!==a)a+=3,y.Kj=9<=parseInt(navigator.userAgent.substr(a,navigator.userAgent.indexOf(".",a)-a),10)}y.Hr=-1!==navigator.userAgent.indexOf("Safari");y.kh=function(){var a="undefined"===typeof ArrayBuffer||"undefined"==typeof Uint8Array||"undefined"!==typeof Int8Arary;a||(a=new ArrayBuffer(4),a=new Int8Array(a,1,2),a=2!==a.byteLength);return a}();y.ep=function(){if(y.kh)return o;var a="undefined"!==typeof DataView,c,d,e,f;if(/opera [56789]|opera\/[56789]/i.test(navigator.userAgent)||/MSIE (\d+\.\d+);/.test(navigator.userAgent))return o;
try{if(a){c=new ArrayBuffer(8);d=new Int8Array(c);for(f=0;8>f;++f)d[f]=f;e=new DataView(c);if(a="function"===typeof e.getFloat64&&"function"===typeof e.getFloat32&&"function"===typeof e.getInt32&&"function"===typeof e.getUint32&&"function"===typeof e.getInt16&&"function"===typeof e.getUint16&&"function"===typeof e.getInt8&&"function"===typeof e.getInt8)e.getFloat64(0),e.getFloat32(0),e.getInt32(0),e.getUint32(0),e.getInt16(0),e.getUint16(0),e.getInt8(0),e.getInt8(0)}}catch(g){return o}return a}();
y.Jr=y.kh||!y.Jj||y.Kj})();var Configuration;
Configuration=function(){this.PlcAddress="0101";this.UseLocalHost=k;this.CommBufferSize=5E4;this.ErrorReconnectTime=1E4;this.Application="Application";this.UpdateRate=200;this.BestFit=o;this.StartVisu="Visualization";this.PollingRegistrationInterval=100;this.TimeMeasurements="";this.LogLevel="INFO";this.MaxUnusedImageAge=2E4;this.MaxUndrawnImageAge=1E4;this.NumCachedImages=15;this.ChangeWindowTitle=k;this.TooltipFont="11px Arial";this.DefaultKeyActions=k;this.ANSIStringEncoding="iso-8859-1";this.CommitEditcontrolOnClickOut=
k;this.HandleTouchEvents=o;this.FuzzyTransparencyColorEvaluation=k;this.TouchHandlingActive=this.Benchmarking=this.HasKeyboard=this.LoadImagesById=o;this.ClientName="";this.ScaleTypeIsotropic=this.SemiTransparencyActive=o;this.GesturesFlickPanThresholdPxPerSecond=1E3;this.GesturesPanFlickTimeThresholdMs=40;this.GesturesTouchMouseTimeThresholdMs=250;this.GesturesPanClickThresholdDistSquare=10;this.WorkaroundDisableMouseUpDownAfterActiveTouch=k;this.WorkaroundDisableSVGAspectRatioWorkaround=this.WorkaroundDisableResizeHandling=
o;this.WorkaroundPostDataInHeaderOverride=0;this.DebugOnlyDiagnosisDisplay=this.DebugOnlyPrintTouchRectangles=this.DebugOnlyPrintGestures=this.DebugOnlyPrintRawTouches=this.DebugOnlyPrintPaintCommands=o};
Configuration.prototype={hv:function(){"string"!==typeof this.PlcAddress&&h(Error("Plc address must be of type string"));"boolean"!==typeof this.UseLocalHost&&h(Error("UseLocalHost must be of type boolean"));"number"!==typeof this.CommBufferSize&&h(Error("CommBufferSize must be of type number"));"number"!==typeof this.ErrorReconnectTime&&h(Error("ErrorReconnectTime must be of type number"));"string"!==typeof this.Application&&h(Error("Application must be of type string"));"number"!==typeof this.UpdateRate&&
h(Error("UpdateRate must be of type number"));"boolean"!==typeof this.BestFit&&h(Error("BestFit must be of type boolean"));"string"!==typeof this.StartVisu&&h(Error("StartVisu must be of type string"));"number"!==typeof this.PollingRegistrationInterval&&h(Error("PollingRegistrationInterval must be of type number"));"string"!==typeof this.TimeMeasurements&&h(Error("TimeMeasurements must be of type string"));"string"!==typeof this.TooltipFont&&h(Error("TooltipFont must be of type string"));"boolean"!==
typeof this.DefaultKeyActions&&h(Error("DefaultKeyActions must be of type boolean"));"string"!==typeof this.ANSIStringEncoding&&h(Error("ANSIStringEncoding must be of type string"));"boolean"!==typeof this.FuzzyTransparencyColorEvaluation&&h(Error("FuzzyTransparencyColorEvaluation must be of type boolean"));"boolean"!==typeof this.LoadImagesById&&h(Error("LoadImagesById must be of type boolean"));"boolean"!==typeof this.Benchmarking&&h(Error("Benchmarking must be of type boolean"));"boolean"!==typeof this.TouchHandlingActive&&
h(Error("TouchHandlingActive must be of type boolean"));"boolean"!==typeof this.HasKeyboard&&h(Error("HasKeyboard must be of type boolean"));"boolean"!==typeof this.SemiTransparencyActive&&h(Error("SemiTransparencyActive must be of type boolean"));"boolean"!==typeof this.ScaleTypeIsotropic&&h(Error("ScaleTypeIsotropic must be of type boolean"));("number"!==typeof this.GesturesFlickPanThresholdPxPerSecond||0>this.GesturesFlickPanThresholdPxPerSecond)&&h(Error("GesturesFlickPanThresholdPxPerSecond must be of type nonnegative number"));
("number"!==typeof this.GesturesPanFlickTimeThresholdMs||0>this.GesturesPanFlickTimeThresholdMs)&&h(Error("GesturesPanFlickTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesTouchMouseTimeThresholdMs||0>this.GesturesTouchMouseTimeThresholdMs)&&h(Error("GesturesTouchMouseTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesPanClickThresholdDistSquare||0>this.GesturesPanClickThresholdDistSquare)&&h(Error("GesturesPanClickThresholdDistSquare must be of type nonnegative number"));
"boolean"!==typeof this.DebugOnlyPrintPaintCommands&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintRawTouches&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintGestures&&h(Error("DebugOnlyPrintGestures must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintTouchRectangles&&h(Error("DebugOnlyPrintTouchRectangles must be of type boolean"));"boolean"!==typeof this.DebugOnlyDiagnosisDisplay&&
h(Error("DebugOnlyDiagnosisDisplay must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableMouseUpDownAfterActiveTouch&&h(Error("WorkaroundDisableMouseUpDownAfterActiveTouch must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableResizeHandling&&h(Error("WorkaroundDisableResizeHandling must be of type boolean"));this.am();this.ia()},am:function(){return new ua(this.TooltipFont)},ia:function(){return new ja(this.ANSIStringEncoding)},$d:function(){return new ta(this.ANSIStringEncoding)}};
var Ea;Ea=function(a,b,c,d,e){this.CommBufferSize=a;this.wa=b;this.pe=c;this.En=d;this.ii=43981;this.Y=0;this.wi="";this.Un=e};var Ia;Ia=function(a,b,c,d,e,f,g,j,n){this.Fd=a;this.Sa=d%360;this.Qo=e;this.Ro=f;this.Hg=g;(0===this.Hg||2===this.Hg)&&180<this.Sa?(this.Sa-=180,this.xe=j?c:n,this.Dd=b):(this.xe=b,this.Dd=j?c:n)};
Ia.prototype={ut:function(a,b){if(0===b.i()||0===b.h())return"#ffffff";switch(this.Hg){case 0:return this.bj(a,b,o);case 1:return this.Ko(a,b);case 2:return this.bj(a,b,k);default:return"#ffffff"}},bj:function(a,b,c){var d,e,f,g;f=b.mt();var j;d=90<this.Sa?B.Bb(180-this.Sa):B.Bb(this.Sa);e=f.c-Math.max(b.h(),b.i())*Math.cos(d);g=f.b-Math.max(b.h(),b.i())*Math.sin(d);this.nk(f.c,f.b,e,g,b.f,b.g,b.f,b.w)?(f=d,d=b.i()/2*Math.tan(f),d=b.h()/2-d,f=Math.PI/2-f,f=d*Math.cos(f),e=f*f/d,g=d-e,j=Math.sqrt(Math.max(0,
g*e)),d=b.f-j,f=b.g+g,e=b.s+j,g=b.w-g):this.nk(f.c,f.b,e,g,b.f,b.g,b.s,b.g)?(f=d,d=b.h()/2/Math.tan(f),d=b.i()/2-d,f=Math.PI/2-f,f=Math.cos(f)*d,e=f*f/d,j=Math.sqrt(Math.max(0,(d-e)*e)),d=b.f+e,f=b.g-j,e=b.s-e,g=b.w+j):(d=b.f,f=b.g,e=b.s,g=b.w);90<this.Sa&&(d=b.s-(d-b.f),e=b.s-(e-b.f));a=a.createLinearGradient(d,f,e,g);a.addColorStop(0,this.xe);c?(a.addColorStop(0.45,this.Dd),a.addColorStop(0.55,this.Dd),a.addColorStop(1,this.xe)):a.addColorStop(1,this.Dd);return a},Ko:function(a,b){var c=new z(b.f+
b.i()*this.Qo,b.g+b.h()*this.Ro),d=this.gq(b,c),c=a.createRadialGradient(c.c,c.b,0,c.c,c.b,d);c.addColorStop(0,this.xe);c.addColorStop(1,this.Dd);return c},nk:function(a,b,c,d,e,f,g,j){var n;n=(j-f)*(c-a)-(g-e)*(d-b);g=(g-e)*(b-f)-(j-f)*(a-e);a=(c-a)*(b-f)-(d-b)*(a-e);if(0===n)return g===a;b=g/n;n=a/n;return 0<=b&&1>=b&&0<=n&&1>=n},gq:function(a,b){var c=[],d,e;c[0]=this.ye(new z(a.f,a.g),b);c[1]=this.ye(new z(a.s,a.g),b);c[2]=this.ye(new z(a.s,a.w),b);c[3]=this.ye(new z(a.f,a.w),b);for(d=e=0;4>d;++d)e=
Math.max(e,c[d]);return Math.sqrt(e)},ye:function(a,b){return(a.c-b.c)*(a.c-b.c)+(a.b-b.b)*(a.b-b.b)}};var Oa;Oa=function(a){this.a=a;this.Gd()};
Oa.prototype={Gd:function(){var a=this.a.S.p.canvas,b=this;a.addEventListener("keydown",function(a){b.Mq(a)},o);a.addEventListener("keypress",function(a){b.Nq(a)},o);a.addEventListener("keyup",function(a){b.Oq(a)},o)},Nq:function(a){var b=this.a.n,a=this.Vp(a);b!==l&&a!==l&&this.a.Xb(E.Xm(b.Y,a))},Mq:function(a){var b=this.Zj(a),c=this.a.n;this.cj(a);c!==l&&b!==l&&this.a.Xb(E.fi(F.on,c.Y,b.key,b.yb))},Oq:function(a){var b=this.Zj(a),c=this.a.n;this.cj(a);c!==l&&b!==l&&this.a.Xb(E.fi(F.pn,c.Y,b.key,
b.yb))},Zj:function(a){var a=a?a:event,b=a.keyCode,c=0;if(16<=b&&18>=b)return l;a.shiftKey&&(c|=1);a.altKey&&(c|=2);a.ctrlKey&&(c|=4);return{key:b,yb:c}},Vp:function(a){var a=a?a:event,b=0;if(a.charCode)b=a.charCode;else if(a.which)b=a.which;if(0===b||a.altKey!==i&&a.altKey===k&&48<=b&&57>=b)return l;if(a.ctrlKey!==i&&a.ctrlKey||a.altKey!==i&&a.altKey)if(!(a.ctrlKey!==i&&a.ctrlKey)||!(a.altKey!==i&&a.altKey))return l;return String.fromCharCode(b)},cj:function(a){this.a.j!==l&&!this.a.j.DefaultKeyActions&&
a.preventDefault&&a.preventDefault()}};var Pa;Pa=function(a){this.a=a;this.Ne=o;this.Kg=0;this.Gd()};
Pa.prototype={zm:s("Ne"),Cu:s("Kg"),Gd:function(){var a=this.a.S.p.canvas,b=this;a.addEventListener("mouseup",function(a){b.Tq(a)},o);a.addEventListener("mousedown",function(a){b.Qq(a)},o);a.addEventListener("mousemove",function(a){b.Rq(a)},o);a.addEventListener("mouseout",function(a){b.Sq(a)},o);a.addEventListener("touchstart",function(a){b.Ld(a)},k);a.addEventListener("touchmove",function(a){b.Ld(a)},k);a.addEventListener("touchend",function(a){b.Ld(a)},k)},Fe:function(a,b){this.a.n!==l&&this.a.Xb(E.gi(b,
this.a.n.Y,y.me(a)))},gk:function(a){return 1===a.which},Tq:function(a){H.T()<this.Kg||this.gk(a)&&this.Fe(a,F.li)},Qq:function(a){!(H.T()<this.Kg)&&this.gk(a)&&(this.a.Lb.hm()&&this.a.Lb.uh(this.a.j.CommitEditcontrolOnClickOut),this.a.Ec.Nt(a),this.Fe(a,F.Wf))},Rq:function(a){this.Ne||this.Fe(a,F.Xf)},Sq:function(a){this.Fe(a,F.sn)},Ld:function(a){if(this.a.j!==l&&this.a.j.HandleTouchEvents&&!this.a.j.TouchHandlingActive){var b,c=l;switch(a.type){case "touchstart":b=F.Wf;this.Ne=k;break;case "touchmove":b=
F.Xf;break;case "touchend":b=F.li;this.Ne=o;break;default:return}a.touches&&1<=a.touches.length?c=y.ne(a.touches[0]):a.changedTouches&&1<=a.changedTouches.length&&(c=y.ne(a.changedTouches[0]));c!==l&&(this.a.n!==l&&(b===F.Wf&&this.a.Ec.dv(c),this.a.Xb(E.gi(b,this.a.n.Y,c))),a.preventDefault())}}};var Qa;Qa=function(a,b,c){this.Hc=a;this.dp=b;this.tg=c;this.zk=L.r(1E3)};Qa.prototype={Mt:function(){return this.dp-this.zk.size()},Yb:t("zk"),finish:function(){this.tg=0},zf:function(){return 0===this.tg}};
var Ra;Ra=s("a");Ra.prototype={pu:function(){var a=this.a.Ca(),b=this.a.Ua();b.mv(this.a.n.Y);a.Xa(b.Va(),this,k)},Wa:q(),G:q()};var Va;
Va=function(a,b,c,d){this.a=a;var b=this.Vj(b),c=this.Vj(c),e=1;(b.width!==c.width||b.height!==c.height)&&h(Error("Expected two canvasses of the same size"));y.An(b,c);this.Ia=this.Wj(b);this.p=this.Wj(c);this.ls=Wa.xn();d&&(this.cm()&&(e=y.rd()),this.Pl(e));this.Fg=new Xa;this.Sj=new Ya(this.p);this.Zi=new Ya(this.Ia);this.Ye=o;this.Mg=new cb;this.Lg=new db(this.a);this.mh=new eb(this);this.rg=o;this.kp=new fb(a)};
Va.prototype={oc:function(){return new M(0,0,this.Ia.canvas.width,this.Ia.canvas.height)},clear:function(){this.p.clearRect(0,0,this.p.canvas.width,this.p.canvas.height);this.Ia.fillStyle="#ffffff";this.Ia.fillRect(0,0,this.Ia.canvas.width,this.Ia.canvas.height)},lt:function(){var a=H.eg(this.Ia.canvas);return new z(a.f,a.g)},getContext:function(){return this.Ye?this.Ia:this.p},z:function(){return this.Ye?this.Zi:this.Sj},hu:function(){this.Ye=k},iu:function(){this.Ye=o},Is:function(){this.rg=k},
ct:function(a,b){this.a.Ec.Xu();this.Fg.clear();this.p.save();this.Sj.apply();this.Zi.apply();var c=this.sr(a),d,e=o,f=this;for(d=0;d<c.length;++d)c[d]instanceof gb&&!c[d].Ct(this.Lg,this.Mg)&&(e=k),c[d]instanceof hb&&c[d].execute(this);this.Oo()?e?(WebvisuLogger.Q("Waiting for image(s) to load"),this.Lg.xs(function(){WebvisuLogger.Q("Loading image(s) finished so continue with drawing");f.wj(c,b)})):this.wj(c,b):b()},Pt:function(){(new ib).rs("DevicePixelRatioChanged","true")},cm:function(){return(new ib).zt("DevicePixelRatioChanged")},
pg:function(a){this.Ia.canvas.width=this.p.canvas.width=a.F;this.Ia.canvas.height=this.p.canvas.height=a.D},uj:function(){return new A(document.documentElement.clientWidth,document.documentElement.clientHeight)},Pl:function(a){this.ls&&(a=1);try{var b=this.uj(),c;this.pg(b.scale(a));c=this.uj();(c.F>b.F||c.D>b.D)&&this.pg(c.scale(a))}catch(d){WebvisuLogger.warn("Exception during resizing canvasses: "+d),this.pg((new A(window.innerWidth,window.innerHeight)).scale(a))}},wj:function(a,b){if(this.rg)this.a.Dl(),
this.rg=o;var c,d,e=[];for(c=0;c<a.length;++c)d=a[c],d instanceof jb?d.execute(this):d instanceof kb&&e.push(d);this.Fg.vs(this.p);for(c=0;c<a.length;++c)d=a[c],!(d instanceof jb)&&!(d instanceof kb)&&!(d instanceof hb)&&a[c].execute(this);this.p.restore();for(c=0;c<e.length;++c)e[c].execute(this);this.fr();this.a.Ec.at(0===a.length);this.kp.qf(this.p);b()},Oo:function(){return this.a.xb===l||!this.a.xb.q.dm()},fr:function(){if(!this.a.n.En){if(this.Mj===i)this.Mj=H.T();if(!(3E4>H.T()-this.Mj)){this.p.save();
var a=new M(this.p.canvas.width-160,10,this.p.canvas.width-10,50);this.p.strokeStyle="#808080";this.p.fillStyle="#c7c7c7";this.p.lineWidth=2;B.ji(this.p,a.f,a.g,a.i(),a.h(),k,k);this.p.fillStyle="#ffffff";this.p.font="16px Arial";this.p.textAlign="center";this.p.textBaseline="middle";this.p.fillText("Demo Mode",a.f+a.i()/2,a.g+a.h()/2);this.p.restore()}}},sr:function(a){var b=Array(a.Hc),c,d;if(0<a.Hc){c=N.r(a.Yb().Yb(),this.a.n.wa,this.a.ia());c=new lb(c);for(d=0;d<a.Hc;++d)if(c.v()<c.size()-4){var e=
c.v(),f=c.getUint32(),g=c.getUint32();b[d]=mb.Ym(g,c,f,this);c.seek(e+f)}}return b},Vj:function(a){var b=window.document.getElementById(a);b===l&&h(Error("Canvas "+a+" does not exist"));return b},Wj:function(a){a=a.getContext("2d");a===l&&h(Error("Creating graphics context failed"));return a}};var Ya;Ya=function(a){this.Oc=l;this.Ag="#ffffff";this.ak=o;this.Rg="#000000";this.Ke=o;this.Sg=0.5;this.al="#000000";this.ub="12px Arial";this.Qj=12;this.ea=a;this.$g=new z(0,0)};
Ya.prototype={yu:function(a,b){this.Ag=a;this.ak=b;this.ea.fillStyle=this.Ag},Eu:function(a,b,c,d,e,f){this.Sg=a;this.Rg=b;this.Ke=c;this.Hb=d;this.Ib=e;this.yd=f;this.ea.strokeStyle=this.Rg;this.ea.lineWidth=Math.max(1,this.Sg);this.ea.lineCap=this.Hb;this.ea.lineJoin=this.Ib;this.ea.miterLimit=this.yd},Su:function(a,b,c){this.ub=a;this.Qj=b;this.al=c;this.ea.font=this.ub},apply:function(){this.ea.fillStyle=this.Ag;this.ea.strokeStyle=this.Rg;this.ea.lineWidth=this.Sg;this.ea.font=this.ub;this.ea.lineCap=
this.Hb;this.ea.lineJoin=this.Ib;this.ea.miterLimit=this.yd},Ih:function(){return this.Oc===l?this.ak:this.Oc.Fd},Zb:function(){return this.Oc!==l},Au:s("Oc"),If:function(){this.Oc=l;this.apply()},nf:function(a){this.ea.fillStyle=this.Oc.ut(this.ea,a)}};var nb;nb=q();nb.to="3.5.8.0";var ob;
ob=function(a,b,c){this.pq();WebvisuLogger.info("Webvisualization starting");WebvisuLogger.info("Version: "+nb.to);this.xb=this.Sc=l;this.Lb=new pb(this);this.ah();this.S=new Va(this,a,b,c);this.Gd();this.Xv=new Oa(this);this.Xg=new Pa(this);this.Ec=new qb(this);this.qq(b);this.df=l;this.xg=new rb(new Configuration);this.hh("Loading Webvisualization");this.Ee=l;this.Td=-1;this.Jc=new sb(this);this.Gj()};window.Webvisu=ob;
ob.prototype={Gj:function(){var a=this.Jc;if(this.Ee!==l)this.Ta!==l&&this.Ta.push(this.Ee),this.Ee=l;this.Jc=l;try{a.execute()}catch(b){this.error("Unexpected Exception: "+b)}},ah:function(){this.Ta=this.j=this.n=l;this.bw=this.Gk=o;if(this.xb!==l)this.xb.yh(),this.xb=l;this.Lb.hm()&&this.Lb.close();this.Sc!==l&&this.Sc.detach();WebvisuExtensionMgr.Vs()},Gd:function(){var a=this;window.addEventListener("unload",function(b){a.Pq(b)},o)},qq:function(a){var b="WebvisuAutotestInst";window[b]=new WebvisuAutotest(this,
a);window.WebvisuAutotest_raiseMouse=window[b].raiseMouse;window.WebvisuAutotest_raiseKey=window[b].raiseKey;b="WebvisuExtensionMgr";window[b]=WebvisuExtensionMgr;window.WebvisuExtensionMgr_register=window[b].register;window.WebvisuExtensionMgr_openControlRelative=window[b].openControlRelative},pq:function(){WebvisuLogger=x.Fh();var a=window.document.getElementById("WebvisuLoggingElem");a!==l?(a=new x.zn(a),a.Lu(),a.Lf(o),a.Ph(100)):(a=new x.Sm,a.Tu());WebvisuLogger.nl(a);WebvisuLogger.ib(x.Cb.tc)},
hh:function(a){this.df!==l&&this.Dl();this.df=new tb(a,this.S)},Dl:function(){this.df.close();this.df=l},Ca:function(){return new ub(this)},Ua:function(){return this.n===l?new vb(k,43981):new vb(this.n.wa,this.n.ii)},xm:function(a){"TRACE"===a.LogLevel?WebvisuLogger.ib(x.Cb.lg):"DEBUG"===a.LogLevel?WebvisuLogger.ib(x.Cb.qd):"INFO"===a.LogLevel?WebvisuLogger.ib(x.Cb.tc):"WARNING"===a.LogLevel?WebvisuLogger.ib(x.Cb.Tv):"ERROR"===a.LogLevel?WebvisuLogger.ib(x.Cb.sd):"FATAL"===a.LogLevel?WebvisuLogger.ib(x.Cb.oi):
WebvisuLogger.warn("Unexpected loglevel: "+a.LogLevel);this.j=a;this.xg=new rb(a);if(this.j.TouchHandlingActive)this.xb=new wb(this);if(this.j.BestFit&&!this.j.WorkaroundDisableResizeHandling){if(this.Sc===l)this.Sc=new xb(this);this.Sc.ws()}},ia:function(){return this.xg.vg},$d:function(){return this.xg.Nc},Bm:function(a){!window.btoa&&a&&(WebvisuLogger.warn("POST data in header should be done but is not supported by the browser"),a=o);this.Gk=a},tu:s("n"),X:function(a,b){this.Jc=a;0>=b&&(b=0);this.Uk(b)},
xu:s("Ee"),Pr:s("Jc"),error:function(a){WebvisuLogger.error(a);a=this.j!==l?this.j.ErrorReconnectTime:1E4;WebvisuLogger.info("Will restart in "+a+"ms");this.ah();this.Cr();this.hh("An error happened; will automatically restart");this.X(new yb(this),a)},Kt:function(){this.Jm("The webvisualization license expired.","License Expired")},Jm:function(a,b){WebvisuLogger.warn(a+" Webvisualization is stopped");this.hh(b);this.ah();this.Pr(new yb(this))},wu:s("Ta"),Uk:function(a){var b=this;this.Td=window.setTimeout(function(){b.Gj()},
a)},Xb:function(a){this.Ta!==l&&(this.Ta.push(a),this.Jc!==l&&this.Jc.Cs()&&(clearTimeout(this.Td),this.Uk(0)))},Pq:function(){this.n!==l&&(new Ra(this)).pu()},Cr:function(){var a=this.S.p,b;for(b=0;20>b;++b)a.restore()}};var WebvisuAutotest;WebvisuAutotest=function(a,b){this.a=a;this.ej=b};
WebvisuAutotest.prototype={raiseMouse:function(a,b,c){var d,e,f=window.document.getElementById(this.ej),g;d="mousemove"!==a;e=window;g=window.document.createEvent("MouseEvents");g.initMouseEvent(a,k,d,e,0,b,c,b,c,o,o,o,o,0,f);Object.defineProperty(g,"layerX",{value:b});Object.defineProperty(g,"layerY",{value:c});g.button=1;g.which=1;f.dispatchEvent(g)},raiseKey:function(a,b,c,d,e){var f=this.a.Lb.Ha;f!==l?13===b||27===b?this.Jk(f,a,b,c,d,e):this.rr(f,b,a,c):this.Jk(window.document.getElementById(this.ej),
a,b,c,d,e)},rr:function(a,b,c,d){if("keypress"===c){var c=a.selectionStart,e=a.selectionEnd,b=String.fromCharCode(b);d||(b=b.toLowerCase());a.value=a.value.substr(0,c)+b+a.value.substr(e);c===e&&this.Up(a);this.Nr(a,c+1)}},Nr:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(k);c.moveEnd("character",b);c.moveStart("character",b);c.select()}},Up:function(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),
b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b},Jk:function(a,b,c,d,e,f){var g;window.document.createEventObject!==i?(g=document.createEvent("Events"),g.initEvent(b,k,k),g.which=c,g.keyCode=c,g.shiftKey=d,g.ctrlKey=f,g.altKey=e,g.metaKey=o):(g=window.document.createEvent("KeyboardEvent"),g.initKeyboardEvent===i?g.initKeyEvent(b,k,k,l,f,e,d,o,c,c,c,a):g.initKeyboardEvent(b,k,k,l,f,e,d,o,c,c,c,a),delete g.keyCode,
Object.defineProperty(g,"keyCode",{value:c}),delete g.charCode,Object.defineProperty(g,"charCode",{value:c}),delete g.shiftKey,Object.defineProperty(g,"shiftKey",{value:d}),delete g.ctrlKey,Object.defineProperty(g,"ctrlKey",{value:f}),delete g.altKey,Object.defineProperty(g,"altKey",{value:e}),delete g.metaKey,Object.defineProperty(g,"metaKey",{value:o}),delete g.which,Object.defineProperty(g,"which",{value:c}),delete g.target,Object.defineProperty(g,"target",{value:a}));a.dispatchEvent(g)}};var WebvisuExtensionMgr;
(function(){var a;a=function(){this.zg=[];this.Bc={}};a.prototype={register:function(a){a===l&&h(Error("null value not expected"));"function"!==typeof a.instantiateIf&&h(Error("function instantiateIf of extensionFactory expected"));this.zg.push(a)},openControlRelative:function(a,c,d,e,f,g){a===l&&h(Error("null value not expected"));"number"!==typeof c&&h(new TypeError("Expected numeric value"));"number"!==typeof d&&h(new TypeError("Expected numeric value"));"number"!==typeof e&&h(new TypeError("Expected numeric value"));
"number"!==typeof f&&h(new TypeError("Expected numeric value"));g===l&&h(Error("null value not expected"));c=new M(c,d,c+e,d+f);d=H.eg(g);c=c.$b(d.f,d.g);H.dg(a,c);a.style.zIndex=300;g.parentNode.appendChild(a)},ev:function(a){var c;for(c=0;c<this.zg.length;++c){var d=this.zg[c].instantiateIf(a);if(d!==l&&d!==i){if(this.is(d))return d;break}}return l},Vs:function(){var a;for(a=0;a<this.Bc.length;++a)this.Bc[a]&&this.Nl(a);this.Bc=[]},Qs:function(a,c,d,e){a.create(d.f,d.g,d.i(),d.h(),e);this.Bc[c]=
a},Nl:function(a){var c=this.Je(a);c!==l&&(c.destroy(),delete this.Bc[a])},Ps:function(a,c){var d=this.Je(a);d!==l&&d.setVisibility(c)},Os:function(a,c){var d=this.Je(a);d!==l&&d.move(c.f,c.g,c.i(),c.h())},Ns:function(a,c,d){a=this.Je(a);return a===l?l:a.invoke(c,d)},Je:function(a){var c=this.Bc[a];return!c?(WebvisuLogger.warn("Not existing extension with id "+a+" accessed; ignored"),l):c},is:function(a){return!this.Bd(a,"create")||!this.Bd(a,"setVisibility")||!this.Bd(a,"move")||!this.Bd(a,"invoke")||
!this.Bd(a,"destroy")?o:k},Bd:function(a,c){return"function"!==typeof a[c]?(WebvisuLogger.warn("Extension object is missing an implementation of '"+c+"'"),o):k}};WebvisuExtensionMgr=new a})();var L;L=function(a){a===i&&(a=10);this.o=new ArrayBuffer(a);this.pb=new Uint8Array(this.o);this.W=0};L.r=function(a){return y.xd()?new zb:new L(a)};
L.prototype={Dr:function(){this.Pk(this.Hq(this.o.byteLength))},Pk:function(a){var b=this.pb;this.o=new ArrayBuffer(a);this.pb=new Uint8Array(this.o);for(a=0;a<this.W;++a)this.pb[a]=b[a]},Hq:function(a){return 500>a?2*a:Math.floor(1.3*a)},$e:function(a,b){this.pb[a]=b},sm:function(a){a>this.o.byteLength&&this.Pk(a)},ql:function(a){this.W>=this.o.byteLength&&this.Dr();var b=this.W;this.W++;this.$e(b,a)},vl:function(a,b,c){var d=new Uint8Array(a),e;this.sm(this.size()+c);if(200<c&&0===b%4&&0===this.W%
4&&!y.Gi()){var f=Math.floor(c/4);e=Math.floor(this.W/4);var a=new Uint32Array(a,4*Math.floor(b/4),f),g=new Uint32Array(this.o,4*e,f),j=c-4*f;for(e=0;e<f;++e)g[e]=a[e];for(e=0;e<j;++e)this.pb[this.W+e+4*f]=d[b+e+4*f]}else for(e=0;e<c;++e)this.pb[this.W+e]=d[b+e];this.W+=c},Oh:function(a,b){this.$e(a,b)},Tl:function(a){return this.pb[a]},size:t("W"),Yb:function(){var a=new ArrayBuffer(this.W),b=new Uint8Array(this.o),c,d=new Uint8Array(a);for(c=0;c<this.W;++c)d[c]=b[c];return a}};var zb;
(function(){function a(a){return String.fromCharCode((a>>4)+65)+String.fromCharCode((a&15)+65)}zb=function(){this.o="";this.W=0};zb.prototype={$e:function(b,c){var d=l,e=l,f;0<b&&(d=this.o.substr(0,2*b));b<this.W-1&&(e=this.o.substr(2*b+2,this.o.length-2*b-2));f="";d!==l&&(f=d);f=f.concat(a(c));e!==l&&(f=f.concat(e));this.o=f},sm:q(),ql:function(b){this.o=this.o.concat(a(b));this.W++},us:function(b){var c="",d;for(d=0;d<b.length;++d)c=c.concat(a(b.charCodeAt(d)));this.o=this.o.concat(c);this.W+=c.length/
2},vl:function(a,c,d){this.o=this.o.concat(a.substr(2*c,2*d));this.W+=d},Oh:function(a,c){this.$e(a,c)},Tl:function(a){return this.o.charCodeAt(2*a)-65<<4|this.o.charCodeAt(2*a+1)-65},size:t("W"),Yb:t("o")}})();var N;
(function(){function a(a,b,c){return function(){if(0===this.d%c&&(1===c||this.H))try{return(new a[b+"Array"](this.o,this.d,1))[0]}catch(d){}return l}}function b(a,b){return function(){var c=this["getOptimized"+a]();c===l&&(c=this["_get"+a]());this.d+=b;return c}}function c(c,d){N.prototype["getOptimized"+c]=a(this,c,d);N.prototype["get"+c]=b(c,d)}N=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));
c===i&&(c=(new Configuration).ia());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ja||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.H=b;this.Kb=e;this.o=a;this.d=d;this.pb=new Uint8Array(this.o);this.Ob=c;this.l=new Db(this,this.H)};N.r=function(a,b,c,d,e){return y.bn()?new Eb(a,b,c,d,e):y.xd()?new Fb(a,b,c,d,e):new N(a,b,c,d,e)};N.prototype={dd:t("H"),md:t("Ob"),getString:function(a,
b){var c=a*(b?2:1),d;(0>a||this.d+c>this.o.byteLength)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.l.qm(this.o,this.d,a,c,b,this.Ob);this.d+=c;return d},zb:function(a){return this.l.zb(a)},bd:function(){return String.fromCharCode(this.getUint8())},mc:function(){return this.d>=this.Kb},v:t("d"),seek:s("d"),size:t("Kb"),bq:function(){return this.l.Hl()},aq:function(){return this.l.Gl()},dq:function(){return this.l.Jl()},jq:function(){return this.l.xh()},cq:function(){return this.l.Il()},iq:function(){return this.l.wh()},
eq:function(){return this.l.Kl()},C:function(a){return this.pb[a]},getUint8:function(){var a=this.C(this.d);this.d++;return a},Zd:t("o")};var d={Int8:1,Int16:2,Int32:4,Uint16:2,Uint32:4,Float32:4,Float64:8},e,f;for(e in d)if(d.hasOwnProperty(e))c(e,d[e]),f="_getFloat64",N.prototype[f]=N.prototype.bq,f="_getFloat32",N.prototype[f]=N.prototype.aq,f="_getInt32",N.prototype[f]=N.prototype.dq,f="_getUint32",N.prototype[f]=N.prototype.jq,f="_getInt16",N.prototype[f]=N.prototype.cq,f="_getUint16",N.prototype[f]=
N.prototype.iq,f="_getInt8",N.prototype[f]=N.prototype.eq})();var lb;lb=s("l");
lb.prototype={dd:function(){return this.l.dd()},md:function(){return this.l.md()},getString:function(a,b){return this.l.getString(a,b)},zb:function(a){return this.l.zb(a)},bd:function(){return this.l.bd()},mc:function(){return this.l.mc()},v:function(){return this.l.v()},seek:function(a){this.l.seek(a)},size:function(){return this.l.size()},getFloat64:function(){this.Cc(8);return this.l.getFloat64()},getFloat32:function(){this.Cc(4);return this.l.getFloat32()},getInt32:function(){this.Cc(4);return this.l.getInt32()},
getUint32:function(){this.Cc(4);return this.l.getUint32()},getInt16:function(){this.Cc(2);return this.l.getInt16()},getUint16:function(){this.Cc(2);return this.l.getUint16()},getInt8:function(){return this.l.getInt8()},getUint8:function(){return this.l.getUint8()},C:function(a){return this.l.C(a)},Zd:function(){return this.l.Zd()},Cc:function(a){var b=this.l.v();8!==a&&4!==a&&2!==a||0===b%a||this.l.seek(b+a-b%a)}};var Eb;
Eb=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader_DataView requires an ArrayBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ia());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ja||h(new TypeError("BinaryReader_DataView requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.H=b;this.Sb=new DataView(a,0,e+d);this.Kb=e;this.o=a;this.d=d;this.Ob=
c;this.l=new Db(this,this.H)};
Eb.prototype={dd:t("H"),md:t("Ob"),getString:function(a,b){var c=a*(b?2:1),d;(0>a||2*(this.d+c)>this.o.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.l.qm(this.o,this.d,a,c,b,this.Ob);this.d+=c;return d},zb:function(a){return this.l.zb(a)},bd:function(){return String.fromCharCode(this.getUint8())},mc:function(){return this.d>=this.Kb},v:t("d"),seek:s("d"),size:t("Kb"),getFloat64:function(){var a=this.Sb.getFloat64(this.d,this.H);this.d+=8;return a},getFloat32:function(){var a=this.Sb.getFloat32(this.d,
this.H);this.d+=4;return a},getInt32:function(){var a=this.Sb.getInt32(this.d,this.H);this.d+=4;return a},getUint32:function(){var a=this.Sb.getUint32(this.d,this.H);this.d+=4;return a},getInt16:function(){var a=this.Sb.getInt16(this.d,this.H);this.d+=2;return a},getUint16:function(){var a=this.Sb.getUint16(this.d,this.H);this.d+=2;return a},getInt8:function(){var a=this.Sb.getInt8(this.d);this.d++;return a},getUint8:function(){var a=this.C(this.d);this.d++;return a},C:function(a){return this.Sb.getUint8(a)},
Zd:t("o")};var Fb;Fb=function(a,b,c,d,e){"string"!==typeof a&&h(new TypeError("BinaryReader_StringBased expects a string"));b===i&&h(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ia());d===i&&(d=0);e===i&&(e=a.length/2);c instanceof ja||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.length/2)&&h(Error("Valid data range exceeded"));this.H=b;this.Kb=e;this.o=a;this.d=d;this.Ob=c;this.l=new Db(this,b)};
Fb.prototype={dd:t("H"),md:t("Ob"),getString:function(a,b){var c=a*(b?2:1),d,e;(0>a||2*(this.d+c)>this.o.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=Array(a);if(b){var f;if(this.H)for(e=0;e<a;++e)f=2*e+this.d,d[e]=(this.C(f+1)<<8)+this.C(f);else for(e=0;e<a;++e)f=2*e+this.d,d[e]=this.C(f+1)+(this.C(f)<<8);d=String.fromCharCode.apply(l,d)}else{for(e=this.d;e<this.d+a;++e)d[e-this.d]=this.C(e);d=this.Ob.Ts(d)}this.d+=c;return d},zb:function(a){return this.l.zb(a)},bd:function(){return String.fromCharCode(this.getUint8())},
mc:function(){return this.d>=this.Kb},v:t("d"),seek:s("d"),size:t("Kb"),getFloat64:function(){var a=this.l.Hl();this.d+=8;return a},getFloat32:function(){var a=this.l.Gl();this.d+=4;return a},getInt32:function(){var a=this.l.Jl();this.d+=4;return a},getUint32:function(){var a=this.l.xh();this.d+=4;return a},getInt16:function(){var a=this.l.Il();this.d+=2;return a},getUint16:function(){var a=this.l.wh();this.d+=2;return a},getInt8:function(){var a=this.l.Kl();this.d++;return a},getUint8:function(){var a=
this.C(this.d);this.d++;return a},C:function(a){return this.o.charCodeAt(2*a)-65<<4|this.o.charCodeAt(2*a+1)-65},Zd:t("o")};var Db;Db=function(a,b){this.A=a;this.H=b};
Db.prototype={zb:function(a){var b=this.A.v(),c=0;if(a)for(;0!==this.A.getUint16();)c++;else for(;0!==this.A.getUint8();)c++;this.A.seek(b);b=this.A.getString(c,a);a?this.A.getUint16():this.A.getUint8();return b},Hl:function(){var a=this.A.v(),b=this.A.C(this.ca(a,0,8)),c=this.A.C(this.ca(a,1,8)),d=this.A.C(this.ca(a,2,8)),e=this.A.C(this.ca(a,3,8)),f=this.A.C(this.ca(a,4,8)),g=this.A.C(this.ca(a,5,8)),j=this.A.C(this.ca(a,6,8)),n=this.A.C(this.ca(a,7,8)),a=1-2*(b>>7),b=((b<<1&255)<<3|c>>4)-(Math.pow(2,
10)-1),c=(c&15)*Math.pow(2,48)+d*Math.pow(2,40)+e*Math.pow(2,32)+f*Math.pow(2,24)+g*Math.pow(2,16)+j*Math.pow(2,8)+n;return 1024===b?0!==c?NaN:Infinity*a:-1023===b?a*c*Math.pow(2,-1074):a*(1+c*Math.pow(2,-52))*Math.pow(2,b)},Gl:function(){var a=this.A.v(),b=this.A.C(this.ca(a,0,4)),c=this.A.C(this.ca(a,1,4)),d=this.A.C(this.ca(a,2,4)),e=this.A.C(this.ca(a,3,4)),a=1-2*(b>>7),b=(b<<1&255|c>>7)-127,c=(c&127)<<16|d<<8|e;return 128===b?0!==c?NaN:Infinity*a:-127===b?a*c*Math.pow(2,-149):a*(1+c*Math.pow(2,
-23))*Math.pow(2,b)},Jl:function(){var a=this.xh();return a>Math.pow(2,31)-1?a-Math.pow(2,32):a},xh:function(){var a=this.A.v(),b=this.A.C(this.ca(a,0,4)),c=this.A.C(this.ca(a,1,4)),d=this.A.C(this.ca(a,2,4)),a=this.A.C(this.ca(a,3,4));return b*Math.pow(2,24)+(c<<16)+(d<<8)+a},Il:function(){var a=this.wh();return a>Math.pow(2,15)-1?a-Math.pow(2,16):a},wh:function(){var a=this.A.v(),b=this.A.C(this.ca(a,0,2)),a=this.A.C(this.ca(a,1,2));return(b<<8)+a},Kl:function(){var a=this.A.C(this.A.v());return a>
Math.pow(2,7)-1?a-Math.pow(2,8):a},qm:function(a,b,c,d,e,f){var g=l;if(e){if(this.H&&0===b%2)try{g=new Int16Array(a,b,c)}catch(j){}if(g===l)if(g=new Int16Array(Array(c)),b=new Uint8Array(a,b,d),this.H)for(a=0;a<c;++a)g[a]=(b[2*a+1]<<8)+b[2*a];else for(a=0;a<c;++a)g[a]=b[2*a+1]+(b[2*a]<<8);b=[];for(a=0;a<c;++a)b[a]=g[a];return String.fromCharCode.apply(l,b)}g=new Int8Array(a,b,c);return f.vh(g)},ca:function(a,b,c){return a+(this.H?c-b-1:b)}};var P;
P=function(a,b,c){a instanceof L||h(new TypeError("BinaryWriter expects a BinaryBuffer"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.fc=a;this.H=b;this.Aa=-1;this.yg=c};P.r=function(a,b,c){c=new Gb(c);return y.xd()?new Hb(a,b,c):new P(a,b,c)};
P.prototype={Yr:function(a){var b=a.length/2,c,d;1!==b&&2!==b&&4!==b&&h(Error("Unexpected size for swapping"));for(d=0;d<b;++d)c=a[d],a[d]=a[a.length-d-1],a[a.length-d-1]=c},ec:function(a,b,c){var d=new ArrayBuffer(c),b=new b(d),d=new Uint8Array(d);b[0]=a;1<c&&!this.H&&this.Yr(d,c);for(a=0;a<c;++a)this.Wi(d[a])},Wi:function(a){-1!==this.Aa?(this.fc.Oh(this.Aa,a),this.Aa++):this.fc.ql(a)},seek:s("Aa"),v:function(){return-1!==this.Aa?this.Aa:this.fc.size()},mf:function(a){var b=[204,221],c;for(c=0;c<
a;++c)this.Z(b[c%2])},Z:function(a){this.Wi(a)},ul:function(a){this.ec(a,Int8Array,1)},ba:function(a){this.ec(a,Uint16Array,2)},Oa:function(a){this.ec(a,Int16Array,2)},B:function(a){this.ec(a,Uint32Array,4)},tl:function(a){this.ec(a,Int32Array,4)},rl:function(a){this.ec(a,Float32Array,4)},sl:function(a){this.ec(a,Float64Array,8)},Ub:function(a,b){this.zd(a,b,o)},Vb:function(a,b){this.zd(a,b,k)},zd:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ba(e):128>e?this.Z(e):this.Z(this.yg.Ol(e))}c&&
(b?this.ba(0):this.Z(0))}};var Hb;Hb=function(a,b,c){a instanceof zb||h(new TypeError("BinaryWriter expects a BinaryBuffer_StringBased"));b===i&&h(Error("Byteorder must be explicitly assigned"));this.fc=a;this.H=b;this.Aa=-1;this.yg=c};
Hb.prototype={Jb:function(a){if(-1!==this.Aa)for(var b=0;b<a.length;++b)this.fc.Oh(this.Aa,a.charCodeAt(b)&255),this.Aa++;else this.fc.us(a)},seek:s("Aa"),v:function(){return-1!==this.Aa?this.Aa:this.fc.size()},mf:function(a){var b=[204,221],c;for(c=0;c<a;++c)this.Z(b[c%2])},Z:function(a){this.Jb(this.Mc(a,8,o))},ul:function(a){this.Jb(this.Mc(a,8,k))},ba:function(a){this.Jb(this.Mc(a,16,o))},Oa:function(a){this.Jb(this.Mc(a,16,k))},B:function(a){this.Jb(this.Mc(a,32,o))},tl:function(a){this.Jb(this.Mc(a,
32,k))},rl:function(a){this.Jb(this.Dj(a,23,8))},sl:function(a){this.Jb(this.Dj(a,52,11))},Ub:function(a,b){this.zd(a,b,o)},Vb:function(a,b){this.zd(a,b,k)},zd:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ba(e):128>e?this.Z(e):this.Z(this.yg.Ol(e))}c&&(b?this.ba(0):this.Z(0))},Dj:function(a,b,c){var d=Math.pow(2,c-1)-1,e=-d+1,f=e-b,g=parseFloat(a),j=isNaN(g)||-Infinity==g||Infinity==g?g:0,n=0,m=2*d+1+b+3,a=Array(m),v=0>(g=0!==j?0:g),J=Math.floor(g=Math.abs(g)),C=g-J,K=
[],r;for(r=m;r;a[--r]=0);for(r=d+2;J&&r;a[--r]=J%2,J=Math.floor(J/2));for(r=d+1;0<C&&r;(a[++r]=(1<=(C*=2))-0)&&--C);for(r=-1;++r<m&&!a[r];);if(a[(K=b-1+(r=(n=d+1-r)>=e&&n<=d?r+1:d+1-(n=e-1)))+1]){if(!(g=a[K]))for(C=K+2;!g&&C<m;g=a[C++]);for(C=K+1;g&&0<=--C;(a[C]=!a[C]-0)&&(g=0));}for(r=0>r-2?-1:r-3;++r<m&&!a[r];);(n=d+1-r)>=e&&n<=d?++r:n<e&&(n!=d+1-m&&n<f&&this.warn("encodeFloat::float underflow"),r=d+1-(n=e-1));if(J||0!==j)this.warn(J?"encodeFloat::float overflow":"encodeFloat::"+j),n=d+1,r=d+2,
-Infinity==j?v=1:isNaN(j)&&(a[r]=1);for(g=Math.abs(n+d),C=c+1,c="";--C;c=g%2+c,g=g>>=1);for(g=0,C=0,r=(c=(v?"1":"0")+c+a.slice(r,r+b).join("")).length,K=[];r;C=(C+1)%8)g+=(1<<C)*c.charAt(--r),7==C&&(K[K.length]=String.fromCharCode(g),g=0);K[K.length]=g?String.fromCharCode(g):"";return(this.H?K:K.reverse()).join("")},Mc:function(a,b,c){var d=[],e=Math.pow(2,b);if(c){if(c=-Math.pow(2,b-1),a>-c-1||a<c)this.ml("encodeInt::overflow"),a=0}else if(a>e||0>a)this.ml("encodeInt::overflow"),a=0;for(0>a&&(a+=
e);a;a=Math.floor(a/256))d[d.length]=String.fromCharCode(a%256);for(b=-(-b>>3)-d.length;b;b--)d[d.length]=String.fromCharCode(0);return(this.H?d:d.reverse()).join("")},ml:function(a){h(Error(a))}};var Ib;Ib=function(a,b,c,d,e){this.l=N.r(a,b,c,d,e)};Ib.prototype={cd:function(){var a,b=0,c=0;do a=this.l.getUint8(),b|=(a&127)<<c,c+=7;while(0!==(a&128));return b}};var Jb;Jb=function(a,b,c){this.Dc=P.r(a,b,c)};
Jb.prototype={J:function(a,b){var c,d,e;c=b!==i?b:this.fq(a);0===c&&h(Error("Expected value for MBui greater then zero"));d=a;for(e=0;e<c-1;e++)this.Dc.Z(d&127|128),d>>=7;this.Dc.Z(d&127);0!==d>>7&&h(Error("Value "+a+" cannot be written as an MBUI with "+c+" bytes"))},fq:function(a){var b=0;do a>>=7,b++;while(0<a);return b}};var Kb;Kb=function(a,b,c,d){this.Ai=a;this.pe=b;this.Zm=c;this.Um=d};var ub;ub=function(a){this.P=new XMLHttpRequest;this.a=a};
ub.prototype={Xa:function(a,b,c,d){c===i&&(c=o);d===i&&(d=o);this.qb=b;var b="/Tc3PlcHmiWebService",e=this,d=this.Kr(d,a);y.Bt()&&(b+="?"+H.T());this.P.open("POST",b,!c);if(!c&&!y.xd())this.P.responseType="arraybuffer";this.P.setRequestHeader("Content-Type","application/octet-stream");d&&this.P.setRequestHeader("3S-Repl-Content",this.Cp(a));if(!c)this.P.onreadystatechange=function(){e.Tt()};y.Tn()?d?this.P.send():this.P.send(a):(c=new MozBlobBuilder,c.append(a),this.P.send(c.getBlob()))},Kr:function(a,
b){return!window.btoa?o:(a||this.a.Gk)&&b instanceof ArrayBuffer&&70>b.byteLength?k:o},Cp:function(a){var b="",a=new Uint8Array(a),c=a.byteLength,d;for(d=0;d<c;d++)b+=String.fromCharCode(a[d]);return window.btoa(b)},jm:function(a,b){this.qb=b;this.P.open("GET",a,k);var c=this;this.P.onreadystatechange=function(){c.St(a)};this.P.send()},St:function(a){4==this.P.readyState&&(200==this.P.status||"OK"==this.P.status?this.qb.Ql(this.P.responseText):this.qb.G("Loading file '"+a+"' failed: "+this.P.status))},
Tt:function(){if(4==this.P.readyState)if(200==this.P.status||"OK"==this.P.status){this.P.onreadystatechange=l;var a;y.xd()?(a=this.P.responseText,""===a&&(a=l)):(a=this.P.response,a instanceof ArrayBuffer&&0===a.byteLength&&(a=l));try{a!==l||this.Ep()?this.qb.Wa(a):this.qb.G("Sending service failed, server not available?")}catch(b){this.qb.G("Unexpected exception while evaluating comm result"+b)}}else 4E3===this.P.status?this.a.Kt():0===this.P.status?this.qb.G("Sending service aborted"):this.qb.G("Sending service failed, status: "+
this.P.status)},Ep:function(){return"function"!==typeof this.qb.Ah?o:k}};var Q;Q=q();Q.Ci=65407;Q.Di=1;Q.Bi=2;Q.$n=130;Q.ao=32;Q.bo=33;Q.Ki=34;Q.Ji=35;Q.Yn=129;Q.co=16;Q.Zn=17;Q.Eb=4;Q.Fi=1;Q.Sn=2;Q.Ei=3;Q.fg=4;Q.Jv=5;Q.Rn=6;Q.eo=1;Q.Pv=1;Q.fo=3;Q.kg=132;Q.mo=1;Q.ho=2;Q.no=3;Q.io=4;Q.oo=2;Q.jo=3;Q.ko=4;Q.lo=1;Q.po=134;Q.qo=2;Q.di=0;Q.Tm=1;var Lb;Lb=function(a,b,c){this.eh=a;this.fh=b;this.Sk=c;this.Ze=0};
Lb.Zt=function(a){var b=a.getUint16(),c;52565!=b&&h(Error("Unsupported protocol: "+b));this.Ed=a.getUint16();12>this.Ed&&h(Error("Unsupported length of header: "+this.Ed));this.eh=a.getUint16();this.fh=a.getUint16();this.Sk=a.getUint32();this.Ze=a.getUint32();b=this.Ed-12;16<=this.Ed&&(a.getUint16(),b-=2);for(c=0;c<b;++c)a.getUint8();return this};Lb.Pn=4;Lb.Qn=20;Lb.vo=16;Lb.prototype={write:function(a,b){a.ba(52565);a.ba(Lb.vo);a.ba(this.eh);a.ba(this.fh);a.B(this.Sk);a.B(b);a.ba(0);a.ba(0)}};var Mb;
Mb=function(a,b,c){this.jc=new Ib(a,b,c);this.K=this.jc.l};
Mb.prototype={au:function(){try{if("|"!=this.K.bd())return"Unexpected format of service: 1";var a=this.el(),b=o;if(4>a.length)return"Unexpected format of service: 2";5<=a.length&&(b="true"===a[4]);return new Ea(parseInt(a[0],10),0===parseInt(a[1],10),parseInt(a[2],10),"true"!==a[3],b)}catch(c){return"Exception during readOpenConnectionResult: "+c}},bu:function(){var a=this.el(),b;for(b=0;b<a.length;++b)if(0===a[b].indexOf("IPv4:"))return a[b].substr(5);return""},el:function(){for(var a=[],b="";!this.K.mc();){var c=
this.K.bd();"|"==c?(a.push(b),b=""):b+=c}return a},Xe:function(a,b){for(var c=this.K.v()+a;this.K.v()<c;){var d=this.jc.cd(),e=this.jc.cd(),d=b[d],f=this.K.v();"function"===typeof d&&d(this,e);d=this.K.v()-f;d<e&&this.Tr(e-d)}},$t:function(){try{var a=this.We(Q.Di,Q.Bi),b=0,c=0,d=0,e=Q.di,f={};f[Q.$n]=function(a,d){var e={};e[Q.ao]=function(a){b=a.K.getUint16()};e[Q.bo]=function(a){c=a.K.getUint32()};a.Xe(d,e)};f[Q.Ki]=function(a){e=a.K.getUint32()};f[Q.Ji]=function(a){d=a.K.getUint32()};this.Xe(a.Ze,
f);return new Kb(b,c,e,d)}catch(g){return"Exception during readDeviceLoginResult: "+g}},du:function(){try{for(this.We(Q.Eb,Q.Fi);!this.K.mc();){var a=this.jc.cd(),b;this.jc.cd();if(a===Q.Ci)return"Visu not supported by the plc";b=this.K.getUint32();return 2952790016>b?b:4294967292===b?"No more memory on the plc":4294967293===b?"Connection to invalid application":"Unknown error"}return"Unexpected format of service: 4"}catch(c){return"Exception during readVisuRegisterClientResult: "+c}},cu:function(){try{for(this.We(Q.Eb,
Q.Ei);!this.K.mc();){var a=this.jc.cd(),b;this.jc.cd();if(a===Q.Ci)return"Visu not supported by the plc";b=this.K.getUint32();return 0===b||1===b?b:2===b?"Client registration failed":3===b?"Client registration failed due to an invalid external id":"Unknown error"}return"Unexpected format of service: 5"}catch(c){return"Exception during readVisuIsRegisteredClientResult: "+c}},Hf:function(a){try{var b=this.We(Q.Eb,Q.fg),c=0,d=a,a={};a[Q.kg]=function(a,b){var e={};e[Q.oo]=function(a){a.K.getUint32();
var b=a.K.getUint32(),c=a.K.getUint32(),a=a.K.getUint32();d=new Qa(b,c,a)};e[Q.ko]=function(){d.finish()};e[Q.lo]=function(a){c=a.K.getUint32()};e[Q.jo]=function(a,b){d.Yb().vl(a.K.Zd(),a.K.v(),Math.min(b,d.Mt()))};a.Xe(b,e)};this.Xe(b.Ze,a);return 0!==c?65535===c?"Client id not or no longer valid":c.toString():d===l?"Unexpected format of service: 6":d}catch(e){return"Exception during readVisuGetPaintDataResult: "+e}},Tr:function(a){this.K.seek(this.K.v()+a)},We:function(a,b){var c=Lb.Zt(this.K),
d=Lb.Pn+c.Ed+c.Ze;this.K.size()<d&&h(Error("Actual packet size "+this.K.size()+" smaller than expected "+d));(c.eh!=(128|a)||c.fh!=b)&&h(Error("Unexpected format of service: 3"));return c}};var vb;vb=function(a,b,c){this.H=a;this.jp=b;this.o=L.r(50);this.aa=new Jb(this.o,a,c);this.u=this.aa.Dc};
vb.prototype={Va:function(){return this.o.Yb()},Vt:function(a,b,c){this.ve(1);this.u.Ub("|",o);this.u.Ub(a,o);this.u.Ub("|",o);this.u.Ub(b.toString(),o);this.u.Ub("|",o);this.u.Ub(c.toString(),o);this.u.Ub("|",o)},nu:function(){this.ve(3)},Zs:function(){this.ve(100)},Ws:function(a,b,c,d){if(a===i||a===l)a="";b===i&&(b=l);c===i&&(c=0);if(d===i)d=Q.di;var e=this.Uc(Q.Di,Q.Bi),f=l;this.aa.J(Q.Ki);this.aa.J(4,3);this.u.B(d);0!==c&&(this.aa.J(Q.Ji),this.aa.J(4,3),this.u.B(c));a=this.$p(a);b!==l&&0!==c&&
d===Q.Tm&&(f=this.Zp(b,c));this.aa.J(Q.Yn);this.aa.J(a.size()+(f!==l?f.size():0),2);this.ue(this.u,a);f!==l&&this.ue(this.u,f);this.Gc(e)},lv:function(a,b,c){var d=this.Uc(Q.Eb,Q.Fi),e=a.length+4+1,f=this.Gg(e,4,0),g=0,j=0;b&&0<b.length&&g++;c&&0<c.length&&g++;0<g&&(j=8+84*g,e+=j);this.aa.J(Q.eo);this.aa.J(e+f,3);this.u.Vb(a,o);this.og(this.u,f,0);this.u.B(524288);0<g&&(this.u.B(j),this.u.B(g),b&&0<b.length&&(this.u.ba(1),this.u.Vb(b,o),this.u.mf(82-b.length-1)),c&&0<c.length&&(this.u.ba(2),this.u.Vb(c,
o),this.u.mf(82-c.length-1)));this.Gc(d)},jv:function(a){var b=this.Uc(Q.Eb,Q.Ei);this.aa.J(Q.fo);this.aa.J(4,3);this.u.B(a);this.Gc(b)},Qf:function(a){this.ll(a,Q.fg,Q.kg)},iv:function(a){var b=this.Uc(Q.Eb,Q.fg);this.aa.J(Q.kg);this.aa.J(8,2);this.aa.J(Q.io);this.aa.J(4,3);this.u.B(a);this.Gc(b)},kv:function(a){this.ll(a,Q.Rn,Q.po)},mv:function(a){var b=this.Uc(Q.Eb,Q.Sn);this.aa.J(Q.qo);this.aa.J(4,3);this.u.B(a);this.Gc(b)},ll:function(a,b,c){b=this.Uc(Q.Eb,b);a=this.kq(a);this.aa.J(c);this.aa.J(a.size(),
2);this.ue(this.u,a);this.Gc(b)},Gc:function(a){var b=this.u.v()-a.Wn;this.ms(a.yn,b)},Uc:function(a,b){var c=new Lb(a,b,this.jp);this.ve(2);this.u.mf(Lb.Qn);return{yn:c,Wn:this.u.v()}},$p:function(a){var b=L.r(10+a.length),c=new Jb(b,this.H),d=c.Dc,e=a.length+1,f=this.Gg(e,4,2);c.J(Q.co);c.J(e+f);d.Vb(a,o);this.og(d,f,0);return b},Zp:function(a,b){var c=this.Yp(a,b),d=L.r(10+c.length),e=new Jb(d,this.H),f=e.Dc;e.J(Q.Zn);e.J(c.length,3);for(e=0;e<c.length;++e)f.Z(c[e]);return d},Yp:function(a,b){var c=
"Qcw@e46A6!R.gssltR4dg=_l)B^nQSo^",d="",e=[],f,g=0,j=0,n,m=a.length+1,v=[b&255,0,0,0];for(f=0;f<c.length;f+=4)d=d.concat(String.fromCharCode(c.charCodeAt(f+2)+3)),d=d.concat(String.fromCharCode(c.charCodeAt(f+1)+2)),d=d.concat(String.fromCharCode(c.charCodeAt(f+3)+4)),d=d.concat(String.fromCharCode(c.charCodeAt(f+0)+1));c=d;32>m&&(m=32);0!==m%4&&(m+=4-m%4);for(f=0;f<m;++f)d=c.charCodeAt(g),n=0,f<a.length&&(n=a.charCodeAt(f)),e[f]=(n^d+v[j])&255,g++,g===c.length&&(g=0),j++,4===j&&(j=0);return e},kq:function(a){var b=
L.r(100),c=new Jb(b,this.H),d=c.Dc,e=a.Si;c.J(Q.mo);c.J(16,3);d.B(a.jb);d.B(a.In);d.B(a.Jn);d.B(a.Vm);if(e!==l){c.J(Q.ho);var f=e.size(),g;g=this.Gg(f,4,0);c.J(f+g,3);this.ue(d,e);this.og(d,g,0)}a.bc!==l&&(c.J(Q.no),c.J(8,3),d.ba(a.bc.f),d.ba(a.bc.g),d.ba(a.bc.s),d.ba(a.bc.w));return b},ue:function(a,b){var c=b.size(),d;for(d=0;d<c;++d)a.Z(b.Tl(d))},Gg:function(a,b,c){for(var d=0;0!==(a+c)%b;)a++,d++;return d},og:function(a,b,c){for(var d=0;d<b;++d)a.Z(c)},ve:function(a){this.u.Z(a);this.u.Z(0);this.u.ba(0)},
ms:function(a,b){this.u.seek(4);a.write(this.u,b)}};var F;F=q();F.rn=1;F.Wf=2;F.li=4;F.Xf=16;F.on=128;F.pn=256;F.dn=257;F.ki=1048576;F.mn=512;F.nn=513;F.tn=515;F.mi=516;F.qn=518;F.jn=2049;F.hn=2050;F.en=2051;F.fn=2052;F.gn=2053;F.kn=2054;F.ln=2055;F.sn=4096;F.ni=2097152;var E;E=function(a,b,c,d){c===i&&(c=0);d===i&&(d=0);this.jb=a;this.Vm=b;this.In=c;this.Jn=d;this.bc=this.Si=l;this.Rc=o};E.gi=function(a,b,c){return new E(a,b,c.Wb())};E.fi=function(a,b,c,d){return new E(a,b,c,d)};
E.Xm=function(a,b){return new E(F.dn,a,b.charCodeAt(0))};E.hi=function(a,b,c,d){a=new E(F.mi,a,b?c?3:1:0,0);b=L.r(8);c=P.r(b,k);c.Oa(0);c.Oa(0);c.Oa(d.i()-1);c.Oa(d.h()-1);a.Ya(b);return a};E.prototype={Ya:s("Si"),Pu:function(){this.Rc=k}};var Nb;Nb=function(a){a===i&&(a=100);this.Ce=[];this.Xc=this.Nd=0;this.Kd=a;this.He=o;this.lk=0};
Nb.prototype={push:function(a){if(a.jb!==F.ni)this.lk=H.T();if(this.tq(a))return k;if(this.He)return"undefined"!==typeof WebvisuLogger&&WebvisuLogger.warn("Eventqueue full, dropped event with tag "+a.jb),o;this.Ce[this.Xc%this.Kd]=a;this.Xc=(this.Xc+1)%this.Kd;if(this.Xc==this.Nd)this.He=k;return k},empty:function(){return!this.He&&this.Nd===this.Xc},pop:function(){if(this.empty())return l;this.He=o;var a=this.Nd;this.Nd=(this.Nd+1)%this.Kd;return this.Ce[a]},tq:function(a){if(!this.empty()&&(a.jb===
F.Xf||a.jb===F.gn||a.jb===F.ln||a.jb===F.mi)){var b=(this.Xc+this.Kd-1)%this.Kd;if(this.Ce[b].jb===a.jb)return this.Ce[b]=a,k}return o}};var db;db=function(a){this.Pb={};this.a=a;this.Tg=l};
db.prototype={xf:function(a,b,c){c===i&&(c=l);var d=this.Jq(a,c),e;e=this.Pb[d];if(e!==i)return e;e=new Ob(this.a,a,c,b);return this.Pb[d]=e},xs:function(a){var b=[];this.Rj(function(c){c.ee()||(b.push(c),c.ys(function(){b.splice(b.indexOf(c),1);0===b.length&&setTimeout(a,0)}))})},Fs:function(){var a=H.T(),b=[],c=this.a.j,d,e;if(-1!==c.NumCachedImages)if(0===c.NumCachedImages)this.Pb={};else if(this.Rj(function(d,e){var j=d.Bq,n=d.wk?c.MaxUnusedImageAge:c.MaxUndrawnImageAge;0!==j&&j<a-n&&b.push({path:e,
time:j})}),d=Math.min(H.cn(this.Pb)-c.NumCachedImages,b.length),0<d){b.sort(function(a,b){return a.Km-b.Km});for(e=0;e<d;++e)delete this.Pb[b[e].path]}},gu:function(a){delete this.Pb[a]},Lt:function(){if(this.Tg===l)this.Tg=this.a.j.LoadImagesById;return this.Tg},Rj:function(a){var b,c;for(b in this.Pb)c=this.Pb[b],a(c,b)},Jq:function(a,b){return b===l?a:a+":"+b}};var Ob;Ob=function(a,b,c,d){this.a=a;this.wk=o;this.Qb=c;this.Mb=H.ri(b);this.wr=3;this.Xk(d);this.nh();this.Ng=this.Re=this.hf=l};
Ob.prototype={nq:function(){try{this.Qb!==l&&!this.ik()&&this.es(),this.qg(2)}catch(a){this.a.error("Unexpected exception during load image callback: "+a)}},ik:function(){return 3<=this.Mb.length&&"SVG"==this.Mb.substring(this.Mb.length-3).toUpperCase()},es:function(){try{var a=window.document.createElement("canvas"),b=a.getContext("2d"),c,d,e=parseInt(this.Qb.substr(1,2),16),f=parseInt(this.Qb.substr(3,2),16),g=parseInt(this.Qb.substr(5,2),16),j=this.Wp(),n=this.Wl();a.width=n.F;a.height=n.D;b.drawImage(this.hc,
0,0);c=b.getImageData(0,0,a.width,a.height);for(d=0;d<c.data.length;d+=4)j(c.data[d+0],c.data[d+1],c.data[d+2],e,f,g)&&(c.data[d+3]=0,c.data[d+0]=0,c.data[d+1]=0,c.data[d+2]=0);b.putImageData(c,0,0);this.hf=a;this.hc=l}catch(m){this.hf=this.Qb=l,WebvisuLogger.warn("Exception during making image "+this.Mb+" transparent. Is this an SVG? As a workaround it will be rendered ignoring the transparency color")}},Dq:function(a){try{if(WebvisuLogger.warn("Loading image "+this.Mb+" failed: "+a.type),0<=this.wr--){var b=
this;window.setTimeout(function(){WebvisuLogger.info("Triing to load the image "+b.Mb+" again");b.Xk(b.Mb)},50);this.qg(4)}else this.qg(3)}catch(c){this.a.error("Unexpected exception during handling of load image problems: "+c)}},vt:function(){this.nh();this.wk=k;2!==this.N&&WebvisuLogger.warn("Access to not (yet) loaded image");return this.hf!==l?this.hf:this.hc},Wl:function(){if(this.Ng===l)this.Ng=y.wn(this.hc);return this.Ng},ys:s("Re"),ee:function(){return 2===this.N||3===this.N},loaded:function(){return 2===
this.N},qg:function(a){this.nh();this.N=a;if(this.Re!==l&&this.ee())this.Re(),this.Re=l},nh:function(){this.Bq=H.T()},Xk:function(a){this.hc=new Image;var b=this;this.hc.onload=function(){b.nq()};this.hc.onerror=function(a){b.Dq(a)};this.N=1;this.hc.src=this.Io(a)},Io:function(a){var b=this.Mb;a&&(b+="?"+H.T());this.ik()&&!this.a.j.WorkaroundDisableSVGAspectRatioWorkaround&&(b+="#svgView(preserveAspectRatio(none))");return b},Wp:function(){return this.a.j.FuzzyTransparencyColorEvaluation?function(a,
b,c,d,e,f){return 2>Math.abs(a-d)&&2>Math.abs(b-e)&&2>Math.abs(c-f)}:function(a,b,c,d,e,f){return a===d&&b===e&&c===f}}};var cb;cb=function(){this.wb={};this.ob=l;this.le="<Project>"};
cb.prototype={Yl:function(a){var a=a.toLowerCase().split("."),b=[],c;for(c=0;c<a.length;++c)b[c]=H.yc(a[c]);var d;if(1>b.length)return l;a=b[b.length-1];if(1===b.length)return this.Md(this.Lp(a));c=b[b.length-2];if(2==b.length){d=this.Mp(c);if(d!==l)return this.Md(this.Bg(a,d));d=this.Dg(c);return d!==l?this.Md(this.Ge(a,d)):l}b=b.slice(0,b.length-2).join(".");d=this.Dg(b);if(d!==l&&(d=this.Cg(c,d),d!==l))return this.Md(this.Bg(a,d));d=this.Dg(b+"."+c);return d!==l?this.Md(this.Ge(a,d)):l},qu:s("ob"),
Md:function(a){return a!==l?a.path:l},Dg:function(a){var b=this.Ij(a);b===l&&(b=this.Np(a));return b},Ij:function(a){a=this.wb[a];return a!==i?a:l},Np:function(a){if(this.ob!==l){var a=a.toLowerCase(),b,c=l,d;for(b=0;b<this.ob.length;++b)if(this.ob[b].Mh===a){c=this.ob[b].om;break}if(c!==l)for(b=0;b<this.ob.length;++b)if(this.ob[b].Mh!==a&&this.ob[b].om===c&&(d=this.Ij(this.ob[b].Mh),d!==l))return d}return l},Lp:function(a){var b=this.wb[this.le],c;if(b!==i&&(b=this.Ge(a,b),b!==l))return b;for(c in this.wb)if(c!==
this.le&&(b=this.Ge(a,this.wb[c]),b!==l))return b;return l},Ge:function(a,b){var c,d;for(c in b.gd)if(d=this.Bg(a,b.gd[c]),d!==l)return d;return l},Bg:function(a,b){var c=b.tf[a];return c===i?l:c},Mp:function(a){var b=this.wb[this.le],c;if(b!==i&&(b=this.Cg(a,b),b!==l))return b;for(c in this.wb)if(b=this.Cg(a,this.wb[c]),b!==l)return b;return l},Cg:function(a,b){var c=b.gd[a];return c!==i?c:l},fill:function(a){var a=a.replace(/\r\n/g,"\n").split("\n"),b,c,d,e,f,g,j;for(b=0;b<a.length;++b)c=a[b].split(";"),
4>c.length||(d=this.Iq(H.yc(c[1])),e=H.yc(c[0]).toLowerCase(),f=H.yc(c[2]).toLowerCase(),g=H.yc(c[3]),c=this.wb[d],c===i?(c={gd:{}},j=this.qj(e),j.tf[f]=this.ug(f,g),c.gd[e]=j,this.wb[d]=c):(j=c.gd[e],j===i?(j=this.qj(e),j.tf[f]=this.ug(f,g),c.gd[e]=j):j.tf[f]=this.ug(f,g)))},Iq:function(a){return a===l||""===a?this.le:a.toLowerCase()},qj:function(a){return{name:a,tf:{}}},ug:function(a,b){return{id:a,path:b}}};var hb;hb=q();hb.prototype={execute:function(a){a=a.a.xb;a!==l&&a.q.Ss()}};var Pb;
Pb=function(a,b){this.e=B.Db(b)};Pb.prototype={execute:function(a){a=a.getContext();a.save();a.beginPath();a.rect(this.e.f,this.e.g,this.e.i(),this.e.h());a.clip()}};var Qb;Qb=function(a,b){this.e=B.oe(b,o);this.Te=0!==b.getInt8();this.Rb=b.getInt8();switch(this.Rb){case 2:case 4:this.Ae=b.getUint32();this.zj=b.getUint32();this.Be=b.getUint32();break;case 1:case 3:this.lj=b.getInt16(),this.Ae=b.getUint32()}};
Qb.prototype={execute:function(a){var b=a.getContext(),c=this.e.f,d=this.e.g,e=this.e.i(),f=this.e.h(),g=b.lineWidth;b.save();this.Rk=a.a.j.SemiTransparencyActive;a.z().Zb()?a.z().nf(this.e):b.fillStyle=this.Rk===k?B.$a(this.Ae):B.pa(this.Ae);b.lineWidth=1;c+=0.5;d+=0.5;switch(this.Rb){case 2:case 4:this.hr(b,c,d,e,f);break;case 1:case 3:this.gr(b,c,d,e,f)}b.lineWidth=g;a.z().Zb()&&a.z().If();b.restore()},hr:function(a,b,c,d,e){var f,g,j;this.Rk===k?(f=this.Te?B.$a(this.Be):"#000000",g=B.$a(this.zj),
j=B.$a(this.Be)):(f=this.Te?B.pa(this.Be):"#000000",g=B.pa(this.zj),j=B.pa(this.Be));this.Te?(a.strokeStyle=f,a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e)):(a.fillRect(b,c,d,e),a.strokeStyle=g,a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.moveTo(b,c),a.lineTo(b,c+e),a.stroke(),a.closePath(),a.strokeStyle=f,a.beginPath(),a.moveTo(b,c+e),a.lineTo(b+d,c+e),a.lineTo(b+d,c),a.stroke(),a.closePath(),a.strokeStyle=j,a.beginPath(),a.moveTo(b+1,c+e-1),a.lineTo(b+d-2,c+e-1),a.moveTo(b+d-1,c+1),a.lineTo(b+d-1,
c+e-1),a.stroke(),a.closePath())},gr:function(a,b,c,d,e){var f=new Rb(this.Ae,this.lj);if(this.Te)a.strokeStyle=B.pa(f.Ul(0)),a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e);else{a.strokeStyle="#000000";a.fillRect(b,c,d,e);a.strokeRect(b,c,d,e);var g;for(g=0;g<this.lj;++g)a.beginPath(),a.moveTo(b+g,c+e-g),a.lineTo(b+g,c+g),a.lineTo(b+d-g,c+g),a.strokeStyle=B.pa(f.kt(g)),a.stroke(),a.beginPath(),a.moveTo(b+d-g,c+1+g),a.lineTo(b+d-g,c+e-g),a.lineTo(b+1+g,c+e-g),a.strokeStyle=B.pa(f.Ul(g)),a.stroke()}}};var gb;
gb=function(a,b,c){var a=b.v(),d,e;d=b.getUint16();e=b.getString(d,o);d=b.getUint16();d=b.getString(d,o);""!==e&&(d=e+"."+d);this.Oe=d;this.e=B.oe(b,k);this.e.normalize();e=b.getUint32();this.yq=0!==(e&1);this.Vi=0!==(e&2);this.Nj=0!==(e&4);this.Sr=0!==(e&8);this.hj=0!==(e&16);this.gl=0!==(e&32);this.$j=0!==(e&128);this.Qk=0!==(e&256);this.kl=0!==(e&1024);this.$i=0!==(e&2048);this.Qd=0!==(e&4096);this.Hj=o;this.Qb=B.pa(b.getUint32());if(c>=b.v()-a+16)this.Hj=k,this.Fp=b.getFloat32(),this.Gp=b.getFloat32();
this.fb=l};
gb.prototype={execute:function(a){var a=a.getContext(),b=B.Dn(this.e),c=this.e.ua(),d=this;this.Qr(a,c,b);this.fb!==l&&(this.fb.loaded()?this.pp(a,this.fb.vt(),function(){return d.fb.Wl()},c):this.qp(a,this.e));this.Sr&&(c=B.$f(a),a.strokeRect(this.e.f+c,this.e.g+c,this.e.i(),this.e.h()));this.Yo(a,b)},Ct:function(a,b){var c;this.Qd&&(c=b.Yl(this.Oe))!==l&&a.gu(c);if(this.fb===l){if(a.Lt())return c="/ImageByImagePoolId?id="+this.Oe,this.fb=this.gl?a.xf(c,this.Qd,this.Qb):a.xf(c,this.Qd),this.fb.ee();
c=b.Yl(this.Oe);if(c!==l)return this.fb=this.gl?a.xf(c,this.Qd,this.Qb):a.xf(c,this.Qd),this.fb.ee();WebvisuLogger.warn("Imagepoolentry for "+this.Oe+" not found");return k}return this.fb.ee()},pp:function(a,b,c,d){if(this.Nj&&this.Hj){var e=c(),d=this.xo(d,new A(this.Fp*e.F,this.Gp*e.D));this.Nj=o;this.Vi=k}this.Vi?a.drawImage(b,d.f,d.g,d.i(),d.h()):this.yq?(e=c(),d.i()/e.F<d.h()/e.D?(c=d.i()*e.D/e.F,e=d.i()):(c=d.h(),e=d.h()*e.F/e.D),d=this.yo(new M(d.f,d.g,d.f+e,d.g+c),d),a.drawImage(b,d.f,d.g,
e,c)):a.drawImage(b,d.f,d.g)},xo:function(a,b){this.$j?(a.f+=Math.floor(a.i()/2)-Math.floor(b.F/2),a.s=a.f+b.F):this.Qk?a.f=a.s-b.F:a.s=a.f+b.F;this.kl?(a.g+=Math.floor(a.h()/2)-Math.floor(b.D/2),a.w=a.g+b.D):this.$i?a.g=a.w-b.D:a.w=a.g+b.D;return a},yo:function(a,b){a.i()<b.i()&&(this.$j?a=a.$b(Math.floor(b.i()/2)-Math.floor(a.i()/2),0):this.Qk&&(a=a.$b(b.i()-a.i(),0)));a.h()<b.h()&&(this.kl?a=a.$b(0,Math.floor(b.h()/2)-Math.floor(a.h()/2)):this.$i&&(a=a.$b(0,b.h()-a.h())));return a},Qr:function(a,
b,c){c&&(a.save(),b.Qa.of(a,b));this.hj&&(a.save(),a.beginPath(),a.rect(b.f,b.g,b.i()+1,b.h()+1),a.clip())},Yo:function(a,b){this.hj&&a.restore();b&&a.restore()},qp:function(a,b){var c=b.em(-3);a.save();a.fillStyle="#eeeeee";a.strokeStyle="#ff0000";a.lineWidth=3;a.fillRect(c.f,c.g,c.i(),c.h());a.beginPath();a.moveTo(c.f,c.g);a.lineTo(c.s,c.w);a.moveTo(c.s,c.g);a.lineTo(c.f,c.w);a.closePath();a.stroke();a.restore()}};var Sb;
Sb=function(a,b){this.e=B.oe(b,k);this.Wk=B.Bb(b.getInt16());this.Zr=B.Bb(b.getInt16());this.Hp=1==b.getInt16()};
Sb.prototype={execute:function(a){var b=a.getContext(),c=this.e.i(),d=this.e.h(),e=!a.z().Ih(),f=!a.z().Ke,g=Math.min(c,d)/2;0>=c||0>=d||(b.save(),this.Ao(b),a.z().Zb()&&a.z().nf(this.hq(g)),b.beginPath(),b.arc(0,0,g,this.Wk,this.Wk+this.Zr,o),this.Hp&&(b.lineTo(0,0),b.closePath(),e&&b.fill()),b.restore(),f&&b.stroke(),a.z().Zb()&&a.z().If())},hq:function(a){return new M(-a,-a,a,a)},Ao:function(a){var b=this.e.i(),c=this.e.h();this.e.Qa!==l?this.e.Qa.of(a,this.e):a.translate(this.e.f+0.5,this.e.g+
0.5);a.translate(b/2,c/2);b>c?a.scale(b/c,1):a.scale(1,c/b)}};var Tb;Tb=function(a,b){this.k=B.zi(b)};Tb.prototype={execute:function(a){var a=a.getContext(),b;for(b=0;b<this.k.length;++b)a.fillRect(this.k[b].c,this.k[b].b,1,1)}};var Ub;Ub=function(a,b){this.Rb=b.getUint16();this.k=B.zi(b)};
Ub.prototype={execute:function(a){var b=a.getContext(),c=!a.z().Ih(),d=!a.z().Ke;if(!(2>this.k.length)){a.z().Zb()&&a.z().nf(this.Xr());d&&this.qr(b);switch(this.Rb){case 0:this.rp(b,c,d);break;case 1:d&&this.sp(b);break;case 2:d&&this.np(b)}a.z().Zb()&&a.z().If()}},qr:function(a){var a=B.$f(a),b;if(0!==a)for(b=0;b<this.k.length;++b)this.k[b].c+=a,this.k[b].b+=a},rp:function(a,b,c){a.beginPath();a.moveTo(this.k[0].c,this.k[0].b);for(var d=1;d<this.k.length;++d)a.lineTo(this.k[d].c,this.k[d].b);a.closePath();
b&&a.fill();c&&a.stroke()},sp:function(a){var b,c,d,e;a.beginPath();a.moveTo(this.k[0].c,this.k[0].b);for(b=1;b<this.k.length;++b)a.lineTo(this.k[b].c,this.k[b].b);1==a.lineWidth&&(c=this.k[b-1].c-this.k[b-2].c,d=this.k[b-1].b-this.k[b-2].b,e=Math.abs(c)-Math.abs(d),0<e?(c=0<c?1:-1,d=0):(c=0>e?0:0<c?1:-1,d=0<d?1:-1),a.lineTo(this.k[b-1].c+c,this.k[b-1].b+d));a.stroke()},np:function(a){a.beginPath();a.moveTo(this.k[0].c,this.k[0].b);for(var b=1;b+3<=this.k.length;)a.bezierCurveTo(this.k[b].c,this.k[b].b,
this.k[b+1].c,this.k[b+1].b,this.k[b+2].c,this.k[b+2].b),b+=3;for(;b<this.k.length;++b)a.lineTo(this.k[b].c,this.k[b].b);a.stroke()},Xr:function(){var a=1E9,b=-1E9,c=1E9,d=-1E9,e;for(e=0;e<this.k.length;++e){if(this.k[e].c<a)a=this.k[e].c;if(this.k[e].b<c)c=this.k[e].b;if(this.k[e].c>b)b=this.k[e].c;if(this.k[e].b>d)d=this.k[e].b}return new M(a,c,b,d)}};var Vb;Vb=function(a,b){var c,d;c=b.getUint16();1==a?d=B.oe(b,k):45==a&&(d=B.Db(b));this.hs=new Wb(c,d)};Vb.prototype={execute:function(a){this.hs.qf(a)}};
var Xb;Xb=function(a,b){this.Rb=b.getUint16();var c,d;c=b.getUint16();d=b.getUint16();this.cf=new A(c,d);c=b.getUint16();d=b.getUint16();this.Vk=new A(c,d);c=b.getUint32();this.fs=0!==(c&1);this.gs=0!==(c&2)};Xb.prototype={execute:function(a){var b=a.z().$g,c;c=new z(b.c+this.Vk.F,b.b+this.Vk.D);(new Wb(this.Rb,new M(c.c,c.b,c.c+this.cf.F,c.b+this.cf.D))).qf(a);this.fs&&(b.c+=this.cf.F);this.gs&&(b.b+=this.cf.D)}};var Wb;Wb=function(a,b){this.Rb=a;this.e=b.Ot()};
Wb.prototype={op:function(a,b,c,d,e,f,g){var j=0.5522848*(d/2),n=0.5522848*(e/2),m=b+d,v=c+e,d=b+d/2,e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-n,d-j,c,d,c);a.bezierCurveTo(d+j,c,m,e-n,m,e);a.bezierCurveTo(m,e+n,d+j,v,d,v);a.bezierCurveTo(d-j,v,b,e+n,b,e);a.closePath();f&&a.fill();g&&a.stroke()},tp:function(a,b,c,d,e,f,g){f&&a.fillRect(b,c,d,e);g&&a.strokeRect(b,c,d,e)},qf:function(a){var b=a.getContext(),c=this.e.f,d=this.e.g,e=this.e.i(),f=this.e.h(),g=!a.z().Ih(),j=!a.z().Ke,n=this.e.Qa;
if(!(0>e||0>f)){a.z().Zb()&&a.z().nf(this.e);n!==l&&(b.save(),this.e.Qa.of(b,this.e));if(j&&n===l)var m=B.$f(b),c=c+m,d=d+m;switch(this.Rb){case 0:this.tp(b,c,d,e,f,g,j);break;case 1:B.ji(b,c,d,e,f,g,j);break;case 2:this.op(b,c,d,e,f,g,j);break;case 3:j&&(b.beginPath(),b.moveTo(c,d+f),b.lineTo(c+e,d),b.stroke());break;case 4:j&&(b.beginPath(),b.moveTo(c,d),b.lineTo(c+e,d+f),b.stroke())}n!==l&&b.restore();a.z().Zb()&&a.z().If()}}};var Yb;
Yb=function(a,b){var c,d;if(3==a||11==a)d=B.yi(b);else if(46==a||47==a)d=B.Nn(b);c=b.getUint32();this.Le=this.mq(c);this.Wc=this.js(c);this.Yi=0!==(c&16);this.Lo=0!==(c&32);this.vr=0!==(c&64);this.lh=0!==(c&256);this.bl=0!==(c&512);this.e=B.bi(d,0!==(c&128));c=b.getUint16();this.O=b.getString(c,11==a||47==a);this.tk=B.Bn(this.O);this.Zk=B.Cn(this.O)};
Yb.prototype={execute:function(a){var b=a.getContext(),c;if(this.vr)c=a.z().$g,this.e=new M(c.c,c.b,c.c+this.e.i(),c.b+this.e.h());b.save();this.e.Qa!==l&&this.e.Qa.of(b,this.e);b.beginPath();b.rect(this.e.f-0.5,this.e.g-0.5,this.e.i()+1,this.e.h()+1);b.clip();b.fillStyle=a.z().al;c=o;if(this.lh||this.bl)c=this.Ar(b,a);c===o&&(this.tk?this.Mk(b,a):this.Nk(b));if(this.Lo)c=a.z().$g,c.c=this.e.f+this.cl(b),c.b=this.e.g;b.restore()},Nk:function(a){this.Zk?this.xr(a):this.ze(a,this.O,this.ng(a))},Mk:function(a,
b){var c=B.ig(this.O),d=this,e,f,g,j,n;if(0<c.length){f=H.si(b);e=f*c.length;this.wo(a,e);e=this.zo(a,e);var m=function(b){d.ze(a,b.text,g)};for(n=0;n<c.length;++n)this.Zk?(j=B.jg(a,c[n]),g=this.Ti(a,j),g.b=e.b,this.jk(j,g,m)):this.ze(a,c[n],e),e.b+=f}},Ar:function(a,b){var c;this.lh?c=this.zr(a,b):this.bl&&(c=this.yr(a,b));return c},zr:function(a,b){var c,d,e,f,g,j,n,m,v=Array(100),J,C=[];c=o;j=-1;m=g=f=0;n=this.e.s-this.e.f;if(this.cl(a)>n){c=k;for(d=this.O[f];d!==i;)e=this.O[f+1],"\r"==d&&"\n"==
e?(g=0,f+=1):(g+=a.measureText(d).width," "==d?j=f:g>n&&(100>m&&-1!=j&&(v[m]=j,m+=1,j=-1),g=0)),f+=1,d=this.O[f];if(0<m){d=0;for(e=this.O.length-1;0<m;){for(J=v[m-1];e>=J;)C[d]=this.O[e],e-=1,d+=1;C[d]="\r";d+=1;C[d]="\n";e-=1;m-=1;d+=1}}this.O=this.O.substr(0,J);for(f=C.length-1;-1<f;f--)this.O+=C[f];this.Mk(a,b)}return c},yr:function(a,b){this.Yi=k;this.Nk(a,b);return k},xr:function(a){var b=B.jg(a,this.O),c=this.Ti(a,b),d=this;this.jk(b,c,function(b){d.ze(a,b.text,c)})},jk:function(a,b,c){var d;
if(2==this.Le)for(d=a.length-1;0<=d;--d)c(a[d]),b.c-=a[d].Th*B.zc;else for(d=0;d<a.length;++d)c(a[d]),b.c+=a[d].Th*B.zc},ze:function(a,b,c){this.Yi&&(b=this.Pp(a,b));a.fillText(b,c.c,c.b)},Pp:function(a,b){if(B.uc(a,b,o)<=this.e.i())return b;for(var c,d=0,e=b.length-1,f,g;1<e-d;){f=Math.floor((d+e)/2);c=b.substr(0,f)+"...";g=B.uc(a,c,o)-this.e.i();if(0===g)return c;0>g?(d=f,g=o):(e=f,g=k)}return g===k?0<f?c.substr(0,f-1)+"...":"":c},zo:function(a,b){var c=this.ng(a);a.textBaseline="top";3===this.Wc?
c=new z(c.c,this.e.g+this.e.h()/2-b/2):2===this.Wc&&(c=new z(c.c,c.b-b));return c},wo:function(a,b){if(this.lh&&3===this.Wc&&this.e.h()<b)this.Wc=1},ng:function(a){var b,c;1===this.Le?(b=this.e.f+1,a.textAlign="left"):3===this.Le?(b=this.e.f+this.e.i()/2,a.textAlign="center"):(b=this.e.s-1,a.textAlign="right");1===this.Wc?(c=this.e.g+2,a.textBaseline="top"):3===this.Wc?(c=this.e.g+this.e.h()/2,a.textBaseline="middle"):(c=this.e.w-1,a.textBaseline="bottom");return new z(b,c)},Ti:function(a,b){var c=
this.ng(a),d,e=0;if(3===this.Le){for(d=0;d<b.length;++d)e+=b[d].Th*B.zc;c.c=this.e.f+(this.e.i()-e+B.zc)/2}return c},mq:function(a){var b=1;0!==(a&1)?b=3:0!==(a&2)&&(b=2);return b},js:function(a){var b=1;0!==(a&4)?b=3:0!==(a&8)&&(b=2);return b},cl:function(a){if(this.tk){var b=0,c=B.ig(this.O),d;for(d=0;d<c.length;++d)b=Math.max(b,B.uc(a,c[d],k));return b}return B.uc(a,this.O,k)}};var kb;
(function(){var a=l;kb=function(a,c){var d=c.getUint16();this.O=c.getString(d,15==a);this.d=B.dc(c);this.Gq=1===(c.getUint32()&1)};kb.prototype={execute:function(b){var c=b.getContext(),d=B.ig(this.O),e=b.a.j.am(),f=this.Mo(c,e,d),g=f.lineHeight,j=new A(6,4),f=this.No(b.oc(),f.size,j),f=f.$b(0.5,0.5);c.save();c.font=e.qi;c.textBaseline="top";c.textAlign="left";c.lineWidth=1;c.strokeStyle="#000000";c.fillStyle="#ffffe1";c.fillRect(f.f,f.g,f.i(),f.h());c.strokeRect(f.f,f.g,f.i(),f.h());c.fillStyle=
"#000000";j=new z(f.f+j.F/2,f.g+j.D/2);for(e=0;e<d.length;++e)c.fillText(d[e],j.c,j.b),j=new z(j.c,j.b+g);this.Gq&&(a=new M(0,0,0,0));(a===l||!f.uf(a))&&this.Lr(b.a,f);a=f;c.restore()},Lr:function(a,c){var d=new E(F.nn,a.n.Y,0,0),e=L.r(8),f=P.r(e,k);f.Oa(Math.floor(c.f));f.Oa(Math.floor(c.g));f.Oa(Math.ceil(c.s));f.Oa(Math.ceil(c.w));d.Ya(e);a.Ta.push(d)},Mo:function(a,c,d){var e=new A(0,0),f=a.font,g,j,n=0;a.font=c.qi;for(g=0;g<d.length;++g)0===g&&(n=H.Zf(c.vn)),j=B.uc(a,d[g],o),e.F=Math.max(e.F,
j),e.D+=n+0;e.D=Math.ceil(e.D);a.font=f;return{size:e,lineHeight:n}},No:function(a,c,d){var e,f;e=this.d.c+20+d.F+c.F>=a.i()?this.d.c-20-d.F-c.F:this.d.c+20;f=this.d.b+20+c.D>=a.h()?this.d.b-20-c.D:this.d.b+20;0>e&&(e=c.F<a.i()?(a.i()-c.F)/2:0);0>f&&(f=c.D<a.h()?(a.h()-c.D)/2:0);return new M(e,f,e+c.F+d.F,f+d.D+c.D)}}})();var Zb;Zb=q();Zb.prototype={execute:q()};var $b;$b=function(a,b){var c=b.getUint16();this.Zo=0===c||2==c};$b.prototype={execute:function(a){this.Zo&&a.a.Lb.close();a.a.Lb.mu()}};
var ac;ac=function(a,b,c){var d;d=b.v();this.$o=b.getUint16();a=b.getUint16();this.jj=b.getString(a,o);c>=b.v()-d+10?(a=b.getUint16(),this.kj=b.getString(a,o)):this.kj=""};
ac.prototype={execute:function(){switch(this.$o){case 0:WebvisuLogger.warn("The functionality start process is not possible in the webvisualization.");break;case 1:case 2:case 3:WebvisuLogger.warn("The functionality printing is not possible in the webvisualization.");break;case 4:this.Fq()}},Fq:function(){"replace"===this.kj?window.location.href=this.jj:window.open(this.jj)}};var jb;jb=function(a,b,c){a=b.v();this.e=B.Db(b);this.gj=k;if(c>=b.v()-a+12)this.gj=0===(b.getUint32()&1)};
jb.prototype={execute:function(a){a.Fg.rh(this.e);this.gj&&a.p.clearRect(this.e.f,this.e.g,this.e.i(),this.e.h());a.a.Ec.eu(this.e)}};var bc;
bc=function(a,b){var c,d,e,f,g;this.Aj=b.getUint32();this.zp=b.getUint32();c=b.getUint16();this.sk=b.getString(c,o);c=b.getUint32();d=b.getUint16();this.Ck=[];this.Dk=o;try{for(e=0;e<d;++e)f=b.getUint32(),g=b.getUint32(),this.Ck.push(this.tr(b,f,g))}catch(j){j instanceof TypeError?(WebvisuLogger.error("Invalid argumenttype for calling '"+this.sk+"'; call will not be executed"),this.Dk=k):h(j)}2==(c&2)?(this.Rd=b.getUint32(),this.bh=b.getUint32()):this.bh=this.Rd=l};
bc.prototype={execute:function(a){if(!this.Dk){var b=WebvisuExtensionMgr.Ns(this.Aj,this.sk,this.Ck);b!==l&&b!==i&&this.bh!==l&&this.Rd!==l&&this.Bp(b,a.a)}},ap:function(a,b){var c=L.r(b),d=P.r(c,k),e;for(e=0;e<b;++e)d.Z(a.getUint8());return N.r(c.Yb(),a.dd(),a.md())},tr:function(a,b,c){a=this.ap(a,c);switch(b){case 0:case 1:return 0!==a.getUint8();case 2:case 10:return a.getUint8();case 6:return a.getInt8();case 3:case 11:return a.getUint16();case 7:return a.getInt16();case 8:return a.getInt32();
case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:return a.getUint32();case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:return a.getFloat32();case 15:return a.getFloat64();case 16:case 17:return a.zb(17===b);default:h(new TypeError("TypeCode + "+b.toString()+" not supported"))}},Bp:function(a,b){var c=L.r(this.bh),d=P.r(c,b.n.wa,b.$d()),e=new E(F.tn,b.n.Y,this.Aj,this.zp);try{this.Dp(a,d),e.Ya(c)}catch(f){WebvisuLogger.error("Failed to encode return value: "+
a.toString()+". Result ignored")}b.Xb(e)},Dp:function(a,b){switch(this.Rd){case 0:case 1:b.Z(a?1:0);break;case 2:case 10:b.Z(a);break;case 6:b.ul(a);break;case 3:case 11:b.ba(a);break;case 7:b.Oa(a);break;case 8:b.tl(a);break;case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:b.B(a);break;case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:b.rl(a);break;case 15:b.sl(a);break;case 16:case 17:b.Vb(a,17===this.Rd);break;default:h(new TypeError("TypeCode + "+this.Rd.toString()+
" not supported"))}}};var cc;cc=function(a,b){var c;this.Kc=b.getUint32();c=b.getUint16();this.mj=b.getString(c,o);this.Jd=B.Db(b)};cc.prototype={execute:function(a){var b=WebvisuExtensionMgr.ev(this.mj);b===l?WebvisuLogger.warn("No native control named '"+this.mj+"' found"):WebvisuExtensionMgr.Qs(b,this.Kc,this.Jd,a.p.canvas)}};var dc;dc=function(a,b){this.Kc=b.getUint32();this.Jd=B.Db(b)};dc.prototype={execute:function(){WebvisuExtensionMgr.Os(this.Kc,this.Jd)}};var ec;
ec=function(a,b){this.Kc=b.getUint32();var c=b.getUint32();this.Rr=1===(c&1);this.Wv=2===(c&2);this.ip=4===(c&4)};ec.prototype={execute:function(){this.ip?WebvisuExtensionMgr.Nl(this.Kc):WebvisuExtensionMgr.Ps(this.Kc,this.Rr)}};var fc;
fc=function(a,b){var c,d,e,f;b.getUint16();b.getUint16();this.Lc=B.Db(b);d=b.getUint32();this.zq=0!==(d&1);this.Ho=0!==(d&2);this.Oj=b.getUint16();c=b.getUint16();this.Rp=b.getString(c,o);this.te=b.getUint16();f=b.getUint16();c=L.r(f);d=P.r(c,k);for(e=0;e<f;++e)d.Z(b.getUint8());this.we=this.Fk=o;if(25==a)d=b.getUint16(),this.Fk=0!==(d&1),this.we=2==(d&2);0<f?(this.we&&(f/=2),c=N.r(c.Yb(),b.dd(),b.md()),this.ck=c.getString(f,this.we)):this.ck=""};
fc.prototype={execute:function(a){var b=window.document.createElement("input"),c=this.Jo(),d=a.lt();if(this.Fk)b.type="password";b.value=this.ck;c=c.$b(d.c,d.b);H.dg(b,c);b.style.zIndex=300;b.style.textAlign=0!==(this.te&1)?"center":0!==(this.te&2)?"right":"left";b.style.fontFamily=this.Rp;b.style.fontSize=this.Oj+"px";if(this.zq)b.style.fontStyle="italic";if(this.Ho)b.style.fontWeight="bold";a.a.Lb.open(b,this.we);b.select()},Jo:function(){var a=this.Lc.f+3,b=this.Lc.s-9,c,d=H.Zf(this.Oj);c=0!==
(this.te&8)?this.Lc.w-d-9:0!==(this.te&4)?this.Lc.g+(this.Lc.h()-d)/2:this.Lc.g+1;return new M(a,c,b,c+d)}};var mb;(function(){var a=l;mb=q();mb.Ym=function(b,c,d,e){a===l&&(a=[Zb,Vb,Ub,Yb,gc,hc,ic,jb,Pb,jc,fc,Yb,$b,Zb,kb,kb,Zb,ac,kc,gb,lc,mc,mc,Qb,nc,fc,cc,bc,dc,ec,oc,Xb,pc,qc,qc,rc,Sb,sc,Zb,Zb,Zb,hb,tc,uc,Tb,Vb,Yb,Yb,oc,vc]);return b<a.length?new a[b](b,c,d,e):new Zb}})();var B;
(function(){var a="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(","),b,c;b=function(b){return a[b>>4&15]+a[b&15]};c=function(a){return a&255};B=q();B.zc=50;B.ci=0;B.je=1;B.pd=2;B.ie=3;B.dc=function(a){var b=a.getInt16(),a=a.getInt16();return new z(b,a)};B.yi=function(a){var b=[],c;for(c=0;4>c;++c)b[c]=B.dc(a);return b};B.Nn=function(a){var b=[];b[0]=B.dc(a);b[2]=B.dc(a);b[1]=new z(b[2].c,b[0].b);b[3]=new z(b[0].c,b[2].b);return b};B.bi=function(a,b){if(b&&(a[0].b!==a[1].b||a[3].b<a[0].b)){var c,g;c=Math.sqrt((a[0].c-
a[1].c)*(a[0].c-a[1].c)+(a[0].b-a[1].b)*(a[0].b-a[1].b));g=Math.sqrt((a[0].c-a[3].c)*(a[0].c-a[3].c)+(a[0].b-a[3].b)*(a[0].b-a[3].b));return new M(0,0,c,g,wc.Wm((a[1].c-a[0].c)/c,(a[1].b-a[0].b)/c,(a[3].c-a[0].c)/g,(a[3].b-a[0].b)/g,a[0].c,a[0].b))}return new M(a[0].c,a[0].b,a[2].c,a[2].b)};B.oe=function(a,b){var c=B.yi(a);return B.bi(c,b)};B.Db=function(a){var b;b=B.dc(a);a=B.dc(a);return new M(b.c,b.b,a.c,a.b)};B.zi=function(a){var b=a.getUint16(),c,g;g=Array(b);for(c=0;c<b;++c)g[c]=B.dc(a);return g};
B.Bb=function(a){return Math.PI*a/180};B.pa=function(a){return"#"+b(a>>16)+b(a>>8)+b(a)};B.$a=function(a){var e;e=a>>24&255;return 255==e?"#"+b(a>>16)+b(a>>8)+b(a):"rgba("+c(a>>16)+", "+c(a>>8)+", "+c(a)+", "+e/255+")"};B.$f=function(a){return 1==a.lineWidth%2?0.5:0};B.Bn=function(a){return 0<=a.indexOf("\n")||0<=a.indexOf("\r")};B.sc=function(a,b,c){return b>a.length-1?a:a.substr(0,b)+c+a.substr(b+1)};B.Ln=function(a){var b,c,g,j;b=a.length;g=c=0;for(j=B.ci;c<b;)switch(j){case B.ci:switch(a[c]){case "\n":j=
B.pd;break;case "\r":j=B.ie;break;default:j=B.je}break;case B.je:switch(a[c]){case "\n":j=B.pd;g!=c&&(a=B.sc(a,g,a[c]));g++;break;case "\r":j=B.ie;break;default:g!=c&&(a=B.sc(a,g,a[c])),g++}c++;break;case B.pd:switch(a[c]){case "\n":g!=c&&(a=B.sc(a,g,a[c]));g++;break;case "\r":j=B.ie;break;default:j=B.je,g!=c&&(a=B.sc(a,g,a[c])),g++}c++;break;case B.ie:a=B.sc(a,g,"\n");g++;switch(a[c]){case "\n":j=B.pd;break;case "\r":a=B.sc(a,g,"\n");g++;j=B.pd;break;default:g!=c&&(a=B.sc(a,g,a[c])),g++,j=B.je}c++}return a.substring(0,
g)};B.ig=function(a){return B.Ln(a).split("\n")};B.Cn=function(a){return 0<=a.indexOf("\t")};B.Vn=function(a){return a.split("\t")};B.uc=function(a,b,c){if(c){a=B.jg(a,b);for(b=c=0;b<a.length;++b)c+=a[b].ov;return c}return a.measureText(b).width};B.jg=function(a,b){var c=B.Vn(b),g=[],j,n,m;for(j=0;j<c.length;++j)n=a.measureText(c[j]).width,m=Math.max(1,Math.ceil(n/B.zc)),j<c.length-1&&(n=m*B.zc),g.push({text:c[j],Th:m,ov:n});return g};B.Dn=function(a){return a.Qa!==l};B.ji=function(a,b,c,g,j,n,m){var v=
B.Bb(90),J=B.Bb(180),C=B.Bb(270),K=B.Bb(360),r;r=Math.max(1,Math.min(g,j)/8);a.beginPath();a.moveTo(b+r,c);a.lineTo(b+g-r,c);a.arc(b+g-r,c+r,r,C,K,o);a.lineTo(b+g,c+j-r);a.arc(b+g-r,c+j-r,r,K,v,o);a.lineTo(b+r,c+j);a.arc(b+r,c+j-r,r,v,J,o);a.lineTo(b,c+r);a.arc(b+r,c+r,r,J,C,o);a.closePath();n&&a.fill();m&&a.stroke()}})();var nc;
nc=function(a,b){switch(b.getUint16()){case 0:this.la="pointer";break;case 1:this.la="default";break;case 2:this.la="pointer";break;case 3:this.la="wait";break;case 4:this.la="text";break;case 5:this.la="crosshair";break;case 6:this.la="help";break;case 7:this.la="col-resize";break;case 8:this.la="row-resize";break;case 9:this.la="nw-resize";break;case 10:this.la="ne-resize";break;case 11:this.la="w-resize";break;case 12:this.la="s-resize";break;case 13:this.la="pointer";break;default:this.la="default"}};
nc.prototype={execute:function(a){a.p.canvas.style.cursor=this.la}};var gc;gc=function(a,b,c,d){a=b.getUint32();b=b.getUint32();this.Fd=1===(a&1);this.Cd=d.a.j.SemiTransparencyActive===k?B.$a(b):B.pa(b)};gc.prototype={execute:function(a){a.z().yu(this.Cd,this.Fd)}};var ic;ic=function(a,b,c,d){this.Cd=d.a.j.SemiTransparencyActive===k?B.$a(b.getUint32()):B.pa(b.getUint32());a=this.Wr(b.getUint32());this.Pj=b.getUint16();c=b.getUint16();b=b.getString(c,o);this.ub=a+" "+this.Pj+"px "+b};
ic.prototype={execute:function(a){a.z().Su(this.ub,this.Pj,this.Cd)},Wr:function(a){var b=[];0!==(a&1)&&b.push("italic");0!==(a&2)&&b.push("bold");return b.join(" ")}};var oc;
oc=function(a,b,c,d){var c=1===b.getUint32(),e=b.getUint32(),f=b.getUint32(),g,j,n,m,v;30==a?(g=b.getUint32(),j=b.getUint32()/100,n=b.getUint32()/100,m=b.getUint32(),v=0===b.getUint32(),b.getUint32(),b=b.getUint32()):(g=b.getUint16(),j=b.getUint8()/100,n=b.getUint8()/100,m=b.getUint8(),v=k,b=0);d.a.j.SemiTransparencyActive===k?(e=B.$a(e),f=B.$a(f),30==a&&(b=B.$a(b))):(e=B.pa(e),f=B.pa(f),30==a&&(b=B.pa(b)));this.lq=new Ia(c,e,f,g,j,n,m,v,b)};oc.prototype={execute:function(a){a.z().Au(this.lq)}};var tc;
tc=function(a,b,c,d){this.Ka=b.getUint32();d.a.j.SemiTransparencyActive=2===(this.Ka&2)};tc.prototype={execute:function(a){a=a.a.xb;a!==l&&a.q.Bu(1===(this.Ka&1))}};var vc;vc=function(a,b,c,d){var e,f,g,j,a=b.getUint16();g=[];for(c=0;c<a;++c)e=b.getUint16(),g[c]=b.getString(e,o);this.ra=[];a=b.getUint16();for(c=0;c<a;++c){j=[];e=b.getUint16();for(f=0;f<e;++f)j[f]=g[b.getUint16()];this.ra.push({Mh:j.join(".").toLowerCase(),om:b.getUint16()})}d.Mg.qu(this.ra)};vc.prototype={execute:q()};var hc;
hc=function(a,b,c,d){var e=b.v(),f=b.getUint32(),g=b.getUint32(),a=b.getUint16(),j=["butt","square","round"],n=["miter","bevel","round"];this.Fd=5===f;this.Cd=d.a.j.SemiTransparencyActive===k?B.$a(g):B.pa(g);this.ks=a;if(c>=b.v()-e+11){c=b.getUint16();this.Hb=j[0];if(0!==(c&0))this.Hb=j[0];if(0!==(c&1))this.Hb=j[1];if(0!==(c&2))this.Hb=j[2];c=b.getUint16();this.Ib=n[0];if(0!==(c&0))this.Ib=n[0];if(0!==(c&1))this.Ib=n[1];if(0!==(c&2))this.Ib=n[2];b=b.getUint16();this.yd=1==b?1.7*a:2*b}else this.Hb=
j[0],this.Ib=n[0],this.yd=1.7*a};hc.prototype={execute:function(a){a.z().Eu(this.ks,this.Cd,this.Fd,this.Hb,this.Ib,this.yd)}};var uc;uc=function(a,b,c){this.Ba=[];for(var d=l,a=b.v(),e,f;b.v()-a<c-8;)e=b.getUint32(),e&2147483648?(f=b.getUint32(),d=B.Db(b),d.w-=1,d.s-=1,d=new xc(f,d,e&2147483647),this.Ba.push(d)):d!==l&&(f=e&65535,e=(e&2147483647)>>16,f=b.v()+f,this.ur(b,d,e),b.seek(f))};
uc.prototype={execute:function(a){var b=a.a.xb,c;if(b!==l){b.Ba.clear();for(c=0;c<this.Ba.length;++c)b.Ba.rh(this.Ba[c]);a.a.j.DebugOnlyPrintTouchRectangles&&this.xp()}},ur:function(a,b,c){switch(c){case 3:b.info().scroll().I.Hu(new z(a.getInt32(),a.getInt32()));b.info().scroll().I.Fu(new z(a.getInt32(),a.getInt32()));b.kf(yc.Hi);break;case 4:b.info().zoom().I.Iu(a.getFloat32()),b.info().zoom().I.Gu(a.getFloat32()),b.kf(yc.Qi)}},xp:function(){var a,b;for(a=0;a<this.Ba.length;++a)b=this.Ba[a],WebvisuLogger.Q(H.U("TouchRect ({0}): {1} (Flags: {2})",
b.id(),H.On(b.ka),b.yb())),b.m(yc.Hi)&&WebvisuLogger.Q(H.U("  ScrollLimits {0} -> {1}",H.cc(b.info().scroll().I.ga),H.cc(b.info().scroll().I.fa))),b.m(yc.Qi)&&WebvisuLogger.Q(H.U("  Zoomlimits: {0} -> {1}",b.info().zoom().I.ga,b.info().zoom().I.fa))}};var kc;kc=function(a,b){this.Fo=1===b.getUint16()};kc.prototype={execute:function(a){this.Fo?a.hu():a.iu()}};var sc;sc=function(a,b){var c=b.getUint16();this.O=b.getString(c,o)};
sc.prototype={execute:function(a){if(a.a.j.ChangeWindowTitle)window.document.title=this.O}};var jc;jc=function(a,b){this.e=B.Db(b)};jc.prototype={execute:function(a){a.getContext().restore();a.z().apply()}};var lc;lc=q();lc.prototype={execute:function(){WebvisuLogger.warn("The functionality ExecuteClientProgram is not possible in the webvisualization.")}};var mc;mc=q();mc.prototype={execute:function(){WebvisuLogger.warn("The functionality OpenFileDialog is not possible in the webvisualization.")}};
var rc;rc=q();rc.prototype={execute:function(a){var b=a.a.Ta,c=a.mh,d,e,f;d=L.r(4*c.Tc.length);e=P.r(d,a.a.n.wa);for(f=0;f<c.Tc.length;++f)e.Oa(c.i(f)),e.Oa(c.h(f));a=new E(F.qn,a.a.n.Y,0,0);a.Ya(d);b.push(a)}};var qc;qc=function(a,b){var c=b.getUint16();this.O=b.getString(c,34==a)};qc.prototype={execute:function(a){a.mh.qs(this.O)}};var pc;pc=function(a,b){b.getUint32();b.getUint32()};pc.prototype={execute:function(a){a.mh.clear()}};var zc;zc=function(a){this.a=a;this.Ug=k;this.Yk=this.ph=0};
zc.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua();b.Zs();this.Yk=H.T();a.Xa(b.Va(),this,o,!this.Ug)},Ah:u(k),Wa:function(){var a=H.T()-this.Yk;this.Ug?(this.ph=a,this.Ug=o,this.a.X(this,0)):(WebvisuLogger.nd(H.U("Deriving post method difference: {0}ms data in body, {1}ms without",this.ph,a)),a<this.ph-20&&(WebvisuLogger.Q("POST requests will be sent with the data in header because this seems faster"),this.a.Bm(k)),this.a.X(new Ac(this.a),0))},G:function(){this.a.error("deriving the best post method failed")},
className:u("DerivingPostMethodState")};var Ac;Ac=function(a,b,c,d,e){b===i&&(b=l);c===i&&(c=l);this.a=a;this.dr=b;this.cr=c;this.br=e;this.ar=d};
Ac.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua();b.Ws(this.dr,this.cr,this.ar,this.br);a.Xa(b.Va(),this)},Wa:function(a){a=(new Mb(a,this.a.n.wa,this.a.ia())).$t();a instanceof Kb?0===a.Ai?(WebvisuLogger.Q("Successfully Logged in! DeviceSessionId: "+a.pe),this.a.n.ii=a.pe,this.a.X(new Bc(this.a),0)):(WebvisuLogger.Q("Login failed. Probably credentials necessary; result: "+a.Ai),this.a.X(new Cc(this.a,a),0)):this.G("DeviceLogin failed with the following error: "+a)},G:function(a){this.a.error("Login to the plc device failed: "+
a)},className:u("DeviceLoginState")};var yb;yb=s("a");yb.prototype={execute:function(){WebvisuLogger.info("Triing to reconnect after error");this.a.X(new sb(this.a),0)},className:u("ErrorState")};var Cc;Cc=function(a,b){this.a=a;this.Ik=b};
Cc.prototype={execute:function(){this.$q()},className:u("QueryCredentialsState"),$q:function(){var a=window.document.createElement("div"),b=this.nj("Ok"),c=this.nj("Cancel"),d=this.bp(),e=this;b.addEventListener("click",function(){e.Uq(a,d.Om,d.Xt)},o);c.addEventListener("click",function(){e.Lq(a)},o);a.style.fw=a.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";a.align="center";a.appendChild(d.$u);a.appendChild(b);a.appendChild(c);window.document.body.appendChild(a);H.dg(a,this.So(300,200));
a.style.zIndex=300;a.style.backgroundColor="#d4d0c8";d.Om.focus()},bp:function(){var a=window.document.createElement("table"),b=window.document.createElement("input"),c=window.document.createElement("input");c.type="password";a.border="0";a.appendChild(this.pj("Username: ",b));a.appendChild(this.pj("Password: ",c));return{$u:a,Om:b,Xt:c}},pj:function(a,b){var c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);
d=window.document.createElement("td");d.appendChild(b);c.appendChild(d);return c},So:function(a,b){var c=this.a.S.oc();return new z((c.f+c.s-a)/2,(c.g+c.w-b)/2)},ij:function(a){window.document.body.removeChild(a)},Uq:function(a,b,c){this.ij(a);this.a.X(new Ac(this.a,b.value,c.value,this.Ik.Um,this.Ik.Zm),0)},Lq:function(a){this.a.Jm("The user did not provide credentials.","No credentials");this.ij(a)},nj:function(a){var b=window.document.createElement("input");b.type="button";b.value=a;return b}};
var sb;
(function(){var a,b;a=function(a){return Wa.xi(a)};b=[{ha:"HandleTouchEvents",oa:"CFG_HandleTouchEvents",type:"boolean",ja:a},{ha:"TouchHandlingActive",oa:"CFG_TouchHandlingActive",type:"boolean",ja:a},{ha:"BestFit",oa:"CFG_BestFit",type:"boolean",ja:a},{ha:"LogLevel",oa:"CFG_LogLevel",type:"string",ja:l},{ha:"Benchmarking",oa:"CFG_Benchmarking",type:"boolean",ja:a},{ha:"WorkaroundDisableMouseUpDownAfterActiveTouch",oa:"CFG_WorkaroundDisableMouseUpDownAfterActiveTouch",type:"boolean",ja:a},{ha:"WorkaroundDisableResizeHandling",
oa:"CFG_WorkaroundDisableResizeHandling",type:"boolean",ja:a},{ha:"WorkaroundDisableSVGAspectRatioWorkaround",oa:"CFG_WorkaroundDisableSVGAspectRatioWorkaroundg",type:"boolean",ja:a},{ha:"WorkaroundPostDataInHeaderOverride",oa:"CFG_WorkaroundPostDataInHeaderOverride",type:"number",ja:parseInt},{ha:"DebugOnlyPrintPaintCommands",oa:"CFG_DebugOnlyPrintPaintCommands",type:"boolean",ja:a},{ha:"DebugOnlyPrintRawTouches",oa:"CFG_DebugOnlyPrintRawTouches",type:"boolean",ja:a},{ha:"DebugOnlyPrintGestures",
oa:"CFG_DebugOnlyPrintGestures",type:"boolean",ja:a},{ha:"DebugOnlyPrintTouchRectangles",oa:"CFG_DebugOnlyPrintTouchRectangles",type:"boolean",ja:a},{ha:"DebugOnlyDiagnosisDisplay",oa:"CFG_DebugOnlyDiagnosisDisplay",type:"boolean",ja:a},{ha:"ClientName",oa:"ClientName",type:"string",ja:l}];sb=s("a");sb.prototype={execute:function(){var a=this.a.Ca(),b;b=window.document.URL;b=b.substr(0,b.lastIndexOf("."));a.jm(b+".cfg.json",this)},Ql:function(a){try{var b=this.lr(a);this.mr(b);this.a.xm(b);this.vp(b);
this.Sd()}catch(e){this.G(e)}},mr:function(a){var d,e,f;for(d=0;d<b.length;++d)e=b[d],f=Wa.ui(e.oa),f!==l&&(f=e.ja!==l?e.ja(f):f,a[e.ha]=f,WebvisuLogger.info("Overridden Config Entry: "+e.ha+" = "+f))},lr:function(a){try{var b=JSON.parse(a),e=new Configuration,f;for(f in b)f!==i&&(e[f]=b[f]);e.hv();return e}catch(g){return this.Id(g),new Configuration}},G:function(a){this.Id(a);this.a.xm(new Configuration);this.Sd()},Sd:function(){this.a.X(new Dc(this.a),0)},Id:function(a){WebvisuLogger.error("Loading the configuration failed for the following reason: "+
a+". A default config will be used instead.")},className:u("RetrievingConfigurationState"),vp:function(a){WebvisuLogger.Q("Configuration:");for(var b in a)a.hasOwnProperty(b)&&WebvisuLogger.Q(H.U(" - {0}: {1}",b,a[b]));a.Benchmarking&&WebvisuLogger.info("Benchmarking active")}}})();var Ec;Ec=s("a");
Ec.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua();b.nu();a.Xa(b.Va(),this)},Ah:u(k),Wa:function(a){if(a!==l&&(a=(new Mb(a,k,this.a.ia())).bu(),""!==a))this.a.n.wi=a;this.a.X(this.fp(),0)},fp:function(){if(this.a.n.Un){if(0===this.a.j.WorkaroundPostDataInHeaderOverride)return new zc(this.a);1===this.a.j.WorkaroundPostDataInHeaderOverride&&(WebvisuLogger.info("POST-Data in header active by override"),this.a.Bm(k))}1===this.a.j.WorkaroundPostDataInHeaderOverride&&WebvisuLogger.warn("POST-Data in header active by override but not supported by Webserver");
return new Ac(this.a)},G:function(a){this.a.error("Retrieving IP Info failed: "+a)},className:u("RetrievingMyIpState")};var Fc;Fc=s("a");
Fc.prototype={execute:function(){var a=this.a.Ca(),b=this.a.j,c=this.a.Ua();c.Vt(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.Xa(c.Va(),this)},Ah:u(k),Wa:function(a){a===l?this.a.X(this,this.a.j.PollingRegistrationInterval):(a=(new Mb(a,k,this.a.ia())).au(),a instanceof Ea?(WebvisuLogger.Q("Successfully connected! SessionId: "+a.pe+" IntelByteOrder: "+a.wa),this.a.tu(a),this.a.X(new Ec(this.a),0)):this.a.error("Connection failed: "+a))},G:function(a){this.a.error("Starting to connect failed: "+
a)},className:u("StartConnectState")};var Dc;Dc=s("a");Dc.prototype={execute:function(){this.a.Ca().jm(H.ri((this.a.j.Application+".imagepoolcollection.csv").toLowerCase()),this)},Ql:function(a){try{this.a.S.Mg.fill(a)}catch(b){this.Id(b)}this.Sd()},G:function(a){this.Id(a);this.Sd()},Sd:function(){this.a.X(new Fc(this.a),0)},Id:function(a){WebvisuLogger.error("Loading the imagepool failed for the following reason: "+a+". Images will not work at all.")},className:u("UploadImagePoolState")};var Gc;
Gc=s("a");Gc.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua(),c=E.hi(this.a.n.Y,this.a.j.BestFit,this.a.j.ScaleTypeIsotropic,this.a.S.oc());b.Qf(c);a.Xa(b.Va(),this)},Wa:function(a){a=(new Mb(a,this.a.n.wa,this.a.ia())).Hf(l);a instanceof Qa?!a.zf()||0<a.Hc?this.G("Unexpected paint result in "+this.className()):this.a.X(new Hc(this.a),0):this.G(a)},G:function(a){this.a.error("Error during initializing (1) the visualization: "+a)},className:u("VisuOnlineInitState1")};var Hc;Hc=s("a");
Hc.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua(),c=new E(F.ki,this.a.n.Y,0,0),d=L.r(16),e=P.r(d,k),f=this.a.j,g;e.B(458752);e.B(5);g=0;f.HasKeyboard===k&&(g|=24);f.TouchHandlingActive&&(g|=3);e.B(g);c.Ya(d);b.Qf(c);a.Xa(b.Va(),this)},Wa:function(a){a=(new Mb(a,this.a.n.wa,this.a.ia())).Hf(l);a instanceof Qa?!a.zf()||0<a.Hc?this.G("Unexpected paint result in "+this.className()):this.a.X(new Ic(this.a),0):this.G(a)},G:function(a){this.a.error("Error during initializing (2) the visualization: "+
a)},className:u("VisuOnlineInitState2")};var Ic;Ic=s("a");
Ic.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua(),c=new E(F.ki,this.a.n.Y,0,0),d=L.r(32),e=P.r(d,k);e.B(1);e.Vb(this.a.j.StartVisu,o);c.Ya(d);b.Qf(c);a.Xa(b.Va(),this)},Wa:function(a){a=(new Mb(a,this.a.n.wa,this.a.ia())).Hf(l);a instanceof Qa?!a.zf()||0<a.Hc?this.G("Unexpected paint result in "+this.className()):this.a.X(new Jc(this.a),0):this.G(a)},G:function(a){this.a.error("Error during initializing (3) the visualization: "+a)},className:u("VisuOnlineInitState3")};var Jc;
Jc=function(a){this.a=a;this.Ic=l;this.Yv=H.T();this.a.wu(new Nb);this.oh=o;this.Lj=k;this.Zg=o};
Jc.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua();this.Wo(this.a.S.Lg);if(this.Ic===l){var c;c=this.a.Ta.empty()?new E(F.rn,this.a.n.Y,0,0):this.a.Ta.pop();c.Rc?(this.Zg=k,b.kv(c)):(this.Zg=o,b.Qf(c))}else b.iv(this.Ic.tg);this.Mr=H.T();a.Xa(b.Va(),this)},Cs:function(){return this.Ic===l&&!this.oh},Wa:function(a){if(this.Zg)this.a.X(this.Xj(),this.vj());else{var a=(new Mb(a,this.a.n.wa,this.a.ia())).Hf(this.Ic),b=this;if(a instanceof Qa)if(a.zf()){this.Ic=l;if(this.Lj)this.a.S.Is(),
this.Lj=o;this.oh=k;this.a.S.ct(a,function(){b.oh=o;b.a.X(b.Xj(),b.vj())})}else this.Ic=a,this.a.X(this,0);else this.G(a)}},Xj:function(){return this},vj:function(){var a=this.a.Ta;if(a.empty()){var b=H.T(),c=this.a.j.UpdateRate,a=b-a.lk;return 0<=a&&a<Math.min(2*c,500)?Math.max(10,c/5):Math.max(10,c-(b-this.Mr))}return 0},Wo:function(a){a.Fs()},G:function(a){this.a.error("Error while processing the visualization: "+a)},className:u("VisuOnlineState")};var Kc;Kc=function(a){this.a=a;this.Fr=0};
Kc.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua();b.jv(this.a.n.Y);a.Xa(b.Va(),this)},Wa:function(a){a=(new Mb(a,this.a.n.wa,this.a.ia())).cu();"number"===typeof a?0===a?(WebvisuLogger.Q("Successfully finished visu registration"),this.a.X(new Gc(this.a),0)):1===a?(0===this.Fr++%20&&WebvisuLogger.info("Still polling the registration of the visualization. Is the visu stopped?"),this.a.X(this,this.a.j.PollingRegistrationInterval)):this.G("Unexpected return value: "+a):this.G(a)},G:function(a){this.a.error("Visu registration in the plc failed: "+
a)},className:u("VisuPollingRegistrationState")};var Bc;Bc=s("a");
Bc.prototype={execute:function(){var a=this.a.Ca(),b=this.a.Ua(),c=this.a.j;b.lv(c.Application,c.ClientName,this.a.n.wi);a.Xa(b.Va(),this)},Wa:function(a){a=(new Mb(a,this.a.n.wa,this.a.ia())).du();"number"===typeof a?(WebvisuLogger.Q("Successful first visu registration step: "+a),this.a.n.Y=a,this.a.X(new Kc(this.a),this.a.j.PollingRegistrationInterval)):this.G(a)},G:function(a){this.a.error("Visu registration in the plc failed: "+a)},className:u("VisuRegistrationState")};var Lc;
Lc=function(a){this.a=a;this.Fc=l;this.Ma=[];this.Ga=[];"onpointerdown"in window?(WebvisuLogger.nd("Touchsupport using PointerEvents"),this.Jp(),this.Lk(this.dj)):"ontouchstart"in window?(WebvisuLogger.nd("Touchsupport using TouchEvents"),this.Kp(),this.Lk(this.dj)):WebvisuLogger.warn("No touch support")};
Lc.prototype={register:s("Fc"),yh:function(){var a;for(a=0;a<this.Ma.length;++a)this.a.S.p.canvas.removeEventListener(this.Ma[a].lc,this.Ma[a].na)},dj:function(){return this.a.S.p.canvas},Lk:function(){var a;for(a=0;a<this.Ma.length;++a)this.a.S.p.canvas.addEventListener(this.Ma[a].lc,this.Ma[a].na)},Kp:function(){function a(a){b.Ld(a)}var b=this;this.Ma.push({lc:"touchstart",na:a});this.Ma.push({lc:"touchmove",na:a});this.Ma.push({lc:"touchend",na:a})},Jp:function(){var a=this;this.Ma.push({lc:"pointerdown",
na:function(b){a.Vq(b)}});this.Ma.push({lc:"pointermove",na:function(b){a.Wq(b)}});this.Ma.push({lc:"pointerup",na:function(b){a.Xq(b)}})},bs:function(a,b){var c;for(c=0;c<a.length;++c)if(a[c].identifier===b)return k;return o},mg:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],b.Yc(new Mc(e.identifier,y.ne(e),c))},Ri:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],this.bs(b,e.identifier)||c.Yc(new Mc(e.identifier,y.ne(e),S.mb))},lp:function(){this.a.j!==l&&this.a.j.WorkaroundDisableMouseUpDownAfterActiveTouch&&
this.a.Xg.Cu(H.T()+100)},Ld:function(a){if(this.Fc!==l){a.preventDefault();this.lp();var b=new Nc;"touchstart"==a.type?(this.mg(a.changedTouches,b,S.lb),this.Ri(a.targetTouches,a.changedTouches,b,S.mb)):"touchmove"==a.type?this.mg(a.targetTouches,b,S.mb):(this.mg(a.changedTouches,b,S.Ra),this.Ri(a.targetTouches,a.changedTouches,b,S.mb),0===a.targetTouches.length&&this.$k());this.Fc(b)}},Vq:function(a){"mouse"!==a.pointerType&&(a.preventDefault(),-1!==this.Eg(a.pointerId)?WebvisuLogger.warn(H.U("Unexpected Pointerdown event for id: {0}; Ignored!",
a.pointerId)):(this.il(),this.Ga.push(new Mc(a.pointerId,y.me(a),S.lb)),this.Kk()))},Xq:function(a){this.jl(a,S.Ra);this.Ga.splice(this.Eg(a.pointerId),1);"touch"===a.pointerType&&0===this.Ga.length&&this.$k()},Wq:function(a){this.jl(a,S.mb)},jl:function(a,b){"mouse"!==a.pointerType&&(a.preventDefault(),this.il(),this.Ga[this.Eg(a.pointerId)]=new Mc(a.pointerId,y.me(a),b),this.Kk())},Kk:function(){var a=new Nc,b;for(b=0;b<this.Ga.length;++b)a.Yc(this.Ga[b]);this.Fc(a)},il:function(){var a;for(a=0;a<
this.Ga.length;++a)this.Ga[a]=new Mc(this.Ga[a].id(),this.Ga[a].location().sa,S.mb)},Eg:function(a){var b;for(b=0;b<this.Ga.length;++b)if(this.Ga[b].id()===a)return b;return-1},$k:function(){function a(a){a.preventDefault()}var b=this;b.a.S.p.canvas.addEventListener("contextmenu",a);window.setTimeout(function(){b.a.S.p.canvas.removeEventListener("contextmenu",a)},500)}};var Oc;Oc=function(a){this.bb=this.Ja=l;if(!a)a=S.ya;this.Nf(a)};
Oc.prototype={type:function(){this.Ja===l&&h(Error("Unexpected call. Gesture data not yet assigned"));return this.Ja.type()},Nf:function(a){if(!(this.Ja!==l&&this.type()===a))switch(a){case S.nb:this.Ja=new Pc;break;case S.ya:this.Ja=new Qc;break;case S.Gb:this.Ja=new Rc;break;case S.cb:this.Ja=new Sc(o);break;case S.Fa:this.Ja=new Sc(k);break;default:h(Error("Unexpected gesture type"))}},data:t("Ja"),ua:function(){var a=new Oc;if(this.Ja!==l)a.Ja=this.Ja.ua();a.bb=this.bb;return a}};var S;
S={mb:1,Ra:2,lb:4,se:8,Oi:16,ag:5,ya:0,Gb:1,nb:2,cb:3,Fa:4,Fb:0,re:1,so:2,qe:4,Mi:8,Ni:16,Rv:255,Ea:0,vd:5,wd:10};S.xa=S.wd;S.xc=11;S.kb=12;S.ab=13;S.Xn=S.ab;var Tc;Tc=function(){this.Uh=this.vi=this.Ov=this.Yf=this.cg=this.Vf=o};var Uc;Uc=function(){this.tb=[]};
Uc.prototype={rm:function(a,b){this.empty()||!this.wq(a)||!b?this.tb.push(a):this.tb[this.tb.length-1]=a},ku:function(a,b){var c,d;for(c=0;c<this.tb.length;++c)if(d=this.tb[c],a.fe(d,b),b.q.Pd)return o;this.tb=[];return k},empty:function(){return 0===this.tb.length},wq:function(a){var b=this.tb[this.tb.length-1],c,d,e;if(a.touches().length!==b.touches().length)return o;for(c=0;c<a.touches().length;++c)if(d=a.touches()[c],e=b.touches()[c],d.id()!==e.id()||d.yb()!==e.yb()||d.m(S.Ra)||d.m(S.lb))return o;
return k}};var Mc;Mc=function(a,b,c){this.Jg=a;this.Ka=c;this.Jd=new Vc(b)};Mc.prototype={id:t("Jg"),location:t("Jd"),yb:t("Ka"),kf:function(a){this.Ka|=a},m:function(a){return(this.Ka&a)===a}};var Nc;Nc=function(){this.V=[];this.$r=H.T()};Nc.prototype={touches:t("V"),Yc:function(a){this.V.push(a)},timeStamp:t("$r")};var Vc;Vc=function(a){this.sa=a;this.kk=l};Vc.prototype={ce:t("kk"),Du:s("kk")};var T;
T={Bh:function(a,b){var c=0<b.touches().length,d,e;a.data().Hs();for(d=0;d<b.touches().length;++d)e=b.touches()[d],a.data().Yc(e.id(),e.location().sa,e.yb()),e.m(S.Ra)||(c=o);return c},ts:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(a.touches()[c].m(b))return k;return o},lf:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(!a.touches()[c].m(b))return o;return k},Us:function(a){var b=S.Mi|S.Ni;1===a.touches().length?b|=S.re|S.qe:2===a.touches().length&&(b|=S.so);return b},ae:function(a){return a===
S.cb||a===S.Fa}};var wb;wb=function(a){var b=this;this.a=a;this.Ej=new Lc(a);this.Ej.register(function(a){b.Fc(a)});this.gf=l;this.Ba=new Wc;this.q=new Xc;this.Qc=new Yc(a.j);this.Br=-1;this.Tk("none")};
wb.prototype={yh:function(){this.Tk("auto");this.Ej.yh()},it:function(a,b){var c=new Tc,d;if(this.Og(a,S.Mi)&&this.Ba.et(b))c.Uh=k;else if(this.Og(a,S.Ni)&&this.Ba.ss(b))c.vi=k;else if(this.Og(a,S.re|S.qe))d=[],this.Ba.Gs(b,d),c.cg=d[0],c.Yf=d[1];c.Vf=!this.Uo();return c},Ch:function(a,b,c){if(a>=S.wd&&a<=S.Xn)if(b.type()===S.ya||b.type()===S.Gb){if(this.Sp(a,b,b.bb,c))return k}else if(this.vq(b.type())&&this.Tp(a,b,b.bb))return k;return o},Tk:function(a){this.a.S.p.canvas.style.touchAction=a},Uo:function(){return this.q.dm()?
(this.q.Nu(k),o):k},Og:function(a,b){return(a&b)==b},vq:function(a){return a===S.nb||T.ae(a)},hk:function(a){return a===S.Fa},Sp:function(a,b,c,d){var e=$.bg;if(a===S.xa){c=this.Ba.Sl(b);if(c===l)return k;b.bb=c;this.Ur(c);this.q.Dt()}else if((a===S.ab||a===S.kb)&&c!==l)this.Fj(e,b,c),this.pr(b,c);if(c!==l){if(b.type()===S.Gb||b.type()===S.ya)e=b.data().yl(c,a);$.rc(e,$.Rf)&&(e=$.hb(e,$.ei))}return a!==S.kb&&(this.Fj(e,b,c),this.gf.Wt(this.a.S.p,c,e,d),$.m(e,$.ei))?((b.type()===S.Gb||b.type()===S.ya)&&
b.data().Rl(c.info()),k):o},Tp:function(a,b,c){if(a===S.xa){c=this.Ba.Sl(b);if(c===l&&!this.hk(b.type()))return k;b.bb=c;T.ae(b.type())&&this.Yg(b,c)}else if(c!==l||this.hk(b.type()))T.ae(b.type())?this.Yg(b,c):(a===S.ab||a===S.kb)&&this.Yg(b,c);return o},Yg:function(a,b){this.xj(a.data().createEvent(this.a.n.Y,b))},xj:function(a){this.a.Xb(a)},pr:function(a,b){var c=a.data().createEvent(this.a.n.Y,b);c.bc=b.ka;this.xj(c)},Ur:function(a){a.info().zoom().ld(1);a.info().scroll().Za(new z(0,0));this.gf.Ds(this.a.S,
a.ka)},Fj:function(a,b,c){$.rc(a,$.Gn)&&this.mp(a,b,c);$.m(a,$.hg)&&(c.info().zoom().ld(c.info().zoom().I.ga),this.Co(b,c));$.m(a,$.gg)&&c.info().zoom().ld(c.info().zoom().I.fa)},Co:function(a,b){this.mk($.vc|$.wc,b)},mp:function(a,b,c){b.type()===S.Gb?this.mk(a,c):b.type()===S.ya&&this.Cq(a,c)},mk:function(a,b){var c=b.Ml(),d=b.info().zoom(),e;$.m(a,$.td)?d.kd(new z(d.sb.c+c.f,d.za.b)):$.m(a,$.vc)&&(e=d.sb.c-(1-d.eb)*d.sb.c,d.kd(new z(e,d.za.b)),b.info().scroll().Za(new z(d.za.c-d.sb.c,b.info().scroll().ta.b)));
$.m(a,$.ud)?d.kd(new z(d.za.c,d.sb.b+c.g)):$.m(a,$.wc)&&(e=d.sb.b-(1-d.eb)*d.sb.b,d.kd(new z(d.za.c,e)),b.info().scroll().Za(new z(b.info().scroll().ta.c,d.za.b-d.sb.b)))},Cq:function(a,b){var c=b.info().scroll(),d=c.I;$.m(a,$.td)&&c.Za(new z(d.ga.c,c.ta.b));$.m(a,$.ud)&&c.Za(new z(c.ta.c,d.ga.b));$.m(a,$.vc)&&c.Za(new z(d.fa.c,c.ta.b));$.m(a,$.wc)&&c.Za(new z(c.ta.c,d.fa.b))},Fc:function(a){var b=this.a.j;if(!(b===l||!this.q.bk||!b.TouchHandlingActive)){b.DebugOnlyPrintRawTouches&&this.yp(a);this.Xo(a);
if(this.gf===l)this.gf=new Zc(this.a.S.p.canvas);this.q.Pd?(this.Qc.buffer().rm(a,k),this.gh()):this.Qc.fe(a,this)&&(this.q.Pd&&this.Qc.buffer().rm(a,k),this.Qc.buffer().empty()||this.gh())}},Xo:function(a){T.lf(a,S.lb)?this.a.Xg.zm(k):T.lf(a,S.Ra)&&this.a.Xg.zm(o)},gh:function(){if(-1!==this.Br){var a=this;window.setTimeout(function(){a.Yq()},100)}},Yq:function(){this.Qc.buffer().ku(this.Qc,this)||this.gh()},yp:function(a){var b,c,d,e,f;c=H.U("Touches ({0}): ",a.touches().length);for(b=0;b<a.touches().length;++b)d=
a.touches()[b],e="D",f="",d.m(S.mb)?e="M":d.m(S.Ra)&&(e="U"),d.m(S.se)&&(f="P"),c+=H.U("[{0}{1}{2} ({3}/{4})] ",f,e,d.id(),d.location().sa.c,d.location().sa.b);WebvisuLogger.nd(c)}};var Zc;Zc=function(a){this.dh=this.oj(a.width,a.height);this.or=this.cp()};
Zc.prototype={Wt:function(a,b,c,d){$.rc(c,$.Rf)?this.er(a,b,c,d):this.Ak(a,b)},Ak:function(a,b){a.save();var c=b.ka.f,d=b.ka.g,e=b.ka.i(),f=b.ka.h();a.fillStyle=this.or;a.fillRect(c,d,e,f);a.beginPath();a.rect(c,d,e,f);a.clip();this.ds(a,b);a.drawImage(this.dh,c,d,e,f,c,d,e,f);a.restore()},er:function(a,b,c,d){var e=H.T(),f,g,j=b.info().zoom().eb,n=b.info().scroll().ta,m=[],v=[],J,C,K,r,ea,Y,Fa,Sa,D,pa,U,ba=this;for(g=0;3>g;++g)m[g]=j,v[g]=n.ua();if($.m(c,$.Uf)){for(g=0;3>g;++g)m[g]=b.info().zoom().I.ga;
m[1]*=0.8}else if($.m(c,$.Tf)){for(g=0;3>g;++g)m[g]=b.info().zoom().I.fa;m[1]*=1.2}else if($.m(c,$.td)){for(g=0;3>g;++g)v[g].c=b.info().scroll().I.ga.c;v[1].c-=50}else if($.m(c,$.ud)){for(g=0;3>g;++g)v[g].b=b.info().scroll().I.ga.b;v[1].b-=50}else if($.m(c,$.vc)){for(g=0;3>g;++g)v[g].c=b.info().scroll().I.fa.c;v[1].c+=50}else if($.m(c,$.wc)){for(g=0;3>g;++g)v[g].b=b.info().scroll().I.fa.b;v[1].b+=50}d.Ll=k;U=function(){f=H.T();f<e+300&&f>=e?(C=(J=f<e+150)?0:1,K=m[C],r=m[C+1],Y=v[C],Fa=v[C+1],D=(f-
e-(J?0:150))/150,pa=Fa.Zu(Y),ea=K+D*(r-K),Sa=Y.Nh(pa.scale(D)),b.info().zoom().ld(ea),b.info().scroll().Za(Sa),ba.Ak(a,b),window.setTimeout(U,40)):(b.info().zoom().ld(j),b.info().scroll().Za(n),d.Bs())};window.setTimeout(U,0)},ds:function(a,b){a.translate(b.info().zoom().za.c,b.info().zoom().za.b);a.scale(b.info().zoom().eb,b.info().zoom().eb);a.translate(-b.info().zoom().za.c,-b.info().zoom().za.b);a.translate(b.info().scroll().ta.c,b.info().scroll().ta.b)},Ds:function(a,b){var c=this.dh.getContext("2d");
c.drawImage(a.Ia.canvas,b.f,b.g,b.i(),b.h(),b.f,b.g,b.i(),b.h());c.drawImage(a.p.canvas,b.f,b.g,b.i(),b.h(),b.f,b.g,b.i(),b.h())},oj:function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c},cp:function(){var a=this.oj(8,8),b=a.getContext("2d");b.fillStyle="#fff";b.fillRect(0,0,a.width,a.height);b.Uw="#000";b.lineWidth=1;b.beginPath();b.moveTo(b.lineWidth/2,a.height);b.lineTo(b.lineWidth/2,b.lineWidth/2);b.lineTo(a.width,b.lineWidth/2);b.stroke();b.closePath();return this.dh.getContext("2d").createPattern(a,
"repeat")}};var Xc;Xc=function(){this.Pd=this.bk=o;this.Me=0};Xc.prototype={Bu:s("bk"),Nu:s("Pd"),Dt:function(){this.Me++},Ss:function(){this.Me--;if(0===this.Me)this.Pd=o},dm:function(){return 0<this.Me}};var $;$={bg:0,hg:1,gg:2};$.Kv=$.hg|$.gg;$.td=4;$.ud=8;$.vc=16;$.wc=32;$.Gn=$.td|$.ud|$.vc|$.wc;$.ei=65536;$.$h=131072;$.ai=262144;$.Yh=524288;$.Zh=1048576;$.Uf=2097152;$.Tf=4194304;$.Wh=$.$h|$.Yh;$.Xh=$.ai|$.Zh;$.Sf=$.Wh|$.Xh;$.Rm=$.Uf|$.Tf;$.Rf=$.Rm|$.Sf;$.hb=function(a,b){return a|b};
$.fu=function(a){return a&~$.Sf};$.m=function(a,b){return(a&b)===b};$.rc=function(a,b){return 0!==(a&b)};var Yc;Yc=function(a){var b;this.o=new Uc;this.Od=[];this.Od[0]=new $c;for(b=1;b<S.ag;++b)this.Od[b]=new ad;this.Ok();this.af=new bd(a);this.q=new cd;this.De=new dd;this.Hd=l;this.wp=a.DebugOnlyPrintGestures};
Yc.prototype={fe:function(a,b){if(1>a.touches().length||a.touches().length>S.ag)return o;var c=new Oc,d,e=o;this.Ip(a);this.To(a,b)&&((this.q.M.state()===S.xa||this.q.M.state()===S.xc)&&this.Op(a,b),this.q.tm(),this.Ok(),this.De.Ie.Uh&&this.q.M.La.Nf(S.cb));if(this.q.M.La.type()!=S.cb&&(d=a.touches().length-1,d=this.Od[d].fe(this,a,c),d===S.vd||d>=S.wd)){if(d>=S.wd){if(this.Hd!==l)this.Ue(this.Hd.state(),this.Hd.La,a,b),this.Hd=l;this.Ue(d,c,a,b);return k}this.q.M.assign(d,c);this.q.M.xl(a);e=k}if(!e)return this.De.Ie.Vf||
(d=this.hp(c,a),this.Ue(d,c,a,b)),k;this.wg(S.Ea,c);return o},buffer:t("o"),Ft:function(a,b){var c=new Oc(S.Fa);c.data().Yc(b,a,S.lb|S.se);this.Hd=new ed(S.xa,c)},Ue:function(a,b,c,d){if(this.q.M.state()!==S.kb){var e=this.q.M.La.bb;this.Vo(a,b);this.wg(a,b);this.q.M.assign(a,b.ua());b.bb=e;e={Ll:o,Bs:function(){d.Ch(S.kb,b)}};d.Ch(a,b,e)&&(this.wg(S.kb,b),e.Ll||d.Ch(S.kb,b),this.q.M.Mf(S.kb));this.q.M.La.bb=b.bb;a!==S.ab&&this.q.M.xl(c)}a===S.ab&&this.q.tm()},Vo:function(a,b){var c,d;if(a===S.xa&&
b.type()===S.Fa){c=o;for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].m(S.se)){c=k;break}if(!c)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].m(S.lb)){this.q.M.zu(b.data().touches()[d].id());break}}if(this.q.M.Tj)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].id()==this.q.M.Xi){b.data().touches()[d].kf(S.Oi);break}},hp:function(a,b){var c=T.lf(b,S.Ra),d;d=this.q.M.La.type()===S.cb?S.cb:S.Fa;a.Nf(d);T.Bh(a,b);return c?S.ab:this.q.M.state()===S.xa||
this.q.M.state()===S.xc?S.xc:S.xa},Ok:function(){var a;for(a=0;a<this.Od.length;++a)this.Od[a].Mf(S.Ea)},Ip:function(a){var b,c;for(b=0;b<a.touches().length;++b)c=a.touches()[b],this.q.fv(c)||this.q.ps(c)||WebvisuLogger.error("Could not store touch information; probably a touch release/up was missing")},To:function(a,b){return this.uq(a)?(this.De.Ju(b.it(T.Us(a),a)),k):o},Op:function(a,b){T.ae(this.q.M.La.type())&&T.Bh(this.q.M.La,a);this.Ue(S.ab,this.q.M.La,a,b)},uq:function(a){if(this.q.M.state()===
S.Ea)return k;if(T.ae(this.q.M.La.type()))return T.lf(a,S.lb);if(this.q.M.Ud.length!==a.touches().length)return k;var b;for(b=0;b<a.touches().length;++b)if(!this.q.M.Gt(a.touches()[b].id()))return k;return o},wg:function(a,b){if(this.wp){var c="";switch(a){case S.Ea:WebvisuLogger.Q("No gesture");return;case S.vd:c="Gesture (candidate); ";break;case S.xa:c="Gesture (new); ";break;case S.ab:c="Gesture (finished); ";break;case S.xc:return;case S.ab:c="Gesture (finished); ";break;case S.kb:c="Gesture (cancelled); "}c+=
b.data().rf();WebvisuLogger.Q(c)}}};var fd;fd=function(){this.N=S.Ea;this.La=new Oc;this.Ud=[];this.Tj=o;this.Xi=-1};fd.prototype={state:t("N"),Mf:s("N"),zu:function(a){this.Tj=k;this.Xi=a},assign:function(a,b){this.N=a;this.La=b},xl:function(a){var b;this.Ud=[];for(b=0;b<a.touches().length;++b)this.Ud.push(a.touches()[b].id())},Gt:function(a){var b;for(b=0;b<this.Ud.length;++b)if(this.Ud[b]===a)return k;return o}};var dd;dd=function(){this.$v=o;this.Ie=l};dd.prototype={Ju:s("Ie")};var ed;
ed=function(a,b){this.N=a;this.La=b};ed.prototype={state:t("N")};var cd;cd=function(){this.ic=[];this.M=new fd};cd.prototype={fv:function(a){var b;for(b=0;b<this.ic.length;++b)if(this.ic[b].id===a.id())return a.location().Du(this.ic[b].ce),a.m(S.Ra)?this.ic.splice(b,1):this.ic[b].ce=a.location().ce(),k;return o},ps:function(a){if(this.ic.length===S.ag)return o;this.ic.push({id:a.id(),ce:a.location().sa});return k},tm:function(){this.M=new fd}};var bd;
bd=function(a){this.Qp=a.GesturesFlickPanThresholdPxPerSecond;this.jr=a.GesturesPanFlickTimeThresholdMs;this.cs=a.GesturesTouchMouseTimeThresholdMs;this.ir=a.GesturesPanClickThresholdDistSquare};bd.prototype={un:t("Qp"),Hn:t("jr"),ro:t("cs")};var Pc;Pc=function(a){a===i&&(a=new z(0,0));this.ma=a;this.Na=new z(0,0);this.Vc=0};
Pc.prototype={type:function(){return S.nb},ua:function(){var a=new Pc(this.ma);a.Wd(this);return a},rf:function(){return H.U("Flick: start({0}), overall move({1}), velocity {2}",H.cc(this.ma),H.cc(this.Na),this.Vc)},createEvent:function(a,b){var c=new E(F.en,a,b.id(),0),d,e;d=L.r(12);e=P.r(d,k);e.B(this.ma.Wb());e.B(this.Na.Wb());e.B(this.Vc);c.Ya(d);return c},Wd:function(a){this.ma=a.ma;this.Na=a.Na;this.Vc=a.Vc},start:t("ma"),Vu:s("Vc"),Sh:function(a){this.Na=a.ac(this.ma)}};var Sc;
Sc=function(a){this.Vd=a;this.V=[]};
Sc.prototype={type:function(){return this.Vd?S.Fa:S.cb},touches:t("V"),Hs:function(){this.V=[]},Yc:function(a,b,c){a=new Mc(a,b,c);if(a.m(S.Ra)||a.m(S.lb))this.Zv=k;this.V.push(a)},ua:function(){var a=new Sc(this.Vd);a.V=this.V.slice(0);return a},rf:function(){var a="",b="",c,a=this.Vd?"TouchToMouse":"IEC-Touches";for(c=0;c<this.V.length;++c)if(2>c)b+=H.U("[{0}, {1}]({2}) ",c,this.V[c].yb(),H.cc(this.V[c].location().sa));else{b+="...";break}return H.U("{0} ({1}): {2}",a,this.V.length,b)},createEvent:function(a,
b){var c,d=c=0,e,f,g,j,n=k,m;this.Vd||(c=b.id());d=this.V.length;m=this.Vd?F.kn:F.fn;e=L.r(8*this.V.length);f=P.r(e,k);for(g=0;g<this.V.length;++g){f.B(this.V[g].location().sa.Wb());j=255&this.Eq(this.V[g]);this.V[g].m(S.mb)||(n=o);if(this.V[g].m(S.se)||this.V[g].m(S.Oi))j|=256;j|=(this.V[g].id()&65535)<<16>>>0;f.B(j)}n&&m++;c=new E(m,a,c,d);c.Ya(e);return c},Eq:function(a){return a.m(S.mb)?2:a.m(S.Ra)?3:a.m(S.lb)?1:0}};var Qc;Qc=function(a){a===i&&(a=new z(0,0));this.ma=a;this.Na=new z(0,0)};
Qc.prototype={type:function(){return S.ya},ua:function(){var a=new Qc(this.ma);a.Wd(this);return a},Wd:function(a){this.ma=a.ma;this.Na=a.Na},Rl:function(a){this.Na=a.scroll().ta},yl:function(a,b){var c=a.info().scroll();b===S.xa&&c.uu(this.ma);c.Za(this.Na);return a.Cl()},rf:function(){return H.U("Pan: start({0}), overall move({1})",H.cc(this.ma),H.cc(this.Na))},createEvent:function(a,b){var c=new E(F.hn,a,b.id(),0),d,e;d=L.r(8);e=P.r(d,k);e.B(b.info().scroll().rj.Wb());e.B(b.info().scroll().ta.Wb());
c.Ya(d);return c},start:t("ma"),Sh:function(a){this.Na=a.ac(this.ma)}};var Rc;Rc=function(){this.ih=new z(0,0);this.fj=new z(0,0);this.yk=1;this.Se=this.ef=0};
Rc.prototype={type:function(){return S.Gb},ua:q(),rf:u("SpreadPinch: "),Rl:function(a){this.yk=a.zoom().eb},yl:function(a,b){var c=a.info().zoom(),d=a.info().scroll();b===S.xa&&c.kd(this.ih);c.kd(this.fj);c.ld(this.yk);c.Ru(this.ef);c.Mu(this.Se);d.Za(this.fj.ac(this.ih));c=a.Cl();$.rc(c,$.Sf)&&this.xq(a)&&(c=$.fu(c));return c},createEvent:function(a,b){var c=new E(F.jn,a,b.id(),0),d,e,f,g;g=b.info().zoom();d=L.r(16);e=P.r(d,k);e.B(g.za.Wb());e.B(g.sb.Wb());e.B(65536*g.eb);f=65536*(g.ef/2/Math.PI);
g=65536*(g.orientation()/2/Math.PI);e.B(f|g<<16);c.Ya(d);return c},xq:function(a){return 400>a.info().scroll().Rs.zh(new z(0,0))}};var ad;ad=q();ad.prototype={fe:function(){return S.Ea},state:function(){return S.Ea},Mf:q()};var $c;$c=function(){this.N=S.Ea;this.ff=0;this.Vr=this.qa=this.Pc=this.Qg=l;this.rb=-1};
$c.prototype={fe:function(a,b,c){var d,e=a.De.Ie;if(T.ts(b,S.Ra)){if(this.N===S.vd)this.qa=S.Fb,this.rb=S.Fa,this.fk(a,b);this.N=this.Po()}else switch(d=b.touches()[0].location(),this.N){case S.Ea:if(e.Vf)return S.Ea;e.vi?(this.qa=S.Fb,this.rb=S.Fa,this.N=S.xa):e.cg||e.Yf?(this.qa=S.Fb,e.cg&&(this.qa|=S.re),e.Yf&&(this.qa|=S.qe),this.N=S.vd):(this.qa=S.Fb,this.rb=S.Fa,this.N=S.xa);this.oq(b);break;case S.vd:if(d=d.sa.zh(d.ce())>a.af.ir)this.qa===S.re?this.Pe(b,S.ya):this.qa===S.qe?this.Pe(b,S.nb):
(d=b.timeStamp()-this.ff>a.af.Hn)&&(this.Pc.Vc<a.af.un?this.Pe(b,S.ya):this.Pe(b,S.nb));else if(d=b.timeStamp()-this.ff>a.af.ro)this.qa=S.Fb,this.rb=S.Fa,this.fk(a,b),this.N=S.xc;break;default:this.hl(b),this.N=S.xc}if(this.N>=S.wd)switch(c.Nf(this.rb),this.rb){case S.ya:c.data().Wd(this.Qg);break;case S.nb:c.data().Wd(this.Pc);break;case S.cb:case S.Fa:T.Bh(c,b);break;default:h(Error("unexpected"))}return this.N},state:t("N"),Mf:s("N"),oq:function(a){a=a.touches()[0].location().sa;this.ff=H.T();
this.Pc=new Pc(a);this.Qg=new Qc(a);this.Vr=a},Pe:function(a,b){this.hl(a);this.qa=S.Fb;this.rb=b;this.N=S.xa},fk:function(a,b){a.Ft(b.touches()[0].location().sa,b.touches()[0].id())},hl:function(a){var b=a.touches()[0].location().sa,c;(this.rb===S.ya||this.qa!==S.Fb)&&this.Qg.Sh(b);if(this.rb===S.nb||this.qa!==S.Fb)c=this.Pc.start().Xs(b),a=a.timeStamp()-this.ff,1.0E-6>a&&(a=10),this.Pc.Vu(1E3*(c/a)),this.Pc.Sh(b)},Po:function(){return this.N===S.Ea?S.Ea:S.ab}};var xc;
xc=function(a,b,c){this.Jg=a;this.ka=b;this.Ka=c;this.vb=new gd};
xc.prototype={id:t("Jg"),yb:t("Ka"),kf:function(a){this.Ka|=a},m:function(a){return(this.Ka&a)===a},info:t("vb"),Zc:function(a){return a.c>=this.ka.f&&a.c<=this.ka.s&&a.b>=this.ka.g&&a.b<=this.ka.w},Ve:function(a,b,c,d){if(!$.rc(d,$.Rf)){var e=Math.abs(b.c-c.c),b=Math.abs(b.b-c.b);if($.rc(a,$.Wh)&&e>b||$.rc(a,$.Xh)&&b>e)d=$.hb(d,a)}return d},Cl:function(){var a=$.bg,b=this.vb.zoom(),c=this.vb.scroll(),d=b.eb,e=c.ta,f=this.Ml();d<b.I.ga&&(a=$.hb(a,$.hg),a=$.hb(a,$.Uf));d>b.I.fa&&(a=$.hb(a,$.gg),a=
$.hb(a,$.Tf));e.c<f.f&&(a=$.hb(a,$.td),a=this.Ve($.$h,e,c.I.ga,a));e.b<f.g&&(a=$.hb(a,$.ud),a=this.Ve($.ai,e,c.I.ga,a));e.c>f.s&&(a=$.hb(a,$.vc),a=this.Ve($.Yh,e,c.I.fa,a));e.b>f.w&&(a=$.hb(a,$.wc),a=this.Ve($.Zh,e,c.I.fa,a));return a},Ml:function(){var a,b;b=this.ka.ge().ac(this.vb.scroll().I.fa);a=this.ka.pf().ac(this.vb.scroll().I.ga);a=(new M(b.c,b.b,a.c,a.b)).Es(this.vb.zoom().za,this.vb.zoom().eb);b=this.ka.ge().ac(a.ge());a=this.ka.pf().ac(a.pf());a=new M(b.c,b.b,a.c,a.b);b=a.pf().min(this.vb.scroll().I.ga);
a=a.ge().min(this.vb.scroll().I.fa);return new M(b.c,b.b,a.c,a.b)}};var yc;yc={bg:0,Ii:1,uo:3,Hv:4,pi:8,Li:16,Qi:32,Hi:64,Mn:128};var gd;gd=function(){this.ns=new hd;this.Ir=new id};gd.prototype={zoom:t("ns"),scroll:t("Ir")};var id;id=function(){this.I=new jd;this.rj=new z(0,0);this.ta=new z(0,0)};id.prototype={uu:s("rj"),Rs:t("ta"),Za:s("ta")};var hd;hd=function(){this.I=new td;this.za=new z(0,0);this.sb=new z(0,0);this.eb=1;this.Se=this.ef=0};
hd.prototype={kd:s("za"),ld:s("eb"),Ru:s("ef"),orientation:t("Se"),Mu:s("Se")};var Wc;Wc=function(){this.L=[]};
Wc.prototype={Sl:function(a){var b,c;switch(a.type()){case S.Gb:c=yc.uo;break;case S.ya:c=yc.Ii;break;case S.nb:c=yc.pi;break;case S.cb:c=yc.Li;break;default:c=0}for(b=0;b<this.L.length;++b)if(this.L[b].m(c)&&(a.type()===S.Gb&&this.L[b].Zc(a.data().ih)||a.type()===S.ya&&this.L[b].Zc(a.data().start())||a.type()===S.nb&&this.L[b].Zc(a.data().start())||a.type()===S.cb&&this.Ui(a.data().touches(),this.L[b])))return this.L[b];return l},et:function(a){var b;for(b=0;b<this.L.length;++b)if(this.L[b].m(yc.Li)&&
this.Ui(a.touches(),this.L[b]))return this.L[b];return l},ss:function(a){var b,c,d=[];for(b=0;b<this.L.length;++b)for(c=0;c<a.touches().length;++c)d[c]||this.L[b].Zc(a.touches()[c].location().sa)&&this.L[b].m(yc.Mn)&&(d[c]=k);for(c=0;c<a.touches().length;++c)if(d[c]!==k)return o;return k},Gs:function(a,b){b[0]=o;b[1]=o;if(1===a.touches().length){var c,d=a.touches()[0].location().sa,e;for(c=0;c<this.L.length&&(!this.L[c].Zc(d)||!(e=o,this.L[c].m(yc.Ii)&&(e=b[0]=k),this.L[c].m(yc.pi)&&(e=b[1]=k),!e));++c);
}},clear:function(){this.L=[]},rh:function(a){this.L.unshift(a)},Ui:function(a,b){var c;for(c=0;c<a.length;++c)if(!b.Zc(a[c].location().sa))return o;return k}};var jd;jd=function(){this.ga=new z(0,0);this.fa=new z(0,0)};jd.prototype={Hu:s("ga"),Fu:s("fa")};var td;td=function(){this.fa=this.ga=0};td.prototype={Iu:s("ga"),Gu:s("fa")};var qb;qb=function(a){this.a=a;this.Rc=this.Ac=this.ek=o;this.Vg=this.Bk=this.Pg=0;this.Nb=l;this.Wg=o};
qb.prototype={Xu:function(){this.ek||this.rq();if(this.Ac)this.Bk=H.ke()},at:function(a){if(this.Ac&&!a){a=H.ke();if(this.Wg)this.Pg=a-this.Vg,this.Rc&&this.Hk(this.Pg,2),this.Wg=o;this.Rc&&this.Hk(a-this.Bk,1)}},Nt:function(a){if(this.Ac)this.Vg=H.ke(),this.Nb=y.me(a)},dv:function(a){if(this.Ac)this.Vg=H.ke(),this.Nb=a},eu:function(a){if(this.Ac&&this.Nb!==l&&!(this.Nb.c<a.f||this.Nb.c>a.s))if(!(this.Nb.b<a.g||this.Nb.b>a.w))this.Nb=l,this.Wg=k},It:function(){return Math.round(this.Pg/1E3)},Hk:function(a,
b){var c;c=new E(F.ni,this.a.n.Y,b,a&4294967295);c.Pu();this.a.Xb(c)},rq:function(){var a=this.a.j;this.Ac=a.Benchmarking||a.DebugOnlyDiagnosisDisplay;this.Rc=a.Benchmarking;this.ek=k}};var Xa;Xa=function(){this.clear()};Xa.prototype={clear:function(){this.L=[]},rh:function(a){this.L.push(a)},vs:function(a){a.beginPath();for(var b=0;b<this.L.length;++b)a.rect(this.L[b].f-1,this.L[b].g-1,this.L[b].i()+2,this.L[b].h()+2);a.clip()}};var Rb;
Rb=function(a,b){this.Go=a;this.bf=b;this.aj=[];this.sj=[];var c,d=this.as(this.Go);for(c=0;c<this.bf;++c){var e=Math.floor(d.na+(c+1)*(128-Math.floor(d.na/2))/this.bf);this.aj[this.bf-c-1]=this.dl(d.va,d.jd,e,d.qh);e=Math.floor(Math.floor(d.na/3)+Math.floor(2*c*d.na/(3*this.bf)));this.sj[c]=this.dl(d.va,d.jd,e,d.qh)}};
Rb.prototype={kt:function(a){return this.aj[a]},Ul:function(a){return this.sj[a]},as:function(a){var b={},c,d,e,f,g,j,n;e=((a&4278190080)>>24)/255;c=((a&16711680)>>16)/255;d=((a&65280)>>8)/255;a=(a&255)/255;f=Math.min(c,Math.min(d,a));g=Math.max(c,Math.max(d,a));j=g-f;b.na=(f+g)/2;if(0===j)b.va=b.jd=0;else{b.jd=0.5>b.na?j/(g+f):j/(2-g-f);f=((g-c)/6+j/2)/j;n=((g-d)/6+j/2)/j;j=((g-a)/6+j/2)/j;if(c===g)b.va=j-n;else if(d===g)b.va=1/3+f-j;else if(a===g)b.va=2/3+n-f;0>b.va&&(b.va+=1);1<b.va&&(b.va-=1)}b.va=
Math.round(255*b.va);b.jd=Math.round(255*b.jd);b.na=Math.round(255*b.na);b.qh=Math.round(255*e);return b},dl:function(a,b,c,d){var e,f;0===b?c=f=a=c:(a/=255,b/=255,c/=255,b=0.5>c?c*(1+b):c+b-c*b,e=2*c-b,c=Math.round(255*this.Ig(e,b,a+1/3)),f=Math.round(255*this.Ig(e,b,a)),a=Math.round(255*this.Ig(e,b,a-1/3)));return(d<<24)+(c<<16)+(f<<8)+a},Ig:function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}};var ib;ib=q();
ib.prototype={rs:function(a,b){this.Or(a,b,90)},zt:function(a){return(a=this.Xp(a))&&""!==a},Or:function(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*c);document.cookie=a+"="+b+"; "+("expires="+d.toUTCString())},Xp:function(a){var a=a+"=",b,c,d;b=document.cookie.split(";");for(c=0;c<b.length;c++){for(d=b[c];" "==d.charAt(0);)d=d.substring(1);if(-1!=d.indexOf(a))return d.substring(a.length,d.length)}return""}};var fb;fb=function(a){this.a=a;this.ra=[]};
fb.prototype={qf:function(a){if(this.a.j!==l&&this.a.j.DebugOnlyDiagnosisDisplay){this.Do();var b,c;b=13*this.ra.length+3;a.save();a.strokeStyle="rgb(0,0,0)";a.fillStyle="rgb(220,220,220)";a.font="10px Arial";a.beginPath();a.rect(10,10,150,b);a.clip();a.fillRect(10,10,150,b);a.strokeRect(10,10,150,b);a.fillStyle="rgb(0,0,0)";a.textAlign="left";a.textBaseline="top";for(b=0;b<this.ra.length;++b)c=H.U("{0}: {1}",this.ra[b].title,this.ra[b].od()),a.fillText(c,13,13+13*b);a.restore()}},Do:function(){if(0===
this.ra.length){var a=this.a.Sc,b=this.a.S,c=this;this.ra.push({title:"DPR",od:function(){return b.cm()?H.U("{0} (Changed)",y.rd()):y.rd()}});this.ra.push({title:"Canvas-Size",od:function(){return H.U("{0}/{1}",b.oc().i(),b.oc().h())}});this.ra.push({title:"Resize-Count",od:function(){return a!==l?a.uk:"---"}});this.ra.push({title:"Window-Size",od:function(){return H.U("{0}/{1}",window.innerWidth,window.innerHeight)}});this.ra.push({title:"DocElem-Size",od:function(){return H.U("{0}/{1}",document.documentElement.clientWidth,
document.documentElement.clientHeight)}});this.ra.push({title:"Last Input Raction (*)",od:function(){return H.U("{0}",c.a.Ec.It())}})}}};var pb;pb=function(a){this.a=a;this.Ha=l;this.sg=this.jf=o};
pb.prototype={hm:function(){return this.Ha!==l},open:function(a,b){this.Ha=a;this.jf=b;var c=this;this.Ha.addEventListener("keydown",function(a){c.Ap(a)},o);window.document.body.appendChild(this.Ha)},close:function(){this.Ha!==l&&window.document.body.removeChild(this.Ha);this.Ha=l},uh:function(a){var b,c,d;if(!this.sg)c=H.eg(this.Ha),b=this.Ha.value.length+1,this.jf&&(b*=2),d=L.r(b),P.r(d,this.a.n.wa,this.a.$d()).Vb(this.Ha.value,this.jf),b=new E(F.mn,this.a.n.Y,a?this.jf?3:1:2,0),b.Ya(d),b.bc=c.em(4),
this.a.Ta.push(b),a?this.sg=k:this.close()},mu:function(){this.sg=o},Ap:function(a){this.Ha!==l&&(27===a.keyCode?(a.preventDefault(),a.stopPropagation(),this.uh(o)):13===a.keyCode&&this.uh(k))}};var rb;rb=function(a){this.vg=a.ia();this.Nc=a.$d()};rb.prototype={};var Gb;Gb=function(a){a===i&&(a=l);this.Qe=a};
Gb.prototype={Eo:function(){if(this.Qe===l)try{this.Qe=(new Configuration).$d()}catch(a){this.Qe={Xd:u(63)}}},Ol:function(a){this.Eo();a=this.Qe.Xd(String.fromCharCode(a));return 1===a.length?a[0]:63}};var ua;ua=function(a){try{this.kr(a)}catch(b){h(Error("Parsing the fontstring '"+a+"' failed for the following reason: "+b))}};
ua.prototype={kr:function(a){var b=l,c=l,d,e=o,f=a.split(/\s+/);for(d=0;d<f.length;++d){var g=f[d];switch(g){case "normal":break;case "italic":case "oblique":break;case "small-caps":break;case "bold":case "bolder":case "lighter":case "100":case "200":case "300":case "400":case "500":case "600":case "700":case "800":case "900":break;default:if(c===l){g=g.split("/");g=H.yc(g[0]);"p"===g.charAt(g.length-2)&&"x"===g.charAt(g.length-1)&&(c=parseInt(g.substr(0,g.length-2),10));break}b=g;d<f.length-1&&(b+=
" "+f.slice(d+1).join(" "));e=k}if(e)break}b===l&&h(Error("Font Family/Name missing"));(c===l||isNaN(c))&&h(Error("Invalid or unsupported font Size"));this.vv=b;this.vn=c;this.qi=a}};var z;z=function(a,b){this.c=a;this.b=b};
z.prototype={Im:function(a){this.c-=a.c;this.b-=a.b;return this},ac:function(a){return this.ua().Im(a)},Zu:function(a){a=this.ac(a);return new A(a.c,a.b)},min:function(a){return new z(Math.min(this.c,a.c),Math.min(this.b,a.b))},max:function(a){return new z(Math.max(this.c,a.c),Math.max(this.b,a.b))},fd:function(a){this.c+=a.c;this.b+=a.b;return this},$b:function(a){return this.ua().fd(a)},Rt:function(a){this.c+=a.F;this.b+=a.D;return this},Nh:function(a){return this.ua().Rt(a)},Wb:function(){return(this.b>>>
0&65535|this.c>>>0<<16)>>>0},Xs:function(a){return Math.sqrt(this.zh(a))},zh:function(a){return(this.c-a.c)*(this.c-a.c)+(this.b-a.b)*(this.b-a.b)},ua:function(){return new z(this.c,this.b)}};var M;M=function(a,b,c,d,e){this.f=a;this.g=b;this.s=c;this.w=d;this.Qa=e!==i?e:l};
M.prototype={i:function(){return this.s-this.f},h:function(){return this.w-this.g},mt:function(){return new z((this.f+this.s)/2,(this.g+this.w)/2)},ua:function(){return new M(this.f,this.g,this.s,this.w,this.Qa)},ge:function(){return new z(this.f,this.g)},pf:function(){return new z(this.s,this.w)},Es:function(a,b){var c=this.size().scale(b),d=this.ge().Im(a),d=(new A(d.c,d.b)).scale(b),d=a.Nh(d),c=d.Nh(c);return new M(d.c,d.b,c.c,c.b)},size:function(){return new A(this.i(),this.h())},$b:function(a,
b){return new M(this.f+a,this.g+b,this.s+a,this.w+b,this.Qa)},em:function(a){return new M(this.f-a,this.g-a,this.s+a,this.w+a,this.Qa)},uf:function(a){return this.f===a.f&&this.g===a.g&&this.s===a.s&&this.w===a.w},normalize:function(){var a;if(this.f>this.s)a=this.s,this.s=this.f,this.f=a;if(this.g>this.w)a=this.w,this.w=this.g,this.g=a},Ot:function(){var a=this.ua();a.normalize();return a}};var xb;xb=function(a){this.a=a;this.Ad=l;this.yj=o;this.uk=0;this.vk=y.rd()};
xb.prototype={ws:function(){var a=this;this.Ad=function(){a.Zq()};window.addEventListener("resize",this.Ad,o)},detach:function(){if(this.Ad!==l)window.removeEventListener("resize",this.Ad,o),this.Ad=l},Zq:function(){var a=y.rd(),b=this.yj?a:1;if(a!==this.vk)this.yj=k,this.vk=b=a,this.a.S.Pt();this.uk++;this.a.S.Pl(b);this.n!==l&&this.j!==l&&this.a.xu(E.hi(this.a.n.Y,this.a.j.BestFit,this.a.j.ScaleTypeIsotropic,this.a.S.oc()))}};var A;A=function(a,b){this.F=a;this.D=b};
A.prototype={scale:function(a){return new A(this.F*a,this.D*a)}};var tb;tb=function(a,b){function c(){d.Ut();d.Td=window.setTimeout(c,e)}this.O=a;this.kc=b;this.aw=0;this.kc.clear();this.Aq=H.T();this.ub=l;var d=this,e=y.Gi()?400:50;this.Td=window.setTimeout(c,e)};
tb.prototype={close:function(){this.kc.clear();window.clearInterval(this.Td)},Ut:function(){var a=this.kc.p,b=this.kc.oc(),c=2*Math.PI/6,d=(2*Math.PI-5*c)/5,e=250/3,f=10+e,g=2*Math.PI*(H.T()-this.Aq)/6E3,j=1;a.save();if(250>b.i()||250>b.h())j=0.9*Math.min(b.i()/250,b.h()/250);a.scale(j,j);a.translate(Math.max(5,(b.i()-250)/2),Math.max(5,(b.h()-250)/2));a.strokeStyle="#a90018";a.lineWidth=4;a.strokeRect(0,0,250,250);a.fillStyle="#f4f4f4";a.fillRect(0,0,250,250);for(b=0;5>b;++b)a.save(),a.translate(125,
f),a.rotate(g+b*(c+d)),this.up(a,c,e,"#cd001c"),a.restore();this.ub===l&&this.gp(a,250);a.font=this.ub;a.textAlign="center";a.textBaseline="bottom";a.fillStyle="#000000";a.fillText(this.O,125,2750/12);a.restore()},gp:function(a,b){var c=40;for(a.font=this.Yj(c);2<c&&a.measureText(this.O).width>=0.95*b;)c-=2,a.font=this.Yj(c);this.ub=a.font},Yj:function(a){return"italic "+a+"px Arial"},up:function(a,b,c,d){var e=0.9*c;a.beginPath();a.moveTo(0,-c);a.arc(0,0,c,-Math.PI/2,b-Math.PI/2,o);a.lineTo(Math.sin(b)*
e,-(Math.cos(b)*e));a.arc(0,0,e,b-Math.PI/2,-Math.PI/2,k);a.lineTo(0,-c);a.closePath();a.strokeStyle=d;a.fillStyle=a.strokeStyle;a.stroke();a.fill()}};var eb;eb=function(a){this.kc=a;this.Tc=[]};eb.prototype={clear:function(){this.Tc=[]},i:function(a){return this.Tc[a].c},h:function(a){return this.Tc[a].b},qs:function(a){a=B.uc(this.kc.getContext(),a,k);this.Tc.push(new z(a,H.si(this.kc)))}};var wc;wc=function(){this.ok=this.pk=this.qk=this.rk=this.Bj=this.Cj=this.Sa=l};
wc.sv=function(a){var b=new wc;b.Sa=a;return b};wc.Wm=function(a,b,c,d,e,f){var g=new wc;g.ok=a;g.pk=b;g.qk=c;g.rk=d;g.Bj=e;g.Cj=f;return g};wc.prototype={of:function(a,b){this.Sa!==l?this.Gr(a,b):this.Bo(a)},Gr:function(a,b){a.translate(b.f,b.g);a.rotate(this.Sa);a.translate(-b.f,-b.g)},Bo:function(a){a.transform(this.ok,this.pk,this.qk,this.rk,this.Bj,this.Cj)}};var Wa;
Wa={xi:function(a){if(a!==l){if("false"===a.toLowerCase())return o;if("true"===a.toLowerCase())return k}return l},ui:function(a){a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return a===l?l:a[1]}};Wa.xn=function(){var a=Wa.ui("WorkaroundDisableDPRBasedZoom");return a!==l?Wa.xi(a):o};var H;H=q();H.Kq=function(){var a=window.performance||{};a.now=function(){return a.now||a.Kx||a.ax||a.bx||a.$w||function(){return(new Date).getTime()}}();return a.now()};
H.ri=function(a){var b=window.location,c;c=b.pathname.lastIndexOf("/");-1!=c&&(a=b.pathname.substr(0,c+1)+a,"/"===a[0]&&(a=a.substr(1)));return b.protocol+"//"+b.host+"/"+a};H.T=function(){return(new Date).getTime()};H.ke=function(){return 1E3*H.Kq()};H.si=function(a){return H.Zf(a.z().Qj)};H.Zf=function(a){return 1.15*a};H.eg=function(a){var b=0,c=0,d=a;do b+=d.offsetLeft,c+=d.offsetTop;while((d=d.offsetParent)!==l);return new M(b,c,b+a.offsetWidth,c+a.offsetHeight)};
H.dg=function(a,b){var c;c=b instanceof M?new z(b.f,b.g):b;a.style.position="absolute";a.style.left=Math.floor(c.c)+"px";a.style.top=Math.floor(c.b)+"px";if(b instanceof M)a.style.width=Math.floor(b.i())+"px",a.style.height=Math.floor(b.h())+"px"};H.U=function(){var a=arguments,b,c;if(0===a.length)return"";b=a[0];for(a=1;a<arguments.length;a++)c=RegExp("\\{"+(a-1)+"\\}","gi"),b=b.replace(c,arguments[a]);return b};H.On=function(a){return H.U("{0}/{1} {2}/{3}",a.f,a.g,a.s,a.w)};
H.cc=function(a){return H.U("{0}/{1}",a.c,a.b)};H.Nv=function(a){return H.U("{0}/{1}",a.F,a.D)};H.cn=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};H.yc=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};
